var mR=Object.defineProperty;var n0=e=>{throw TypeError(e)};var pR=(e,t,r)=>t in e?mR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var rt=(e,t,r)=>pR(e,typeof t!="symbol"?t+"":t,r),Np=(e,t,r)=>t.has(e)||n0("Cannot "+r);var se=(e,t,r)=>(Np(e,t,"read from private field"),r?r.call(e):t.get(e)),He=(e,t,r)=>t.has(e)?n0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Me=(e,t,r,s)=>(Np(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),It=(e,t,r)=>(Np(e,t,"access private method"),r);var Dd=(e,t,r,s)=>({set _(a){Me(e,t,a,r)},get _(){return se(e,t,s)}});function fR(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(s,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();function Jg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var l1={exports:{}},Xh={},c1={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jc=Symbol.for("react.element"),xR=Symbol.for("react.portal"),gR=Symbol.for("react.fragment"),vR=Symbol.for("react.strict_mode"),yR=Symbol.for("react.profiler"),jR=Symbol.for("react.provider"),wR=Symbol.for("react.context"),NR=Symbol.for("react.forward_ref"),bR=Symbol.for("react.suspense"),SR=Symbol.for("react.memo"),CR=Symbol.for("react.lazy"),r0=Symbol.iterator;function ER(e){return e===null||typeof e!="object"?null:(e=r0&&e[r0]||e["@@iterator"],typeof e=="function"?e:null)}var d1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},u1=Object.assign,h1={};function tl(e,t,r){this.props=e,this.context=t,this.refs=h1,this.updater=r||d1}tl.prototype.isReactComponent={};tl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};tl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function m1(){}m1.prototype=tl.prototype;function Zg(e,t,r){this.props=e,this.context=t,this.refs=h1,this.updater=r||d1}var ev=Zg.prototype=new m1;ev.constructor=Zg;u1(ev,tl.prototype);ev.isPureReactComponent=!0;var s0=Array.isArray,p1=Object.prototype.hasOwnProperty,tv={current:null},f1={key:!0,ref:!0,__self:!0,__source:!0};function x1(e,t,r){var s,a={},o=null,i=null;if(t!=null)for(s in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)p1.call(t,s)&&!f1.hasOwnProperty(s)&&(a[s]=t[s]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var d=Array(l),c=0;c<l;c++)d[c]=arguments[c+2];a.children=d}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)a[s]===void 0&&(a[s]=l[s]);return{$$typeof:Jc,type:e,key:o,ref:i,props:a,_owner:tv.current}}function PR(e,t){return{$$typeof:Jc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function nv(e){return typeof e=="object"&&e!==null&&e.$$typeof===Jc}function kR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var a0=/\/+/g;function bp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?kR(""+e.key):t.toString(36)}function wu(e,t,r,s,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Jc:case xR:i=!0}}if(i)return i=e,a=a(i),e=s===""?"."+bp(i,0):s,s0(a)?(r="",e!=null&&(r=e.replace(a0,"$&/")+"/"),wu(a,t,r,"",function(c){return c})):a!=null&&(nv(a)&&(a=PR(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(a0,"$&/")+"/")+e)),t.push(a)),1;if(i=0,s=s===""?".":s+":",s0(e))for(var l=0;l<e.length;l++){o=e[l];var d=s+bp(o,l);i+=wu(o,t,r,d,a)}else if(d=ER(e),typeof d=="function")for(e=d.call(e),l=0;!(o=e.next()).done;)o=o.value,d=s+bp(o,l++),i+=wu(o,t,r,d,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Rd(e,t,r){if(e==null)return e;var s=[],a=0;return wu(e,s,"","",function(o){return t.call(r,o,a++)}),s}function TR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var en={current:null},Nu={transition:null},AR={ReactCurrentDispatcher:en,ReactCurrentBatchConfig:Nu,ReactCurrentOwner:tv};function g1(){throw Error("act(...) is not supported in production builds of React.")}Fe.Children={map:Rd,forEach:function(e,t,r){Rd(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Rd(e,function(){t++}),t},toArray:function(e){return Rd(e,function(t){return t})||[]},only:function(e){if(!nv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Fe.Component=tl;Fe.Fragment=gR;Fe.Profiler=yR;Fe.PureComponent=Zg;Fe.StrictMode=vR;Fe.Suspense=bR;Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AR;Fe.act=g1;Fe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=u1({},e.props),a=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=tv.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(d in t)p1.call(t,d)&&!f1.hasOwnProperty(d)&&(s[d]=t[d]===void 0&&l!==void 0?l[d]:t[d])}var d=arguments.length-2;if(d===1)s.children=r;else if(1<d){l=Array(d);for(var c=0;c<d;c++)l[c]=arguments[c+2];s.children=l}return{$$typeof:Jc,type:e.type,key:a,ref:o,props:s,_owner:i}};Fe.createContext=function(e){return e={$$typeof:wR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:jR,_context:e},e.Consumer=e};Fe.createElement=x1;Fe.createFactory=function(e){var t=x1.bind(null,e);return t.type=e,t};Fe.createRef=function(){return{current:null}};Fe.forwardRef=function(e){return{$$typeof:NR,render:e}};Fe.isValidElement=nv;Fe.lazy=function(e){return{$$typeof:CR,_payload:{_status:-1,_result:e},_init:TR}};Fe.memo=function(e,t){return{$$typeof:SR,type:e,compare:t===void 0?null:t}};Fe.startTransition=function(e){var t=Nu.transition;Nu.transition={};try{e()}finally{Nu.transition=t}};Fe.unstable_act=g1;Fe.useCallback=function(e,t){return en.current.useCallback(e,t)};Fe.useContext=function(e){return en.current.useContext(e)};Fe.useDebugValue=function(){};Fe.useDeferredValue=function(e){return en.current.useDeferredValue(e)};Fe.useEffect=function(e,t){return en.current.useEffect(e,t)};Fe.useId=function(){return en.current.useId()};Fe.useImperativeHandle=function(e,t,r){return en.current.useImperativeHandle(e,t,r)};Fe.useInsertionEffect=function(e,t){return en.current.useInsertionEffect(e,t)};Fe.useLayoutEffect=function(e,t){return en.current.useLayoutEffect(e,t)};Fe.useMemo=function(e,t){return en.current.useMemo(e,t)};Fe.useReducer=function(e,t,r){return en.current.useReducer(e,t,r)};Fe.useRef=function(e){return en.current.useRef(e)};Fe.useState=function(e){return en.current.useState(e)};Fe.useSyncExternalStore=function(e,t,r){return en.current.useSyncExternalStore(e,t,r)};Fe.useTransition=function(){return en.current.useTransition()};Fe.version="18.3.1";c1.exports=Fe;var p=c1.exports;const pe=Jg(p),Zc=fR({__proto__:null,default:pe},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MR=p,DR=Symbol.for("react.element"),RR=Symbol.for("react.fragment"),FR=Object.prototype.hasOwnProperty,_R=MR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,OR={key:!0,ref:!0,__self:!0,__source:!0};function v1(e,t,r){var s,a={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(s in t)FR.call(t,s)&&!OR.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:DR,type:e,key:o,ref:i,props:a,_owner:_R.current}}Xh.Fragment=RR;Xh.jsx=v1;Xh.jsxs=v1;l1.exports=Xh;var n=l1.exports,y1={exports:{}},Mn={},j1={exports:{}},w1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,R){var V=F.length;F.push(R);e:for(;0<V;){var B=V-1>>>1,H=F[B];if(0<a(H,R))F[B]=R,F[V]=H,V=B;else break e}}function r(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var R=F[0],V=F.pop();if(V!==R){F[0]=V;e:for(var B=0,H=F.length,q=H>>>1;B<q;){var z=2*(B+1)-1,G=F[z],K=z+1,Y=F[K];if(0>a(G,V))K<H&&0>a(Y,G)?(F[B]=Y,F[K]=V,B=K):(F[B]=G,F[z]=V,B=z);else if(K<H&&0>a(Y,V))F[B]=Y,F[K]=V,B=K;else break e}}return R}function a(F,R){var V=F.sortIndex-R.sortIndex;return V!==0?V:F.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var d=[],c=[],u=1,m=null,h=3,f=!1,j=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(F){for(var R=r(c);R!==null;){if(R.callback===null)s(c);else if(R.startTime<=F)s(c),R.sortIndex=R.expirationTime,t(d,R);else break;R=r(c)}}function N(F){if(x=!1,y(F),!j)if(r(d)!==null)j=!0,L(b);else{var R=r(c);R!==null&&I(N,R.startTime-F)}}function b(F,R){j=!1,x&&(x=!1,v(P),P=-1),f=!0;var V=h;try{for(y(R),m=r(d);m!==null&&(!(m.expirationTime>R)||F&&!D());){var B=m.callback;if(typeof B=="function"){m.callback=null,h=m.priorityLevel;var H=B(m.expirationTime<=R);R=e.unstable_now(),typeof H=="function"?m.callback=H:m===r(d)&&s(d),y(R)}else s(d);m=r(d)}if(m!==null)var q=!0;else{var z=r(c);z!==null&&I(N,z.startTime-R),q=!1}return q}finally{m=null,h=V,f=!1}}var E=!1,S=null,P=-1,_=5,T=-1;function D(){return!(e.unstable_now()-T<_)}function k(){if(S!==null){var F=e.unstable_now();T=F;var R=!0;try{R=S(!0,F)}finally{R?U():(E=!1,S=null)}}else E=!1}var U;if(typeof g=="function")U=function(){g(k)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,$=M.port2;M.port1.onmessage=k,U=function(){$.postMessage(null)}}else U=function(){w(k,0)};function L(F){S=F,E||(E=!0,U())}function I(F,R){P=w(function(){F(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){j||f||(j=!0,L(b))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(F){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var V=h;h=R;try{return F()}finally{h=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,R){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var V=h;h=F;try{return R()}finally{h=V}},e.unstable_scheduleCallback=function(F,R,V){var B=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?B+V:B):V=B,F){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=V+H,F={id:u++,callback:R,priorityLevel:F,startTime:V,expirationTime:H,sortIndex:-1},V>B?(F.sortIndex=V,t(c,F),r(d)===null&&F===r(c)&&(x?(v(P),P=-1):x=!0,I(N,V-B))):(F.sortIndex=H,t(d,F),j||f||(j=!0,L(b))),F},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(F){var R=h;return function(){var V=h;h=R;try{return F.apply(this,arguments)}finally{h=V}}}})(w1);j1.exports=w1;var IR=j1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LR=p,Tn=IR;function ue(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var N1=new Set,uc={};function vo(e,t){ki(e,t),ki(e+"Capture",t)}function ki(e,t){for(uc[e]=t,e=0;e<t.length;e++)N1.add(t[e])}var hs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qf=Object.prototype.hasOwnProperty,$R=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,o0={},i0={};function UR(e){return Qf.call(i0,e)?!0:Qf.call(o0,e)?!1:$R.test(e)?i0[e]=!0:(o0[e]=!0,!1)}function HR(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function VR(e,t,r,s){if(t===null||typeof t>"u"||HR(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function tn(e,t,r,s,a,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var _t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_t[e]=new tn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_t[t]=new tn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){_t[e]=new tn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_t[e]=new tn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_t[e]=new tn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){_t[e]=new tn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){_t[e]=new tn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){_t[e]=new tn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){_t[e]=new tn(e,5,!1,e.toLowerCase(),null,!1,!1)});var rv=/[\-:]([a-z])/g;function sv(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(rv,sv);_t[t]=new tn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(rv,sv);_t[t]=new tn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(rv,sv);_t[t]=new tn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){_t[e]=new tn(e,1,!1,e.toLowerCase(),null,!1,!1)});_t.xlinkHref=new tn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){_t[e]=new tn(e,1,!1,e.toLowerCase(),null,!0,!0)});function av(e,t,r,s){var a=_t.hasOwnProperty(t)?_t[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(VR(t,r,a,s)&&(r=null),s||a===null?UR(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,s=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var bs=LR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fd=Symbol.for("react.element"),Vo=Symbol.for("react.portal"),Bo=Symbol.for("react.fragment"),ov=Symbol.for("react.strict_mode"),Jf=Symbol.for("react.profiler"),b1=Symbol.for("react.provider"),S1=Symbol.for("react.context"),iv=Symbol.for("react.forward_ref"),Zf=Symbol.for("react.suspense"),ex=Symbol.for("react.suspense_list"),lv=Symbol.for("react.memo"),Us=Symbol.for("react.lazy"),C1=Symbol.for("react.offscreen"),l0=Symbol.iterator;function Sl(e){return e===null||typeof e!="object"?null:(e=l0&&e[l0]||e["@@iterator"],typeof e=="function"?e:null)}var dt=Object.assign,Sp;function Hl(e){if(Sp===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Sp=t&&t[1]||""}return`
`+Sp+e}var Cp=!1;function Ep(e,t){if(!e||Cp)return"";Cp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var s=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){s=c}e.call(t.prototype)}else{try{throw Error()}catch(c){s=c}e()}}catch(c){if(c&&s&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),o=s.stack.split(`
`),i=a.length-1,l=o.length-1;1<=i&&0<=l&&a[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==o[l]){var d=`
`+a[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=i&&0<=l);break}}}finally{Cp=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Hl(e):""}function BR(e){switch(e.tag){case 5:return Hl(e.type);case 16:return Hl("Lazy");case 13:return Hl("Suspense");case 19:return Hl("SuspenseList");case 0:case 2:case 15:return e=Ep(e.type,!1),e;case 11:return e=Ep(e.type.render,!1),e;case 1:return e=Ep(e.type,!0),e;default:return""}}function tx(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Bo:return"Fragment";case Vo:return"Portal";case Jf:return"Profiler";case ov:return"StrictMode";case Zf:return"Suspense";case ex:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case S1:return(e.displayName||"Context")+".Consumer";case b1:return(e._context.displayName||"Context")+".Provider";case iv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case lv:return t=e.displayName||null,t!==null?t:tx(e.type)||"Memo";case Us:t=e._payload,e=e._init;try{return tx(e(t))}catch{}}return null}function zR(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tx(t);case 8:return t===ov?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ua(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function E1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qR(e){var t=E1(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){s=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(i){s=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _d(e){e._valueTracker||(e._valueTracker=qR(e))}function P1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=E1(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function qu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function nx(e,t){var r=t.checked;return dt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function c0(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=ua(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function k1(e,t){t=t.checked,t!=null&&av(e,"checked",t,!1)}function rx(e,t){k1(e,t);var r=ua(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?sx(e,t.type,r):t.hasOwnProperty("defaultValue")&&sx(e,t.type,ua(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function d0(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function sx(e,t,r){(t!=="number"||qu(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Vl=Array.isArray;function ni(e,t,r,s){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&s&&(e[r].defaultSelected=!0)}else{for(r=""+ua(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function ax(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ue(91));return dt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function u0(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ue(92));if(Vl(r)){if(1<r.length)throw Error(ue(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ua(r)}}function T1(e,t){var r=ua(t.value),s=ua(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function h0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function A1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ox(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?A1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Od,M1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Od=Od||document.createElement("div"),Od.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Od.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function hc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Jl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},WR=["Webkit","ms","Moz","O"];Object.keys(Jl).forEach(function(e){WR.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Jl[t]=Jl[e]})});function D1(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Jl.hasOwnProperty(e)&&Jl[e]?(""+t).trim():t+"px"}function R1(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,a=D1(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,a):e[r]=a}}var YR=dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ix(e,t){if(t){if(YR[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ue(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ue(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ue(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ue(62))}}function lx(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cx=null;function cv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var dx=null,ri=null,si=null;function m0(e){if(e=nd(e)){if(typeof dx!="function")throw Error(ue(280));var t=e.stateNode;t&&(t=tm(t),dx(e.stateNode,e.type,t))}}function F1(e){ri?si?si.push(e):si=[e]:ri=e}function _1(){if(ri){var e=ri,t=si;if(si=ri=null,m0(e),t)for(e=0;e<t.length;e++)m0(t[e])}}function O1(e,t){return e(t)}function I1(){}var Pp=!1;function L1(e,t,r){if(Pp)return e(t,r);Pp=!0;try{return O1(e,t,r)}finally{Pp=!1,(ri!==null||si!==null)&&(I1(),_1())}}function mc(e,t){var r=e.stateNode;if(r===null)return null;var s=tm(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ue(231,t,typeof r));return r}var ux=!1;if(hs)try{var Cl={};Object.defineProperty(Cl,"passive",{get:function(){ux=!0}}),window.addEventListener("test",Cl,Cl),window.removeEventListener("test",Cl,Cl)}catch{ux=!1}function KR(e,t,r,s,a,o,i,l,d){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var Zl=!1,Wu=null,Yu=!1,hx=null,GR={onError:function(e){Zl=!0,Wu=e}};function XR(e,t,r,s,a,o,i,l,d){Zl=!1,Wu=null,KR.apply(GR,arguments)}function QR(e,t,r,s,a,o,i,l,d){if(XR.apply(this,arguments),Zl){if(Zl){var c=Wu;Zl=!1,Wu=null}else throw Error(ue(198));Yu||(Yu=!0,hx=c)}}function yo(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function $1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p0(e){if(yo(e)!==e)throw Error(ue(188))}function JR(e){var t=e.alternate;if(!t){if(t=yo(e),t===null)throw Error(ue(188));return t!==e?null:e}for(var r=e,s=t;;){var a=r.return;if(a===null)break;var o=a.alternate;if(o===null){if(s=a.return,s!==null){r=s;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return p0(a),e;if(o===s)return p0(a),t;o=o.sibling}throw Error(ue(188))}if(r.return!==s.return)r=a,s=o;else{for(var i=!1,l=a.child;l;){if(l===r){i=!0,r=a,s=o;break}if(l===s){i=!0,s=a,r=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===r){i=!0,r=o,s=a;break}if(l===s){i=!0,s=o,r=a;break}l=l.sibling}if(!i)throw Error(ue(189))}}if(r.alternate!==s)throw Error(ue(190))}if(r.tag!==3)throw Error(ue(188));return r.stateNode.current===r?e:t}function U1(e){return e=JR(e),e!==null?H1(e):null}function H1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=H1(e);if(t!==null)return t;e=e.sibling}return null}var V1=Tn.unstable_scheduleCallback,f0=Tn.unstable_cancelCallback,ZR=Tn.unstable_shouldYield,eF=Tn.unstable_requestPaint,vt=Tn.unstable_now,tF=Tn.unstable_getCurrentPriorityLevel,dv=Tn.unstable_ImmediatePriority,B1=Tn.unstable_UserBlockingPriority,Ku=Tn.unstable_NormalPriority,nF=Tn.unstable_LowPriority,z1=Tn.unstable_IdlePriority,Qh=null,Lr=null;function rF(e){if(Lr&&typeof Lr.onCommitFiberRoot=="function")try{Lr.onCommitFiberRoot(Qh,e,void 0,(e.current.flags&128)===128)}catch{}}var cr=Math.clz32?Math.clz32:oF,sF=Math.log,aF=Math.LN2;function oF(e){return e>>>=0,e===0?32:31-(sF(e)/aF|0)|0}var Id=64,Ld=4194304;function Bl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Gu(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,a=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~a;l!==0?s=Bl(l):(o&=i,o!==0&&(s=Bl(o)))}else i=r&~a,i!==0?s=Bl(i):o!==0&&(s=Bl(o));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-cr(t),a=1<<r,s|=e[r],t&=~a;return s}function iF(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lF(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-cr(o),l=1<<i,d=a[i];d===-1?(!(l&r)||l&s)&&(a[i]=iF(l,t)):d<=t&&(e.expiredLanes|=l),o&=~l}}function mx(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function q1(){var e=Id;return Id<<=1,!(Id&4194240)&&(Id=64),e}function kp(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ed(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-cr(t),e[t]=r}function cF(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-cr(r),o=1<<a;t[a]=0,s[a]=-1,e[a]=-1,r&=~o}}function uv(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-cr(r),a=1<<s;a&t|e[s]&t&&(e[s]|=t),r&=~a}}var Be=0;function W1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Y1,hv,K1,G1,X1,px=!1,$d=[],Zs=null,ea=null,ta=null,pc=new Map,fc=new Map,Vs=[],dF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function x0(e,t){switch(e){case"focusin":case"focusout":Zs=null;break;case"dragenter":case"dragleave":ea=null;break;case"mouseover":case"mouseout":ta=null;break;case"pointerover":case"pointerout":pc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fc.delete(t.pointerId)}}function El(e,t,r,s,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:o,targetContainers:[a]},t!==null&&(t=nd(t),t!==null&&hv(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function uF(e,t,r,s,a){switch(t){case"focusin":return Zs=El(Zs,e,t,r,s,a),!0;case"dragenter":return ea=El(ea,e,t,r,s,a),!0;case"mouseover":return ta=El(ta,e,t,r,s,a),!0;case"pointerover":var o=a.pointerId;return pc.set(o,El(pc.get(o)||null,e,t,r,s,a)),!0;case"gotpointercapture":return o=a.pointerId,fc.set(o,El(fc.get(o)||null,e,t,r,s,a)),!0}return!1}function Q1(e){var t=La(e.target);if(t!==null){var r=yo(t);if(r!==null){if(t=r.tag,t===13){if(t=$1(r),t!==null){e.blockedOn=t,X1(e.priority,function(){K1(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=fx(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);cx=s,r.target.dispatchEvent(s),cx=null}else return t=nd(r),t!==null&&hv(t),e.blockedOn=r,!1;t.shift()}return!0}function g0(e,t,r){bu(e)&&r.delete(t)}function hF(){px=!1,Zs!==null&&bu(Zs)&&(Zs=null),ea!==null&&bu(ea)&&(ea=null),ta!==null&&bu(ta)&&(ta=null),pc.forEach(g0),fc.forEach(g0)}function Pl(e,t){e.blockedOn===t&&(e.blockedOn=null,px||(px=!0,Tn.unstable_scheduleCallback(Tn.unstable_NormalPriority,hF)))}function xc(e){function t(a){return Pl(a,e)}if(0<$d.length){Pl($d[0],e);for(var r=1;r<$d.length;r++){var s=$d[r];s.blockedOn===e&&(s.blockedOn=null)}}for(Zs!==null&&Pl(Zs,e),ea!==null&&Pl(ea,e),ta!==null&&Pl(ta,e),pc.forEach(t),fc.forEach(t),r=0;r<Vs.length;r++)s=Vs[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<Vs.length&&(r=Vs[0],r.blockedOn===null);)Q1(r),r.blockedOn===null&&Vs.shift()}var ai=bs.ReactCurrentBatchConfig,Xu=!0;function mF(e,t,r,s){var a=Be,o=ai.transition;ai.transition=null;try{Be=1,mv(e,t,r,s)}finally{Be=a,ai.transition=o}}function pF(e,t,r,s){var a=Be,o=ai.transition;ai.transition=null;try{Be=4,mv(e,t,r,s)}finally{Be=a,ai.transition=o}}function mv(e,t,r,s){if(Xu){var a=fx(e,t,r,s);if(a===null)Lp(e,t,s,Qu,r),x0(e,s);else if(uF(a,e,t,r,s))s.stopPropagation();else if(x0(e,s),t&4&&-1<dF.indexOf(e)){for(;a!==null;){var o=nd(a);if(o!==null&&Y1(o),o=fx(e,t,r,s),o===null&&Lp(e,t,s,Qu,r),o===a)break;a=o}a!==null&&s.stopPropagation()}else Lp(e,t,s,null,r)}}var Qu=null;function fx(e,t,r,s){if(Qu=null,e=cv(s),e=La(e),e!==null)if(t=yo(e),t===null)e=null;else if(r=t.tag,r===13){if(e=$1(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qu=e,null}function J1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tF()){case dv:return 1;case B1:return 4;case Ku:case nF:return 16;case z1:return 536870912;default:return 16}default:return 16}}var Xs=null,pv=null,Su=null;function Z1(){if(Su)return Su;var e,t=pv,r=t.length,s,a="value"in Xs?Xs.value:Xs.textContent,o=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(s=1;s<=i&&t[r-s]===a[o-s];s++);return Su=a.slice(e,1<s?1-s:void 0)}function Cu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ud(){return!0}function v0(){return!1}function Dn(e){function t(r,s,a,o,i){this._reactName=r,this._targetInst=a,this.type=s,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ud:v0,this.isPropagationStopped=v0,this}return dt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ud)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ud)},persist:function(){},isPersistent:Ud}),t}var nl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fv=Dn(nl),td=dt({},nl,{view:0,detail:0}),fF=Dn(td),Tp,Ap,kl,Jh=dt({},td,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==kl&&(kl&&e.type==="mousemove"?(Tp=e.screenX-kl.screenX,Ap=e.screenY-kl.screenY):Ap=Tp=0,kl=e),Tp)},movementY:function(e){return"movementY"in e?e.movementY:Ap}}),y0=Dn(Jh),xF=dt({},Jh,{dataTransfer:0}),gF=Dn(xF),vF=dt({},td,{relatedTarget:0}),Mp=Dn(vF),yF=dt({},nl,{animationName:0,elapsedTime:0,pseudoElement:0}),jF=Dn(yF),wF=dt({},nl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),NF=Dn(wF),bF=dt({},nl,{data:0}),j0=Dn(bF),SF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},EF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PF(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=EF[e])?!!t[e]:!1}function xv(){return PF}var kF=dt({},td,{key:function(e){if(e.key){var t=SF[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Cu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?CF[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xv,charCode:function(e){return e.type==="keypress"?Cu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Cu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),TF=Dn(kF),AF=dt({},Jh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w0=Dn(AF),MF=dt({},td,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xv}),DF=Dn(MF),RF=dt({},nl,{propertyName:0,elapsedTime:0,pseudoElement:0}),FF=Dn(RF),_F=dt({},Jh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),OF=Dn(_F),IF=[9,13,27,32],gv=hs&&"CompositionEvent"in window,ec=null;hs&&"documentMode"in document&&(ec=document.documentMode);var LF=hs&&"TextEvent"in window&&!ec,eS=hs&&(!gv||ec&&8<ec&&11>=ec),N0=" ",b0=!1;function tS(e,t){switch(e){case"keyup":return IF.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zo=!1;function $F(e,t){switch(e){case"compositionend":return nS(t);case"keypress":return t.which!==32?null:(b0=!0,N0);case"textInput":return e=t.data,e===N0&&b0?null:e;default:return null}}function UF(e,t){if(zo)return e==="compositionend"||!gv&&tS(e,t)?(e=Z1(),Su=pv=Xs=null,zo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return eS&&t.locale!=="ko"?null:t.data;default:return null}}var HF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function S0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!HF[e.type]:t==="textarea"}function rS(e,t,r,s){F1(s),t=Ju(t,"onChange"),0<t.length&&(r=new fv("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var tc=null,gc=null;function VF(e){pS(e,0)}function Zh(e){var t=Yo(e);if(P1(t))return e}function BF(e,t){if(e==="change")return t}var sS=!1;if(hs){var Dp;if(hs){var Rp="oninput"in document;if(!Rp){var C0=document.createElement("div");C0.setAttribute("oninput","return;"),Rp=typeof C0.oninput=="function"}Dp=Rp}else Dp=!1;sS=Dp&&(!document.documentMode||9<document.documentMode)}function E0(){tc&&(tc.detachEvent("onpropertychange",aS),gc=tc=null)}function aS(e){if(e.propertyName==="value"&&Zh(gc)){var t=[];rS(t,gc,e,cv(e)),L1(VF,t)}}function zF(e,t,r){e==="focusin"?(E0(),tc=t,gc=r,tc.attachEvent("onpropertychange",aS)):e==="focusout"&&E0()}function qF(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zh(gc)}function WF(e,t){if(e==="click")return Zh(t)}function YF(e,t){if(e==="input"||e==="change")return Zh(t)}function KF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mr=typeof Object.is=="function"?Object.is:KF;function vc(e,t){if(mr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var a=r[s];if(!Qf.call(t,a)||!mr(e[a],t[a]))return!1}return!0}function P0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function k0(e,t){var r=P0(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=P0(r)}}function oS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?oS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function iS(){for(var e=window,t=qu();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=qu(e.document)}return t}function vv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function GF(e){var t=iS(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&oS(r.ownerDocument.documentElement,r)){if(s!==null&&vv(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,o=Math.min(s.start,a);s=s.end===void 0?o:Math.min(s.end,a),!e.extend&&o>s&&(a=s,s=o,o=a),a=k0(r,o);var i=k0(r,s);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>s?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var XF=hs&&"documentMode"in document&&11>=document.documentMode,qo=null,xx=null,nc=null,gx=!1;function T0(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;gx||qo==null||qo!==qu(s)||(s=qo,"selectionStart"in s&&vv(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),nc&&vc(nc,s)||(nc=s,s=Ju(xx,"onSelect"),0<s.length&&(t=new fv("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=qo)))}function Hd(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Wo={animationend:Hd("Animation","AnimationEnd"),animationiteration:Hd("Animation","AnimationIteration"),animationstart:Hd("Animation","AnimationStart"),transitionend:Hd("Transition","TransitionEnd")},Fp={},lS={};hs&&(lS=document.createElement("div").style,"AnimationEvent"in window||(delete Wo.animationend.animation,delete Wo.animationiteration.animation,delete Wo.animationstart.animation),"TransitionEvent"in window||delete Wo.transitionend.transition);function em(e){if(Fp[e])return Fp[e];if(!Wo[e])return e;var t=Wo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in lS)return Fp[e]=t[r];return e}var cS=em("animationend"),dS=em("animationiteration"),uS=em("animationstart"),hS=em("transitionend"),mS=new Map,A0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ja(e,t){mS.set(e,t),vo(t,[e])}for(var _p=0;_p<A0.length;_p++){var Op=A0[_p],QF=Op.toLowerCase(),JF=Op[0].toUpperCase()+Op.slice(1);ja(QF,"on"+JF)}ja(cS,"onAnimationEnd");ja(dS,"onAnimationIteration");ja(uS,"onAnimationStart");ja("dblclick","onDoubleClick");ja("focusin","onFocus");ja("focusout","onBlur");ja(hS,"onTransitionEnd");ki("onMouseEnter",["mouseout","mouseover"]);ki("onMouseLeave",["mouseout","mouseover"]);ki("onPointerEnter",["pointerout","pointerover"]);ki("onPointerLeave",["pointerout","pointerover"]);vo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vo("onBeforeInput",["compositionend","keypress","textInput","paste"]);vo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZF=new Set("cancel close invalid load scroll toggle".split(" ").concat(zl));function M0(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,QR(s,t,void 0,e),e.currentTarget=null}function pS(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],a=s.event;s=s.listeners;e:{var o=void 0;if(t)for(var i=s.length-1;0<=i;i--){var l=s[i],d=l.instance,c=l.currentTarget;if(l=l.listener,d!==o&&a.isPropagationStopped())break e;M0(a,l,c),o=d}else for(i=0;i<s.length;i++){if(l=s[i],d=l.instance,c=l.currentTarget,l=l.listener,d!==o&&a.isPropagationStopped())break e;M0(a,l,c),o=d}}}if(Yu)throw e=hx,Yu=!1,hx=null,e}function et(e,t){var r=t[Nx];r===void 0&&(r=t[Nx]=new Set);var s=e+"__bubble";r.has(s)||(fS(t,e,2,!1),r.add(s))}function Ip(e,t,r){var s=0;t&&(s|=4),fS(r,e,s,t)}var Vd="_reactListening"+Math.random().toString(36).slice(2);function yc(e){if(!e[Vd]){e[Vd]=!0,N1.forEach(function(r){r!=="selectionchange"&&(ZF.has(r)||Ip(r,!1,e),Ip(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Vd]||(t[Vd]=!0,Ip("selectionchange",!1,t))}}function fS(e,t,r,s){switch(J1(t)){case 1:var a=mF;break;case 4:a=pF;break;default:a=mv}r=a.bind(null,t,r,e),a=void 0,!ux||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Lp(e,t,r,s,a){var o=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var i=s.tag;if(i===3||i===4){var l=s.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=s.return;i!==null;){var d=i.tag;if((d===3||d===4)&&(d=i.stateNode.containerInfo,d===a||d.nodeType===8&&d.parentNode===a))return;i=i.return}for(;l!==null;){if(i=La(l),i===null)return;if(d=i.tag,d===5||d===6){s=o=i;continue e}l=l.parentNode}}s=s.return}L1(function(){var c=o,u=cv(r),m=[];e:{var h=mS.get(e);if(h!==void 0){var f=fv,j=e;switch(e){case"keypress":if(Cu(r)===0)break e;case"keydown":case"keyup":f=TF;break;case"focusin":j="focus",f=Mp;break;case"focusout":j="blur",f=Mp;break;case"beforeblur":case"afterblur":f=Mp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=y0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=gF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=DF;break;case cS:case dS:case uS:f=jF;break;case hS:f=FF;break;case"scroll":f=fF;break;case"wheel":f=OF;break;case"copy":case"cut":case"paste":f=NF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=w0}var x=(t&4)!==0,w=!x&&e==="scroll",v=x?h!==null?h+"Capture":null:h;x=[];for(var g=c,y;g!==null;){y=g;var N=y.stateNode;if(y.tag===5&&N!==null&&(y=N,v!==null&&(N=mc(g,v),N!=null&&x.push(jc(g,N,y)))),w)break;g=g.return}0<x.length&&(h=new f(h,j,null,r,u),m.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",h&&r!==cx&&(j=r.relatedTarget||r.fromElement)&&(La(j)||j[ms]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(j=r.relatedTarget||r.toElement,f=c,j=j?La(j):null,j!==null&&(w=yo(j),j!==w||j.tag!==5&&j.tag!==6)&&(j=null)):(f=null,j=c),f!==j)){if(x=y0,N="onMouseLeave",v="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(x=w0,N="onPointerLeave",v="onPointerEnter",g="pointer"),w=f==null?h:Yo(f),y=j==null?h:Yo(j),h=new x(N,g+"leave",f,r,u),h.target=w,h.relatedTarget=y,N=null,La(u)===c&&(x=new x(v,g+"enter",j,r,u),x.target=y,x.relatedTarget=w,N=x),w=N,f&&j)t:{for(x=f,v=j,g=0,y=x;y;y=ko(y))g++;for(y=0,N=v;N;N=ko(N))y++;for(;0<g-y;)x=ko(x),g--;for(;0<y-g;)v=ko(v),y--;for(;g--;){if(x===v||v!==null&&x===v.alternate)break t;x=ko(x),v=ko(v)}x=null}else x=null;f!==null&&D0(m,h,f,x,!1),j!==null&&w!==null&&D0(m,w,j,x,!0)}}e:{if(h=c?Yo(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var b=BF;else if(S0(h))if(sS)b=YF;else{b=qF;var E=zF}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=WF);if(b&&(b=b(e,c))){rS(m,b,r,u);break e}E&&E(e,h,c),e==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&sx(h,"number",h.value)}switch(E=c?Yo(c):window,e){case"focusin":(S0(E)||E.contentEditable==="true")&&(qo=E,xx=c,nc=null);break;case"focusout":nc=xx=qo=null;break;case"mousedown":gx=!0;break;case"contextmenu":case"mouseup":case"dragend":gx=!1,T0(m,r,u);break;case"selectionchange":if(XF)break;case"keydown":case"keyup":T0(m,r,u)}var S;if(gv)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else zo?tS(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(eS&&r.locale!=="ko"&&(zo||P!=="onCompositionStart"?P==="onCompositionEnd"&&zo&&(S=Z1()):(Xs=u,pv="value"in Xs?Xs.value:Xs.textContent,zo=!0)),E=Ju(c,P),0<E.length&&(P=new j0(P,e,null,r,u),m.push({event:P,listeners:E}),S?P.data=S:(S=nS(r),S!==null&&(P.data=S)))),(S=LF?$F(e,r):UF(e,r))&&(c=Ju(c,"onBeforeInput"),0<c.length&&(u=new j0("onBeforeInput","beforeinput",null,r,u),m.push({event:u,listeners:c}),u.data=S))}pS(m,t)})}function jc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ju(e,t){for(var r=t+"Capture",s=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=mc(e,r),o!=null&&s.unshift(jc(e,o,a)),o=mc(e,t),o!=null&&s.push(jc(e,o,a))),e=e.return}return s}function ko(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function D0(e,t,r,s,a){for(var o=t._reactName,i=[];r!==null&&r!==s;){var l=r,d=l.alternate,c=l.stateNode;if(d!==null&&d===s)break;l.tag===5&&c!==null&&(l=c,a?(d=mc(r,o),d!=null&&i.unshift(jc(r,d,l))):a||(d=mc(r,o),d!=null&&i.push(jc(r,d,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var e_=/\r\n?/g,t_=/\u0000|\uFFFD/g;function R0(e){return(typeof e=="string"?e:""+e).replace(e_,`
`).replace(t_,"")}function Bd(e,t,r){if(t=R0(t),R0(e)!==t&&r)throw Error(ue(425))}function Zu(){}var vx=null,yx=null;function jx(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wx=typeof setTimeout=="function"?setTimeout:void 0,n_=typeof clearTimeout=="function"?clearTimeout:void 0,F0=typeof Promise=="function"?Promise:void 0,r_=typeof queueMicrotask=="function"?queueMicrotask:typeof F0<"u"?function(e){return F0.resolve(null).then(e).catch(s_)}:wx;function s_(e){setTimeout(function(){throw e})}function $p(e,t){var r=t,s=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(s===0){e.removeChild(a),xc(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=a}while(r);xc(t)}function na(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var rl=Math.random().toString(36).slice(2),_r="__reactFiber$"+rl,wc="__reactProps$"+rl,ms="__reactContainer$"+rl,Nx="__reactEvents$"+rl,a_="__reactListeners$"+rl,o_="__reactHandles$"+rl;function La(e){var t=e[_r];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ms]||r[_r]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=_0(e);e!==null;){if(r=e[_r])return r;e=_0(e)}return t}e=r,r=e.parentNode}return null}function nd(e){return e=e[_r]||e[ms],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Yo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ue(33))}function tm(e){return e[wc]||null}var bx=[],Ko=-1;function wa(e){return{current:e}}function tt(e){0>Ko||(e.current=bx[Ko],bx[Ko]=null,Ko--)}function Xe(e,t){Ko++,bx[Ko]=e.current,e.current=t}var ha={},zt=wa(ha),cn=wa(!1),Qa=ha;function Ti(e,t){var r=e.type.contextTypes;if(!r)return ha;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in r)a[o]=t[o];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function dn(e){return e=e.childContextTypes,e!=null}function eh(){tt(cn),tt(zt)}function O0(e,t,r){if(zt.current!==ha)throw Error(ue(168));Xe(zt,t),Xe(cn,r)}function xS(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(ue(108,zR(e)||"Unknown",a));return dt({},r,s)}function th(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ha,Qa=zt.current,Xe(zt,e),Xe(cn,cn.current),!0}function I0(e,t,r){var s=e.stateNode;if(!s)throw Error(ue(169));r?(e=xS(e,t,Qa),s.__reactInternalMemoizedMergedChildContext=e,tt(cn),tt(zt),Xe(zt,e)):tt(cn),Xe(cn,r)}var ss=null,nm=!1,Up=!1;function gS(e){ss===null?ss=[e]:ss.push(e)}function i_(e){nm=!0,gS(e)}function Na(){if(!Up&&ss!==null){Up=!0;var e=0,t=Be;try{var r=ss;for(Be=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}ss=null,nm=!1}catch(a){throw ss!==null&&(ss=ss.slice(e+1)),V1(dv,Na),a}finally{Be=t,Up=!1}}return null}var Go=[],Xo=0,nh=null,rh=0,Ln=[],$n=0,Ja=null,os=1,is="";function Da(e,t){Go[Xo++]=rh,Go[Xo++]=nh,nh=e,rh=t}function vS(e,t,r){Ln[$n++]=os,Ln[$n++]=is,Ln[$n++]=Ja,Ja=e;var s=os;e=is;var a=32-cr(s)-1;s&=~(1<<a),r+=1;var o=32-cr(t)+a;if(30<o){var i=a-a%5;o=(s&(1<<i)-1).toString(32),s>>=i,a-=i,os=1<<32-cr(t)+a|r<<a|s,is=o+e}else os=1<<o|r<<a|s,is=e}function yv(e){e.return!==null&&(Da(e,1),vS(e,1,0))}function jv(e){for(;e===nh;)nh=Go[--Xo],Go[Xo]=null,rh=Go[--Xo],Go[Xo]=null;for(;e===Ja;)Ja=Ln[--$n],Ln[$n]=null,is=Ln[--$n],Ln[$n]=null,os=Ln[--$n],Ln[$n]=null}var En=null,Sn=null,st=!1,rr=null;function yS(e,t){var r=Un(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function L0(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,En=e,Sn=na(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,En=e,Sn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ja!==null?{id:os,overflow:is}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Un(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,En=e,Sn=null,!0):!1;default:return!1}}function Sx(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Cx(e){if(st){var t=Sn;if(t){var r=t;if(!L0(e,t)){if(Sx(e))throw Error(ue(418));t=na(r.nextSibling);var s=En;t&&L0(e,t)?yS(s,r):(e.flags=e.flags&-4097|2,st=!1,En=e)}}else{if(Sx(e))throw Error(ue(418));e.flags=e.flags&-4097|2,st=!1,En=e}}}function $0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;En=e}function zd(e){if(e!==En)return!1;if(!st)return $0(e),st=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!jx(e.type,e.memoizedProps)),t&&(t=Sn)){if(Sx(e))throw jS(),Error(ue(418));for(;t;)yS(e,t),t=na(t.nextSibling)}if($0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ue(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Sn=na(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Sn=null}}else Sn=En?na(e.stateNode.nextSibling):null;return!0}function jS(){for(var e=Sn;e;)e=na(e.nextSibling)}function Ai(){Sn=En=null,st=!1}function wv(e){rr===null?rr=[e]:rr.push(e)}var l_=bs.ReactCurrentBatchConfig;function Tl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ue(309));var s=r.stateNode}if(!s)throw Error(ue(147,e));var a=s,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=a.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(ue(284));if(!r._owner)throw Error(ue(290,e))}return e}function qd(e,t){throw e=Object.prototype.toString.call(t),Error(ue(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function U0(e){var t=e._init;return t(e._payload)}function wS(e){function t(v,g){if(e){var y=v.deletions;y===null?(v.deletions=[g],v.flags|=16):y.push(g)}}function r(v,g){if(!e)return null;for(;g!==null;)t(v,g),g=g.sibling;return null}function s(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function a(v,g){return v=oa(v,g),v.index=0,v.sibling=null,v}function o(v,g,y){return v.index=y,e?(y=v.alternate,y!==null?(y=y.index,y<g?(v.flags|=2,g):y):(v.flags|=2,g)):(v.flags|=1048576,g)}function i(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,g,y,N){return g===null||g.tag!==6?(g=Yp(y,v.mode,N),g.return=v,g):(g=a(g,y),g.return=v,g)}function d(v,g,y,N){var b=y.type;return b===Bo?u(v,g,y.props.children,N,y.key):g!==null&&(g.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Us&&U0(b)===g.type)?(N=a(g,y.props),N.ref=Tl(v,g,y),N.return=v,N):(N=Du(y.type,y.key,y.props,null,v.mode,N),N.ref=Tl(v,g,y),N.return=v,N)}function c(v,g,y,N){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=Kp(y,v.mode,N),g.return=v,g):(g=a(g,y.children||[]),g.return=v,g)}function u(v,g,y,N,b){return g===null||g.tag!==7?(g=Ka(y,v.mode,N,b),g.return=v,g):(g=a(g,y),g.return=v,g)}function m(v,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Yp(""+g,v.mode,y),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Fd:return y=Du(g.type,g.key,g.props,null,v.mode,y),y.ref=Tl(v,null,g),y.return=v,y;case Vo:return g=Kp(g,v.mode,y),g.return=v,g;case Us:var N=g._init;return m(v,N(g._payload),y)}if(Vl(g)||Sl(g))return g=Ka(g,v.mode,y,null),g.return=v,g;qd(v,g)}return null}function h(v,g,y,N){var b=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return b!==null?null:l(v,g,""+y,N);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Fd:return y.key===b?d(v,g,y,N):null;case Vo:return y.key===b?c(v,g,y,N):null;case Us:return b=y._init,h(v,g,b(y._payload),N)}if(Vl(y)||Sl(y))return b!==null?null:u(v,g,y,N,null);qd(v,y)}return null}function f(v,g,y,N,b){if(typeof N=="string"&&N!==""||typeof N=="number")return v=v.get(y)||null,l(g,v,""+N,b);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Fd:return v=v.get(N.key===null?y:N.key)||null,d(g,v,N,b);case Vo:return v=v.get(N.key===null?y:N.key)||null,c(g,v,N,b);case Us:var E=N._init;return f(v,g,y,E(N._payload),b)}if(Vl(N)||Sl(N))return v=v.get(y)||null,u(g,v,N,b,null);qd(g,N)}return null}function j(v,g,y,N){for(var b=null,E=null,S=g,P=g=0,_=null;S!==null&&P<y.length;P++){S.index>P?(_=S,S=null):_=S.sibling;var T=h(v,S,y[P],N);if(T===null){S===null&&(S=_);break}e&&S&&T.alternate===null&&t(v,S),g=o(T,g,P),E===null?b=T:E.sibling=T,E=T,S=_}if(P===y.length)return r(v,S),st&&Da(v,P),b;if(S===null){for(;P<y.length;P++)S=m(v,y[P],N),S!==null&&(g=o(S,g,P),E===null?b=S:E.sibling=S,E=S);return st&&Da(v,P),b}for(S=s(v,S);P<y.length;P++)_=f(S,v,P,y[P],N),_!==null&&(e&&_.alternate!==null&&S.delete(_.key===null?P:_.key),g=o(_,g,P),E===null?b=_:E.sibling=_,E=_);return e&&S.forEach(function(D){return t(v,D)}),st&&Da(v,P),b}function x(v,g,y,N){var b=Sl(y);if(typeof b!="function")throw Error(ue(150));if(y=b.call(y),y==null)throw Error(ue(151));for(var E=b=null,S=g,P=g=0,_=null,T=y.next();S!==null&&!T.done;P++,T=y.next()){S.index>P?(_=S,S=null):_=S.sibling;var D=h(v,S,T.value,N);if(D===null){S===null&&(S=_);break}e&&S&&D.alternate===null&&t(v,S),g=o(D,g,P),E===null?b=D:E.sibling=D,E=D,S=_}if(T.done)return r(v,S),st&&Da(v,P),b;if(S===null){for(;!T.done;P++,T=y.next())T=m(v,T.value,N),T!==null&&(g=o(T,g,P),E===null?b=T:E.sibling=T,E=T);return st&&Da(v,P),b}for(S=s(v,S);!T.done;P++,T=y.next())T=f(S,v,P,T.value,N),T!==null&&(e&&T.alternate!==null&&S.delete(T.key===null?P:T.key),g=o(T,g,P),E===null?b=T:E.sibling=T,E=T);return e&&S.forEach(function(k){return t(v,k)}),st&&Da(v,P),b}function w(v,g,y,N){if(typeof y=="object"&&y!==null&&y.type===Bo&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Fd:e:{for(var b=y.key,E=g;E!==null;){if(E.key===b){if(b=y.type,b===Bo){if(E.tag===7){r(v,E.sibling),g=a(E,y.props.children),g.return=v,v=g;break e}}else if(E.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Us&&U0(b)===E.type){r(v,E.sibling),g=a(E,y.props),g.ref=Tl(v,E,y),g.return=v,v=g;break e}r(v,E);break}else t(v,E);E=E.sibling}y.type===Bo?(g=Ka(y.props.children,v.mode,N,y.key),g.return=v,v=g):(N=Du(y.type,y.key,y.props,null,v.mode,N),N.ref=Tl(v,g,y),N.return=v,v=N)}return i(v);case Vo:e:{for(E=y.key;g!==null;){if(g.key===E)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){r(v,g.sibling),g=a(g,y.children||[]),g.return=v,v=g;break e}else{r(v,g);break}else t(v,g);g=g.sibling}g=Kp(y,v.mode,N),g.return=v,v=g}return i(v);case Us:return E=y._init,w(v,g,E(y._payload),N)}if(Vl(y))return j(v,g,y,N);if(Sl(y))return x(v,g,y,N);qd(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(r(v,g.sibling),g=a(g,y),g.return=v,v=g):(r(v,g),g=Yp(y,v.mode,N),g.return=v,v=g),i(v)):r(v,g)}return w}var Mi=wS(!0),NS=wS(!1),sh=wa(null),ah=null,Qo=null,Nv=null;function bv(){Nv=Qo=ah=null}function Sv(e){var t=sh.current;tt(sh),e._currentValue=t}function Ex(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function oi(e,t){ah=e,Nv=Qo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(sn=!0),e.firstContext=null)}function Bn(e){var t=e._currentValue;if(Nv!==e)if(e={context:e,memoizedValue:t,next:null},Qo===null){if(ah===null)throw Error(ue(308));Qo=e,ah.dependencies={lanes:0,firstContext:e}}else Qo=Qo.next=e;return t}var $a=null;function Cv(e){$a===null?$a=[e]:$a.push(e)}function bS(e,t,r,s){var a=t.interleaved;return a===null?(r.next=r,Cv(t)):(r.next=a.next,a.next=r),t.interleaved=r,ps(e,s)}function ps(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Hs=!1;function Ev(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function SS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ds(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ra(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Le&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,ps(e,r)}return a=s.interleaved,a===null?(t.next=t,Cv(s)):(t.next=a.next,a.next=t),s.interleaved=t,ps(e,r)}function Eu(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,uv(e,r)}}function H0(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var a=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?a=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?a=o=t:o=o.next=t}else a=o=t;r={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function oh(e,t,r,s){var a=e.updateQueue;Hs=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var d=l,c=d.next;d.next=null,i===null?o=c:i.next=c,i=d;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==i&&(l===null?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=d))}if(o!==null){var m=a.baseState;i=0,u=c=d=null,l=o;do{var h=l.lane,f=l.eventTime;if((s&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var j=e,x=l;switch(h=t,f=r,x.tag){case 1:if(j=x.payload,typeof j=="function"){m=j.call(f,m,h);break e}m=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=x.payload,h=typeof j=="function"?j.call(f,m,h):j,h==null)break e;m=dt({},m,h);break e;case 2:Hs=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else f={eventTime:f,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(c=u=f,d=m):u=u.next=f,i|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(d=m),a.baseState=d,a.firstBaseUpdate=c,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);eo|=i,e.lanes=i,e.memoizedState=m}}function V0(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=r,typeof a!="function")throw Error(ue(191,a));a.call(s)}}}var rd={},$r=wa(rd),Nc=wa(rd),bc=wa(rd);function Ua(e){if(e===rd)throw Error(ue(174));return e}function Pv(e,t){switch(Xe(bc,t),Xe(Nc,e),Xe($r,rd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ox(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ox(t,e)}tt($r),Xe($r,t)}function Di(){tt($r),tt(Nc),tt(bc)}function CS(e){Ua(bc.current);var t=Ua($r.current),r=ox(t,e.type);t!==r&&(Xe(Nc,e),Xe($r,r))}function kv(e){Nc.current===e&&(tt($r),tt(Nc))}var ot=wa(0);function ih(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Hp=[];function Tv(){for(var e=0;e<Hp.length;e++)Hp[e]._workInProgressVersionPrimary=null;Hp.length=0}var Pu=bs.ReactCurrentDispatcher,Vp=bs.ReactCurrentBatchConfig,Za=0,lt=null,Pt=null,At=null,lh=!1,rc=!1,Sc=0,c_=0;function Lt(){throw Error(ue(321))}function Av(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!mr(e[r],t[r]))return!1;return!0}function Mv(e,t,r,s,a,o){if(Za=o,lt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Pu.current=e===null||e.memoizedState===null?m_:p_,e=r(s,a),rc){o=0;do{if(rc=!1,Sc=0,25<=o)throw Error(ue(301));o+=1,At=Pt=null,t.updateQueue=null,Pu.current=f_,e=r(s,a)}while(rc)}if(Pu.current=ch,t=Pt!==null&&Pt.next!==null,Za=0,At=Pt=lt=null,lh=!1,t)throw Error(ue(300));return e}function Dv(){var e=Sc!==0;return Sc=0,e}function Ar(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?lt.memoizedState=At=e:At=At.next=e,At}function zn(){if(Pt===null){var e=lt.alternate;e=e!==null?e.memoizedState:null}else e=Pt.next;var t=At===null?lt.memoizedState:At.next;if(t!==null)At=t,Pt=e;else{if(e===null)throw Error(ue(310));Pt=e,e={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},At===null?lt.memoizedState=At=e:At=At.next=e}return At}function Cc(e,t){return typeof t=="function"?t(e):t}function Bp(e){var t=zn(),r=t.queue;if(r===null)throw Error(ue(311));r.lastRenderedReducer=e;var s=Pt,a=s.baseQueue,o=r.pending;if(o!==null){if(a!==null){var i=a.next;a.next=o.next,o.next=i}s.baseQueue=a=o,r.pending=null}if(a!==null){o=a.next,s=s.baseState;var l=i=null,d=null,c=o;do{var u=c.lane;if((Za&u)===u)d!==null&&(d=d.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),s=c.hasEagerState?c.eagerState:e(s,c.action);else{var m={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};d===null?(l=d=m,i=s):d=d.next=m,lt.lanes|=u,eo|=u}c=c.next}while(c!==null&&c!==o);d===null?i=s:d.next=l,mr(s,t.memoizedState)||(sn=!0),t.memoizedState=s,t.baseState=i,t.baseQueue=d,r.lastRenderedState=s}if(e=r.interleaved,e!==null){a=e;do o=a.lane,lt.lanes|=o,eo|=o,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function zp(e){var t=zn(),r=t.queue;if(r===null)throw Error(ue(311));r.lastRenderedReducer=e;var s=r.dispatch,a=r.pending,o=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do o=e(o,i.action),i=i.next;while(i!==a);mr(o,t.memoizedState)||(sn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,s]}function ES(){}function PS(e,t){var r=lt,s=zn(),a=t(),o=!mr(s.memoizedState,a);if(o&&(s.memoizedState=a,sn=!0),s=s.queue,Rv(AS.bind(null,r,s,e),[e]),s.getSnapshot!==t||o||At!==null&&At.memoizedState.tag&1){if(r.flags|=2048,Ec(9,TS.bind(null,r,s,a,t),void 0,null),Mt===null)throw Error(ue(349));Za&30||kS(r,t,a)}return a}function kS(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=lt.updateQueue,t===null?(t={lastEffect:null,stores:null},lt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function TS(e,t,r,s){t.value=r,t.getSnapshot=s,MS(t)&&DS(e)}function AS(e,t,r){return r(function(){MS(t)&&DS(e)})}function MS(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!mr(e,r)}catch{return!0}}function DS(e){var t=ps(e,1);t!==null&&dr(t,e,1,-1)}function B0(e){var t=Ar();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cc,lastRenderedState:e},t.queue=e,e=e.dispatch=h_.bind(null,lt,e),[t.memoizedState,e]}function Ec(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=lt.updateQueue,t===null?(t={lastEffect:null,stores:null},lt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function RS(){return zn().memoizedState}function ku(e,t,r,s){var a=Ar();lt.flags|=e,a.memoizedState=Ec(1|t,r,void 0,s===void 0?null:s)}function rm(e,t,r,s){var a=zn();s=s===void 0?null:s;var o=void 0;if(Pt!==null){var i=Pt.memoizedState;if(o=i.destroy,s!==null&&Av(s,i.deps)){a.memoizedState=Ec(t,r,o,s);return}}lt.flags|=e,a.memoizedState=Ec(1|t,r,o,s)}function z0(e,t){return ku(8390656,8,e,t)}function Rv(e,t){return rm(2048,8,e,t)}function FS(e,t){return rm(4,2,e,t)}function _S(e,t){return rm(4,4,e,t)}function OS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function IS(e,t,r){return r=r!=null?r.concat([e]):null,rm(4,4,OS.bind(null,t,e),r)}function Fv(){}function LS(e,t){var r=zn();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Av(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function $S(e,t){var r=zn();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Av(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function US(e,t,r){return Za&21?(mr(r,t)||(r=q1(),lt.lanes|=r,eo|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,sn=!0),e.memoizedState=r)}function d_(e,t){var r=Be;Be=r!==0&&4>r?r:4,e(!0);var s=Vp.transition;Vp.transition={};try{e(!1),t()}finally{Be=r,Vp.transition=s}}function HS(){return zn().memoizedState}function u_(e,t,r){var s=aa(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},VS(e))BS(t,r);else if(r=bS(e,t,r,s),r!==null){var a=Qt();dr(r,e,s,a),zS(r,t,s)}}function h_(e,t,r){var s=aa(e),a={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(VS(e))BS(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,r);if(a.hasEagerState=!0,a.eagerState=l,mr(l,i)){var d=t.interleaved;d===null?(a.next=a,Cv(t)):(a.next=d.next,d.next=a),t.interleaved=a;return}}catch{}finally{}r=bS(e,t,a,s),r!==null&&(a=Qt(),dr(r,e,s,a),zS(r,t,s))}}function VS(e){var t=e.alternate;return e===lt||t!==null&&t===lt}function BS(e,t){rc=lh=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function zS(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,uv(e,r)}}var ch={readContext:Bn,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},m_={readContext:Bn,useCallback:function(e,t){return Ar().memoizedState=[e,t===void 0?null:t],e},useContext:Bn,useEffect:z0,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ku(4194308,4,OS.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ku(4194308,4,e,t)},useInsertionEffect:function(e,t){return ku(4,2,e,t)},useMemo:function(e,t){var r=Ar();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=Ar();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=u_.bind(null,lt,e),[s.memoizedState,e]},useRef:function(e){var t=Ar();return e={current:e},t.memoizedState=e},useState:B0,useDebugValue:Fv,useDeferredValue:function(e){return Ar().memoizedState=e},useTransition:function(){var e=B0(!1),t=e[0];return e=d_.bind(null,e[1]),Ar().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=lt,a=Ar();if(st){if(r===void 0)throw Error(ue(407));r=r()}else{if(r=t(),Mt===null)throw Error(ue(349));Za&30||kS(s,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,z0(AS.bind(null,s,o,e),[e]),s.flags|=2048,Ec(9,TS.bind(null,s,o,r,t),void 0,null),r},useId:function(){var e=Ar(),t=Mt.identifierPrefix;if(st){var r=is,s=os;r=(s&~(1<<32-cr(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=Sc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=c_++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},p_={readContext:Bn,useCallback:LS,useContext:Bn,useEffect:Rv,useImperativeHandle:IS,useInsertionEffect:FS,useLayoutEffect:_S,useMemo:$S,useReducer:Bp,useRef:RS,useState:function(){return Bp(Cc)},useDebugValue:Fv,useDeferredValue:function(e){var t=zn();return US(t,Pt.memoizedState,e)},useTransition:function(){var e=Bp(Cc)[0],t=zn().memoizedState;return[e,t]},useMutableSource:ES,useSyncExternalStore:PS,useId:HS,unstable_isNewReconciler:!1},f_={readContext:Bn,useCallback:LS,useContext:Bn,useEffect:Rv,useImperativeHandle:IS,useInsertionEffect:FS,useLayoutEffect:_S,useMemo:$S,useReducer:zp,useRef:RS,useState:function(){return zp(Cc)},useDebugValue:Fv,useDeferredValue:function(e){var t=zn();return Pt===null?t.memoizedState=e:US(t,Pt.memoizedState,e)},useTransition:function(){var e=zp(Cc)[0],t=zn().memoizedState;return[e,t]},useMutableSource:ES,useSyncExternalStore:PS,useId:HS,unstable_isNewReconciler:!1};function Jn(e,t){if(e&&e.defaultProps){t=dt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Px(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:dt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var sm={isMounted:function(e){return(e=e._reactInternals)?yo(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=Qt(),a=aa(e),o=ds(s,a);o.payload=t,r!=null&&(o.callback=r),t=ra(e,o,a),t!==null&&(dr(t,e,a,s),Eu(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=Qt(),a=aa(e),o=ds(s,a);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=ra(e,o,a),t!==null&&(dr(t,e,a,s),Eu(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Qt(),s=aa(e),a=ds(r,s);a.tag=2,t!=null&&(a.callback=t),t=ra(e,a,s),t!==null&&(dr(t,e,s,r),Eu(t,e,s))}};function q0(e,t,r,s,a,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,o,i):t.prototype&&t.prototype.isPureReactComponent?!vc(r,s)||!vc(a,o):!0}function qS(e,t,r){var s=!1,a=ha,o=t.contextType;return typeof o=="object"&&o!==null?o=Bn(o):(a=dn(t)?Qa:zt.current,s=t.contextTypes,o=(s=s!=null)?Ti(e,a):ha),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=sm,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function W0(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&sm.enqueueReplaceState(t,t.state,null)}function kx(e,t,r,s){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Ev(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=Bn(o):(o=dn(t)?Qa:zt.current,a.context=Ti(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Px(e,t,o,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&sm.enqueueReplaceState(a,a.state,null),oh(e,r,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Ri(e,t){try{var r="",s=t;do r+=BR(s),s=s.return;while(s);var a=r}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function qp(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Tx(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var x_=typeof WeakMap=="function"?WeakMap:Map;function WS(e,t,r){r=ds(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){uh||(uh=!0,$x=s),Tx(e,t)},r}function YS(e,t,r){r=ds(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;r.payload=function(){return s(a)},r.callback=function(){Tx(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){Tx(e,t),typeof s!="function"&&(sa===null?sa=new Set([this]):sa.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Y0(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new x_;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(r)||(a.add(r),e=A_.bind(null,e,t,r),t.then(e,e))}function K0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function G0(e,t,r,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ds(-1,1),t.tag=2,ra(r,t,1))),r.lanes|=1),e)}var g_=bs.ReactCurrentOwner,sn=!1;function Kt(e,t,r,s){t.child=e===null?NS(t,null,r,s):Mi(t,e.child,r,s)}function X0(e,t,r,s,a){r=r.render;var o=t.ref;return oi(t,a),s=Mv(e,t,r,s,o,a),r=Dv(),e!==null&&!sn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,fs(e,t,a)):(st&&r&&yv(t),t.flags|=1,Kt(e,t,s,a),t.child)}function Q0(e,t,r,s,a){if(e===null){var o=r.type;return typeof o=="function"&&!Vv(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,KS(e,t,o,s,a)):(e=Du(r.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:vc,r(i,s)&&e.ref===t.ref)return fs(e,t,a)}return t.flags|=1,e=oa(o,s),e.ref=t.ref,e.return=t,t.child=e}function KS(e,t,r,s,a){if(e!==null){var o=e.memoizedProps;if(vc(o,s)&&e.ref===t.ref)if(sn=!1,t.pendingProps=s=o,(e.lanes&a)!==0)e.flags&131072&&(sn=!0);else return t.lanes=e.lanes,fs(e,t,a)}return Ax(e,t,r,s,a)}function GS(e,t,r){var s=t.pendingProps,a=s.children,o=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(Zo,yn),yn|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Xe(Zo,yn),yn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=o!==null?o.baseLanes:r,Xe(Zo,yn),yn|=s}else o!==null?(s=o.baseLanes|r,t.memoizedState=null):s=r,Xe(Zo,yn),yn|=s;return Kt(e,t,a,r),t.child}function XS(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ax(e,t,r,s,a){var o=dn(r)?Qa:zt.current;return o=Ti(t,o),oi(t,a),r=Mv(e,t,r,s,o,a),s=Dv(),e!==null&&!sn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,fs(e,t,a)):(st&&s&&yv(t),t.flags|=1,Kt(e,t,r,a),t.child)}function J0(e,t,r,s,a){if(dn(r)){var o=!0;th(t)}else o=!1;if(oi(t,a),t.stateNode===null)Tu(e,t),qS(t,r,s),kx(t,r,s,a),s=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var d=i.context,c=r.contextType;typeof c=="object"&&c!==null?c=Bn(c):(c=dn(r)?Qa:zt.current,c=Ti(t,c));var u=r.getDerivedStateFromProps,m=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";m||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==s||d!==c)&&W0(t,i,s,c),Hs=!1;var h=t.memoizedState;i.state=h,oh(t,s,i,a),d=t.memoizedState,l!==s||h!==d||cn.current||Hs?(typeof u=="function"&&(Px(t,r,u,s),d=t.memoizedState),(l=Hs||q0(t,r,l,s,h,d,c))?(m||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=d),i.props=s,i.state=d,i.context=c,s=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{i=t.stateNode,SS(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:Jn(t.type,l),i.props=c,m=t.pendingProps,h=i.context,d=r.contextType,typeof d=="object"&&d!==null?d=Bn(d):(d=dn(r)?Qa:zt.current,d=Ti(t,d));var f=r.getDerivedStateFromProps;(u=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==m||h!==d)&&W0(t,i,s,d),Hs=!1,h=t.memoizedState,i.state=h,oh(t,s,i,a);var j=t.memoizedState;l!==m||h!==j||cn.current||Hs?(typeof f=="function"&&(Px(t,r,f,s),j=t.memoizedState),(c=Hs||q0(t,r,c,s,h,j,d)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,j,d),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,j,d)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=j),i.props=s,i.state=j,i.context=d,s=c):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),s=!1)}return Mx(e,t,r,s,o,a)}function Mx(e,t,r,s,a,o){XS(e,t);var i=(t.flags&128)!==0;if(!s&&!i)return a&&I0(t,r,!1),fs(e,t,o);s=t.stateNode,g_.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&i?(t.child=Mi(t,e.child,null,o),t.child=Mi(t,null,l,o)):Kt(e,t,l,o),t.memoizedState=s.state,a&&I0(t,r,!0),t.child}function QS(e){var t=e.stateNode;t.pendingContext?O0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&O0(e,t.context,!1),Pv(e,t.containerInfo)}function Z0(e,t,r,s,a){return Ai(),wv(a),t.flags|=256,Kt(e,t,r,s),t.child}var Dx={dehydrated:null,treeContext:null,retryLane:0};function Rx(e){return{baseLanes:e,cachePool:null,transitions:null}}function JS(e,t,r){var s=t.pendingProps,a=ot.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Xe(ot,a&1),e===null)return Cx(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=s.children,e=s.fallback,o?(s=t.mode,o=t.child,i={mode:"hidden",children:i},!(s&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=im(i,s,0,null),e=Ka(e,s,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Rx(r),t.memoizedState=Dx,e):_v(t,i));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return v_(e,t,i,s,l,a,r);if(o){o=s.fallback,i=t.mode,a=e.child,l=a.sibling;var d={mode:"hidden",children:s.children};return!(i&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=d,t.deletions=null):(s=oa(a,d),s.subtreeFlags=a.subtreeFlags&14680064),l!==null?o=oa(l,o):(o=Ka(o,i,r,null),o.flags|=2),o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,i=e.child.memoizedState,i=i===null?Rx(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=Dx,s}return o=e.child,e=o.sibling,s=oa(o,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function _v(e,t){return t=im({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Wd(e,t,r,s){return s!==null&&wv(s),Mi(t,e.child,null,r),e=_v(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function v_(e,t,r,s,a,o,i){if(r)return t.flags&256?(t.flags&=-257,s=qp(Error(ue(422))),Wd(e,t,i,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=s.fallback,a=t.mode,s=im({mode:"visible",children:s.children},a,0,null),o=Ka(o,a,i,null),o.flags|=2,s.return=t,o.return=t,s.sibling=o,t.child=s,t.mode&1&&Mi(t,e.child,null,i),t.child.memoizedState=Rx(i),t.memoizedState=Dx,o);if(!(t.mode&1))return Wd(e,t,i,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var l=s.dgst;return s=l,o=Error(ue(419)),s=qp(o,s,void 0),Wd(e,t,i,s)}if(l=(i&e.childLanes)!==0,sn||l){if(s=Mt,s!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|i)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,ps(e,a),dr(s,e,a,-1))}return Hv(),s=qp(Error(ue(421))),Wd(e,t,i,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=M_.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,Sn=na(a.nextSibling),En=t,st=!0,rr=null,e!==null&&(Ln[$n++]=os,Ln[$n++]=is,Ln[$n++]=Ja,os=e.id,is=e.overflow,Ja=t),t=_v(t,s.children),t.flags|=4096,t)}function ew(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Ex(e.return,t,r)}function Wp(e,t,r,s,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=s,o.tail=r,o.tailMode=a)}function ZS(e,t,r){var s=t.pendingProps,a=s.revealOrder,o=s.tail;if(Kt(e,t,s.children,r),s=ot.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ew(e,r,t);else if(e.tag===19)ew(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Xe(ot,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&ih(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Wp(t,!1,a,r,o);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&ih(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Wp(t,!0,r,null,o);break;case"together":Wp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Tu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function fs(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),eo|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ue(153));if(t.child!==null){for(e=t.child,r=oa(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=oa(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function y_(e,t,r){switch(t.tag){case 3:QS(t),Ai();break;case 5:CS(t);break;case 1:dn(t.type)&&th(t);break;case 4:Pv(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;Xe(sh,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Xe(ot,ot.current&1),t.flags|=128,null):r&t.child.childLanes?JS(e,t,r):(Xe(ot,ot.current&1),e=fs(e,t,r),e!==null?e.sibling:null);Xe(ot,ot.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return ZS(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Xe(ot,ot.current),s)break;return null;case 22:case 23:return t.lanes=0,GS(e,t,r)}return fs(e,t,r)}var eC,Fx,tC,nC;eC=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Fx=function(){};tC=function(e,t,r,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,Ua($r.current);var o=null;switch(r){case"input":a=nx(e,a),s=nx(e,s),o=[];break;case"select":a=dt({},a,{value:void 0}),s=dt({},s,{value:void 0}),o=[];break;case"textarea":a=ax(e,a),s=ax(e,s),o=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Zu)}ix(r,s);var i;r=null;for(c in a)if(!s.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var l=a[c];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(uc.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in s){var d=s[c];if(l=a!=null?a[c]:void 0,s.hasOwnProperty(c)&&d!==l&&(d!=null||l!=null))if(c==="style")if(l){for(i in l)!l.hasOwnProperty(i)||d&&d.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in d)d.hasOwnProperty(i)&&l[i]!==d[i]&&(r||(r={}),r[i]=d[i])}else r||(o||(o=[]),o.push(c,r)),r=d;else c==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,l=l?l.__html:void 0,d!=null&&l!==d&&(o=o||[]).push(c,d)):c==="children"?typeof d!="string"&&typeof d!="number"||(o=o||[]).push(c,""+d):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(uc.hasOwnProperty(c)?(d!=null&&c==="onScroll"&&et("scroll",e),o||l===d||(o=[])):(o=o||[]).push(c,d))}r&&(o=o||[]).push("style",r);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};nC=function(e,t,r,s){r!==s&&(t.flags|=4)};function Al(e,t){if(!st)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function $t(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function j_(e,t,r){var s=t.pendingProps;switch(jv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(t),null;case 1:return dn(t.type)&&eh(),$t(t),null;case 3:return s=t.stateNode,Di(),tt(cn),tt(zt),Tv(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(zd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,rr!==null&&(Vx(rr),rr=null))),Fx(e,t),$t(t),null;case 5:kv(t);var a=Ua(bc.current);if(r=t.type,e!==null&&t.stateNode!=null)tC(e,t,r,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(ue(166));return $t(t),null}if(e=Ua($r.current),zd(t)){s=t.stateNode,r=t.type;var o=t.memoizedProps;switch(s[_r]=t,s[wc]=o,e=(t.mode&1)!==0,r){case"dialog":et("cancel",s),et("close",s);break;case"iframe":case"object":case"embed":et("load",s);break;case"video":case"audio":for(a=0;a<zl.length;a++)et(zl[a],s);break;case"source":et("error",s);break;case"img":case"image":case"link":et("error",s),et("load",s);break;case"details":et("toggle",s);break;case"input":c0(s,o),et("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!o.multiple},et("invalid",s);break;case"textarea":u0(s,o),et("invalid",s)}ix(r,o),a=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?s.textContent!==l&&(o.suppressHydrationWarning!==!0&&Bd(s.textContent,l,e),a=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Bd(s.textContent,l,e),a=["children",""+l]):uc.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&et("scroll",s)}switch(r){case"input":_d(s),d0(s,o,!0);break;case"textarea":_d(s),h0(s);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(s.onclick=Zu)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=A1(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=i.createElement(r,{is:s.is}):(e=i.createElement(r),r==="select"&&(i=e,s.multiple?i.multiple=!0:s.size&&(i.size=s.size))):e=i.createElementNS(e,r),e[_r]=t,e[wc]=s,eC(e,t,!1,!1),t.stateNode=e;e:{switch(i=lx(r,s),r){case"dialog":et("cancel",e),et("close",e),a=s;break;case"iframe":case"object":case"embed":et("load",e),a=s;break;case"video":case"audio":for(a=0;a<zl.length;a++)et(zl[a],e);a=s;break;case"source":et("error",e),a=s;break;case"img":case"image":case"link":et("error",e),et("load",e),a=s;break;case"details":et("toggle",e),a=s;break;case"input":c0(e,s),a=nx(e,s),et("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=dt({},s,{value:void 0}),et("invalid",e);break;case"textarea":u0(e,s),a=ax(e,s),et("invalid",e);break;default:a=s}ix(r,a),l=a;for(o in l)if(l.hasOwnProperty(o)){var d=l[o];o==="style"?R1(e,d):o==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&M1(e,d)):o==="children"?typeof d=="string"?(r!=="textarea"||d!=="")&&hc(e,d):typeof d=="number"&&hc(e,""+d):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(uc.hasOwnProperty(o)?d!=null&&o==="onScroll"&&et("scroll",e):d!=null&&av(e,o,d,i))}switch(r){case"input":_d(e),d0(e,s,!1);break;case"textarea":_d(e),h0(e);break;case"option":s.value!=null&&e.setAttribute("value",""+ua(s.value));break;case"select":e.multiple=!!s.multiple,o=s.value,o!=null?ni(e,!!s.multiple,o,!1):s.defaultValue!=null&&ni(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Zu)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $t(t),null;case 6:if(e&&t.stateNode!=null)nC(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(ue(166));if(r=Ua(bc.current),Ua($r.current),zd(t)){if(s=t.stateNode,r=t.memoizedProps,s[_r]=t,(o=s.nodeValue!==r)&&(e=En,e!==null))switch(e.tag){case 3:Bd(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Bd(s.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[_r]=t,t.stateNode=s}return $t(t),null;case 13:if(tt(ot),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(st&&Sn!==null&&t.mode&1&&!(t.flags&128))jS(),Ai(),t.flags|=98560,o=!1;else if(o=zd(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(ue(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ue(317));o[_r]=t}else Ai(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$t(t),o=!1}else rr!==null&&(Vx(rr),rr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||ot.current&1?kt===0&&(kt=3):Hv())),t.updateQueue!==null&&(t.flags|=4),$t(t),null);case 4:return Di(),Fx(e,t),e===null&&yc(t.stateNode.containerInfo),$t(t),null;case 10:return Sv(t.type._context),$t(t),null;case 17:return dn(t.type)&&eh(),$t(t),null;case 19:if(tt(ot),o=t.memoizedState,o===null)return $t(t),null;if(s=(t.flags&128)!==0,i=o.rendering,i===null)if(s)Al(o,!1);else{if(kt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=ih(e),i!==null){for(t.flags|=128,Al(o,!1),s=i.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)o=r,e=s,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Xe(ot,ot.current&1|2),t.child}e=e.sibling}o.tail!==null&&vt()>Fi&&(t.flags|=128,s=!0,Al(o,!1),t.lanes=4194304)}else{if(!s)if(e=ih(i),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Al(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!st)return $t(t),null}else 2*vt()-o.renderingStartTime>Fi&&r!==1073741824&&(t.flags|=128,s=!0,Al(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=vt(),t.sibling=null,r=ot.current,Xe(ot,s?r&1|2:r&1),t):($t(t),null);case 22:case 23:return Uv(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?yn&1073741824&&($t(t),t.subtreeFlags&6&&(t.flags|=8192)):$t(t),null;case 24:return null;case 25:return null}throw Error(ue(156,t.tag))}function w_(e,t){switch(jv(t),t.tag){case 1:return dn(t.type)&&eh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Di(),tt(cn),tt(zt),Tv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return kv(t),null;case 13:if(tt(ot),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ue(340));Ai()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return tt(ot),null;case 4:return Di(),null;case 10:return Sv(t.type._context),null;case 22:case 23:return Uv(),null;case 24:return null;default:return null}}var Yd=!1,Vt=!1,N_=typeof WeakSet=="function"?WeakSet:Set,be=null;function Jo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){pt(e,t,s)}else r.current=null}function _x(e,t,r){try{r()}catch(s){pt(e,t,s)}}var tw=!1;function b_(e,t){if(vx=Xu,e=iS(),vv(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var a=s.anchorOffset,o=s.focusNode;s=s.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,l=-1,d=-1,c=0,u=0,m=e,h=null;t:for(;;){for(var f;m!==r||a!==0&&m.nodeType!==3||(l=i+a),m!==o||s!==0&&m.nodeType!==3||(d=i+s),m.nodeType===3&&(i+=m.nodeValue.length),(f=m.firstChild)!==null;)h=m,m=f;for(;;){if(m===e)break t;if(h===r&&++c===a&&(l=i),h===o&&++u===s&&(d=i),(f=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=f}r=l===-1||d===-1?null:{start:l,end:d}}else r=null}r=r||{start:0,end:0}}else r=null;for(yx={focusedElem:e,selectionRange:r},Xu=!1,be=t;be!==null;)if(t=be,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,be=e;else for(;be!==null;){t=be;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var x=j.memoizedProps,w=j.memoizedState,v=t.stateNode,g=v.getSnapshotBeforeUpdate(t.elementType===t.type?x:Jn(t.type,x),w);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ue(163))}}catch(N){pt(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,be=e;break}be=t.return}return j=tw,tw=!1,j}function sc(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&_x(t,r,o)}a=a.next}while(a!==s)}}function am(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function Ox(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function rC(e){var t=e.alternate;t!==null&&(e.alternate=null,rC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[_r],delete t[wc],delete t[Nx],delete t[a_],delete t[o_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sC(e){return e.tag===5||e.tag===3||e.tag===4}function nw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||sC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ix(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Zu));else if(s!==4&&(e=e.child,e!==null))for(Ix(e,t,r),e=e.sibling;e!==null;)Ix(e,t,r),e=e.sibling}function Lx(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Lx(e,t,r),e=e.sibling;e!==null;)Lx(e,t,r),e=e.sibling}var Rt=null,tr=!1;function As(e,t,r){for(r=r.child;r!==null;)aC(e,t,r),r=r.sibling}function aC(e,t,r){if(Lr&&typeof Lr.onCommitFiberUnmount=="function")try{Lr.onCommitFiberUnmount(Qh,r)}catch{}switch(r.tag){case 5:Vt||Jo(r,t);case 6:var s=Rt,a=tr;Rt=null,As(e,t,r),Rt=s,tr=a,Rt!==null&&(tr?(e=Rt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Rt.removeChild(r.stateNode));break;case 18:Rt!==null&&(tr?(e=Rt,r=r.stateNode,e.nodeType===8?$p(e.parentNode,r):e.nodeType===1&&$p(e,r),xc(e)):$p(Rt,r.stateNode));break;case 4:s=Rt,a=tr,Rt=r.stateNode.containerInfo,tr=!0,As(e,t,r),Rt=s,tr=a;break;case 0:case 11:case 14:case 15:if(!Vt&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var o=a,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&_x(r,t,i),a=a.next}while(a!==s)}As(e,t,r);break;case 1:if(!Vt&&(Jo(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(l){pt(r,t,l)}As(e,t,r);break;case 21:As(e,t,r);break;case 22:r.mode&1?(Vt=(s=Vt)||r.memoizedState!==null,As(e,t,r),Vt=s):As(e,t,r);break;default:As(e,t,r)}}function rw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new N_),t.forEach(function(s){var a=D_.bind(null,e,s);r.has(s)||(r.add(s),s.then(a,a))})}}function Xn(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var a=r[s];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:Rt=l.stateNode,tr=!1;break e;case 3:Rt=l.stateNode.containerInfo,tr=!0;break e;case 4:Rt=l.stateNode.containerInfo,tr=!0;break e}l=l.return}if(Rt===null)throw Error(ue(160));aC(o,i,a),Rt=null,tr=!1;var d=a.alternate;d!==null&&(d.return=null),a.return=null}catch(c){pt(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)oC(t,e),t=t.sibling}function oC(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xn(t,e),kr(e),s&4){try{sc(3,e,e.return),am(3,e)}catch(x){pt(e,e.return,x)}try{sc(5,e,e.return)}catch(x){pt(e,e.return,x)}}break;case 1:Xn(t,e),kr(e),s&512&&r!==null&&Jo(r,r.return);break;case 5:if(Xn(t,e),kr(e),s&512&&r!==null&&Jo(r,r.return),e.flags&32){var a=e.stateNode;try{hc(a,"")}catch(x){pt(e,e.return,x)}}if(s&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,l=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&k1(a,o),lx(l,i);var c=lx(l,o);for(i=0;i<d.length;i+=2){var u=d[i],m=d[i+1];u==="style"?R1(a,m):u==="dangerouslySetInnerHTML"?M1(a,m):u==="children"?hc(a,m):av(a,u,m,c)}switch(l){case"input":rx(a,o);break;case"textarea":T1(a,o);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var f=o.value;f!=null?ni(a,!!o.multiple,f,!1):h!==!!o.multiple&&(o.defaultValue!=null?ni(a,!!o.multiple,o.defaultValue,!0):ni(a,!!o.multiple,o.multiple?[]:"",!1))}a[wc]=o}catch(x){pt(e,e.return,x)}}break;case 6:if(Xn(t,e),kr(e),s&4){if(e.stateNode===null)throw Error(ue(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(x){pt(e,e.return,x)}}break;case 3:if(Xn(t,e),kr(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{xc(t.containerInfo)}catch(x){pt(e,e.return,x)}break;case 4:Xn(t,e),kr(e);break;case 13:Xn(t,e),kr(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(Lv=vt())),s&4&&rw(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Vt=(c=Vt)||u,Xn(t,e),Vt=c):Xn(t,e),kr(e),s&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(be=e,u=e.child;u!==null;){for(m=be=u;be!==null;){switch(h=be,f=h.child,h.tag){case 0:case 11:case 14:case 15:sc(4,h,h.return);break;case 1:Jo(h,h.return);var j=h.stateNode;if(typeof j.componentWillUnmount=="function"){s=h,r=h.return;try{t=s,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(x){pt(s,r,x)}}break;case 5:Jo(h,h.return);break;case 22:if(h.memoizedState!==null){aw(m);continue}}f!==null?(f.return=h,be=f):aw(m)}u=u.sibling}e:for(u=null,m=e;;){if(m.tag===5){if(u===null){u=m;try{a=m.stateNode,c?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=m.stateNode,d=m.memoizedProps.style,i=d!=null&&d.hasOwnProperty("display")?d.display:null,l.style.display=D1("display",i))}catch(x){pt(e,e.return,x)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(x){pt(e,e.return,x)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Xn(t,e),kr(e),s&4&&rw(e);break;case 21:break;default:Xn(t,e),kr(e)}}function kr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(sC(r)){var s=r;break e}r=r.return}throw Error(ue(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(hc(a,""),s.flags&=-33);var o=nw(e);Lx(e,o,a);break;case 3:case 4:var i=s.stateNode.containerInfo,l=nw(e);Ix(e,l,i);break;default:throw Error(ue(161))}}catch(d){pt(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function S_(e,t,r){be=e,iC(e)}function iC(e,t,r){for(var s=(e.mode&1)!==0;be!==null;){var a=be,o=a.child;if(a.tag===22&&s){var i=a.memoizedState!==null||Yd;if(!i){var l=a.alternate,d=l!==null&&l.memoizedState!==null||Vt;l=Yd;var c=Vt;if(Yd=i,(Vt=d)&&!c)for(be=a;be!==null;)i=be,d=i.child,i.tag===22&&i.memoizedState!==null?ow(a):d!==null?(d.return=i,be=d):ow(a);for(;o!==null;)be=o,iC(o),o=o.sibling;be=a,Yd=l,Vt=c}sw(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,be=o):sw(e)}}function sw(e){for(;be!==null;){var t=be;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Vt||am(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Vt)if(r===null)s.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Jn(t.type,r.memoizedProps);s.componentDidUpdate(a,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&V0(t,o,s);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}V0(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&r.focus();break;case"img":d.src&&(r.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&xc(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ue(163))}Vt||t.flags&512&&Ox(t)}catch(h){pt(t,t.return,h)}}if(t===e){be=null;break}if(r=t.sibling,r!==null){r.return=t.return,be=r;break}be=t.return}}function aw(e){for(;be!==null;){var t=be;if(t===e){be=null;break}var r=t.sibling;if(r!==null){r.return=t.return,be=r;break}be=t.return}}function ow(e){for(;be!==null;){var t=be;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{am(4,t)}catch(d){pt(t,r,d)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(d){pt(t,a,d)}}var o=t.return;try{Ox(t)}catch(d){pt(t,o,d)}break;case 5:var i=t.return;try{Ox(t)}catch(d){pt(t,i,d)}}}catch(d){pt(t,t.return,d)}if(t===e){be=null;break}var l=t.sibling;if(l!==null){l.return=t.return,be=l;break}be=t.return}}var C_=Math.ceil,dh=bs.ReactCurrentDispatcher,Ov=bs.ReactCurrentOwner,Hn=bs.ReactCurrentBatchConfig,Le=0,Mt=null,St=null,Ft=0,yn=0,Zo=wa(0),kt=0,Pc=null,eo=0,om=0,Iv=0,ac=null,rn=null,Lv=0,Fi=1/0,rs=null,uh=!1,$x=null,sa=null,Kd=!1,Qs=null,hh=0,oc=0,Ux=null,Au=-1,Mu=0;function Qt(){return Le&6?vt():Au!==-1?Au:Au=vt()}function aa(e){return e.mode&1?Le&2&&Ft!==0?Ft&-Ft:l_.transition!==null?(Mu===0&&(Mu=q1()),Mu):(e=Be,e!==0||(e=window.event,e=e===void 0?16:J1(e.type)),e):1}function dr(e,t,r,s){if(50<oc)throw oc=0,Ux=null,Error(ue(185));ed(e,r,s),(!(Le&2)||e!==Mt)&&(e===Mt&&(!(Le&2)&&(om|=r),kt===4&&Bs(e,Ft)),un(e,s),r===1&&Le===0&&!(t.mode&1)&&(Fi=vt()+500,nm&&Na()))}function un(e,t){var r=e.callbackNode;lF(e,t);var s=Gu(e,e===Mt?Ft:0);if(s===0)r!==null&&f0(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&f0(r),t===1)e.tag===0?i_(iw.bind(null,e)):gS(iw.bind(null,e)),r_(function(){!(Le&6)&&Na()}),r=null;else{switch(W1(s)){case 1:r=dv;break;case 4:r=B1;break;case 16:r=Ku;break;case 536870912:r=z1;break;default:r=Ku}r=fC(r,lC.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function lC(e,t){if(Au=-1,Mu=0,Le&6)throw Error(ue(327));var r=e.callbackNode;if(ii()&&e.callbackNode!==r)return null;var s=Gu(e,e===Mt?Ft:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=mh(e,s);else{t=s;var a=Le;Le|=2;var o=dC();(Mt!==e||Ft!==t)&&(rs=null,Fi=vt()+500,Ya(e,t));do try{k_();break}catch(l){cC(e,l)}while(!0);bv(),dh.current=o,Le=a,St!==null?t=0:(Mt=null,Ft=0,t=kt)}if(t!==0){if(t===2&&(a=mx(e),a!==0&&(s=a,t=Hx(e,a))),t===1)throw r=Pc,Ya(e,0),Bs(e,s),un(e,vt()),r;if(t===6)Bs(e,s);else{if(a=e.current.alternate,!(s&30)&&!E_(a)&&(t=mh(e,s),t===2&&(o=mx(e),o!==0&&(s=o,t=Hx(e,o))),t===1))throw r=Pc,Ya(e,0),Bs(e,s),un(e,vt()),r;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(ue(345));case 2:Ra(e,rn,rs);break;case 3:if(Bs(e,s),(s&130023424)===s&&(t=Lv+500-vt(),10<t)){if(Gu(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){Qt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=wx(Ra.bind(null,e,rn,rs),t);break}Ra(e,rn,rs);break;case 4:if(Bs(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var i=31-cr(s);o=1<<i,i=t[i],i>a&&(a=i),s&=~o}if(s=a,s=vt()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*C_(s/1960))-s,10<s){e.timeoutHandle=wx(Ra.bind(null,e,rn,rs),s);break}Ra(e,rn,rs);break;case 5:Ra(e,rn,rs);break;default:throw Error(ue(329))}}}return un(e,vt()),e.callbackNode===r?lC.bind(null,e):null}function Hx(e,t){var r=ac;return e.current.memoizedState.isDehydrated&&(Ya(e,t).flags|=256),e=mh(e,t),e!==2&&(t=rn,rn=r,t!==null&&Vx(t)),e}function Vx(e){rn===null?rn=e:rn.push.apply(rn,e)}function E_(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var a=r[s],o=a.getSnapshot;a=a.value;try{if(!mr(o(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bs(e,t){for(t&=~Iv,t&=~om,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-cr(t),s=1<<r;e[r]=-1,t&=~s}}function iw(e){if(Le&6)throw Error(ue(327));ii();var t=Gu(e,0);if(!(t&1))return un(e,vt()),null;var r=mh(e,t);if(e.tag!==0&&r===2){var s=mx(e);s!==0&&(t=s,r=Hx(e,s))}if(r===1)throw r=Pc,Ya(e,0),Bs(e,t),un(e,vt()),r;if(r===6)throw Error(ue(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ra(e,rn,rs),un(e,vt()),null}function $v(e,t){var r=Le;Le|=1;try{return e(t)}finally{Le=r,Le===0&&(Fi=vt()+500,nm&&Na())}}function to(e){Qs!==null&&Qs.tag===0&&!(Le&6)&&ii();var t=Le;Le|=1;var r=Hn.transition,s=Be;try{if(Hn.transition=null,Be=1,e)return e()}finally{Be=s,Hn.transition=r,Le=t,!(Le&6)&&Na()}}function Uv(){yn=Zo.current,tt(Zo)}function Ya(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,n_(r)),St!==null)for(r=St.return;r!==null;){var s=r;switch(jv(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&eh();break;case 3:Di(),tt(cn),tt(zt),Tv();break;case 5:kv(s);break;case 4:Di();break;case 13:tt(ot);break;case 19:tt(ot);break;case 10:Sv(s.type._context);break;case 22:case 23:Uv()}r=r.return}if(Mt=e,St=e=oa(e.current,null),Ft=yn=t,kt=0,Pc=null,Iv=om=eo=0,rn=ac=null,$a!==null){for(t=0;t<$a.length;t++)if(r=$a[t],s=r.interleaved,s!==null){r.interleaved=null;var a=s.next,o=r.pending;if(o!==null){var i=o.next;o.next=a,s.next=i}r.pending=s}$a=null}return e}function cC(e,t){do{var r=St;try{if(bv(),Pu.current=ch,lh){for(var s=lt.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}lh=!1}if(Za=0,At=Pt=lt=null,rc=!1,Sc=0,Ov.current=null,r===null||r.return===null){kt=1,Pc=t,St=null;break}e:{var o=e,i=r.return,l=r,d=t;if(t=Ft,l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var c=d,u=l,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=K0(i);if(f!==null){f.flags&=-257,G0(f,i,l,o,t),f.mode&1&&Y0(o,c,t),t=f,d=c;var j=t.updateQueue;if(j===null){var x=new Set;x.add(d),t.updateQueue=x}else j.add(d);break e}else{if(!(t&1)){Y0(o,c,t),Hv();break e}d=Error(ue(426))}}else if(st&&l.mode&1){var w=K0(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),G0(w,i,l,o,t),wv(Ri(d,l));break e}}o=d=Ri(d,l),kt!==4&&(kt=2),ac===null?ac=[o]:ac.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var v=WS(o,d,t);H0(o,v);break e;case 1:l=d;var g=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(sa===null||!sa.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t;var N=YS(o,l,t);H0(o,N);break e}}o=o.return}while(o!==null)}hC(r)}catch(b){t=b,St===r&&r!==null&&(St=r=r.return);continue}break}while(!0)}function dC(){var e=dh.current;return dh.current=ch,e===null?ch:e}function Hv(){(kt===0||kt===3||kt===2)&&(kt=4),Mt===null||!(eo&268435455)&&!(om&268435455)||Bs(Mt,Ft)}function mh(e,t){var r=Le;Le|=2;var s=dC();(Mt!==e||Ft!==t)&&(rs=null,Ya(e,t));do try{P_();break}catch(a){cC(e,a)}while(!0);if(bv(),Le=r,dh.current=s,St!==null)throw Error(ue(261));return Mt=null,Ft=0,kt}function P_(){for(;St!==null;)uC(St)}function k_(){for(;St!==null&&!ZR();)uC(St)}function uC(e){var t=pC(e.alternate,e,yn);e.memoizedProps=e.pendingProps,t===null?hC(e):St=t,Ov.current=null}function hC(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=w_(r,t),r!==null){r.flags&=32767,St=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{kt=6,St=null;return}}else if(r=j_(r,t,yn),r!==null){St=r;return}if(t=t.sibling,t!==null){St=t;return}St=t=e}while(t!==null);kt===0&&(kt=5)}function Ra(e,t,r){var s=Be,a=Hn.transition;try{Hn.transition=null,Be=1,T_(e,t,r,s)}finally{Hn.transition=a,Be=s}return null}function T_(e,t,r,s){do ii();while(Qs!==null);if(Le&6)throw Error(ue(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ue(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(cF(e,o),e===Mt&&(St=Mt=null,Ft=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Kd||(Kd=!0,fC(Ku,function(){return ii(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Hn.transition,Hn.transition=null;var i=Be;Be=1;var l=Le;Le|=4,Ov.current=null,b_(e,r),oC(r,e),GF(yx),Xu=!!vx,yx=vx=null,e.current=r,S_(r),eF(),Le=l,Be=i,Hn.transition=o}else e.current=r;if(Kd&&(Kd=!1,Qs=e,hh=a),o=e.pendingLanes,o===0&&(sa=null),rF(r.stateNode),un(e,vt()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],s(a.value,{componentStack:a.stack,digest:a.digest});if(uh)throw uh=!1,e=$x,$x=null,e;return hh&1&&e.tag!==0&&ii(),o=e.pendingLanes,o&1?e===Ux?oc++:(oc=0,Ux=e):oc=0,Na(),null}function ii(){if(Qs!==null){var e=W1(hh),t=Hn.transition,r=Be;try{if(Hn.transition=null,Be=16>e?16:e,Qs===null)var s=!1;else{if(e=Qs,Qs=null,hh=0,Le&6)throw Error(ue(331));var a=Le;for(Le|=4,be=e.current;be!==null;){var o=be,i=o.child;if(be.flags&16){var l=o.deletions;if(l!==null){for(var d=0;d<l.length;d++){var c=l[d];for(be=c;be!==null;){var u=be;switch(u.tag){case 0:case 11:case 15:sc(8,u,o)}var m=u.child;if(m!==null)m.return=u,be=m;else for(;be!==null;){u=be;var h=u.sibling,f=u.return;if(rC(u),u===c){be=null;break}if(h!==null){h.return=f,be=h;break}be=f}}}var j=o.alternate;if(j!==null){var x=j.child;if(x!==null){j.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}be=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,be=i;else e:for(;be!==null;){if(o=be,o.flags&2048)switch(o.tag){case 0:case 11:case 15:sc(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,be=v;break e}be=o.return}}var g=e.current;for(be=g;be!==null;){i=be;var y=i.child;if(i.subtreeFlags&2064&&y!==null)y.return=i,be=y;else e:for(i=g;be!==null;){if(l=be,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:am(9,l)}}catch(b){pt(l,l.return,b)}if(l===i){be=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,be=N;break e}be=l.return}}if(Le=a,Na(),Lr&&typeof Lr.onPostCommitFiberRoot=="function")try{Lr.onPostCommitFiberRoot(Qh,e)}catch{}s=!0}return s}finally{Be=r,Hn.transition=t}}return!1}function lw(e,t,r){t=Ri(r,t),t=WS(e,t,1),e=ra(e,t,1),t=Qt(),e!==null&&(ed(e,1,t),un(e,t))}function pt(e,t,r){if(e.tag===3)lw(e,e,r);else for(;t!==null;){if(t.tag===3){lw(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(sa===null||!sa.has(s))){e=Ri(r,e),e=YS(t,e,1),t=ra(t,e,1),e=Qt(),t!==null&&(ed(t,1,e),un(t,e));break}}t=t.return}}function A_(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=Qt(),e.pingedLanes|=e.suspendedLanes&r,Mt===e&&(Ft&r)===r&&(kt===4||kt===3&&(Ft&130023424)===Ft&&500>vt()-Lv?Ya(e,0):Iv|=r),un(e,t)}function mC(e,t){t===0&&(e.mode&1?(t=Ld,Ld<<=1,!(Ld&130023424)&&(Ld=4194304)):t=1);var r=Qt();e=ps(e,t),e!==null&&(ed(e,t,r),un(e,r))}function M_(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),mC(e,r)}function D_(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(ue(314))}s!==null&&s.delete(t),mC(e,r)}var pC;pC=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||cn.current)sn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return sn=!1,y_(e,t,r);sn=!!(e.flags&131072)}else sn=!1,st&&t.flags&1048576&&vS(t,rh,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Tu(e,t),e=t.pendingProps;var a=Ti(t,zt.current);oi(t,r),a=Mv(null,t,s,e,a,r);var o=Dv();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,dn(s)?(o=!0,th(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Ev(t),a.updater=sm,t.stateNode=a,a._reactInternals=t,kx(t,s,e,r),t=Mx(null,t,s,!0,o,r)):(t.tag=0,st&&o&&yv(t),Kt(null,t,a,r),t=t.child),t;case 16:s=t.elementType;e:{switch(Tu(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=F_(s),e=Jn(s,e),a){case 0:t=Ax(null,t,s,e,r);break e;case 1:t=J0(null,t,s,e,r);break e;case 11:t=X0(null,t,s,e,r);break e;case 14:t=Q0(null,t,s,Jn(s.type,e),r);break e}throw Error(ue(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Jn(s,a),Ax(e,t,s,a,r);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Jn(s,a),J0(e,t,s,a,r);case 3:e:{if(QS(t),e===null)throw Error(ue(387));s=t.pendingProps,o=t.memoizedState,a=o.element,SS(e,t),oh(t,s,null,r);var i=t.memoizedState;if(s=i.element,o.isDehydrated)if(o={element:s,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=Ri(Error(ue(423)),t),t=Z0(e,t,s,r,a);break e}else if(s!==a){a=Ri(Error(ue(424)),t),t=Z0(e,t,s,r,a);break e}else for(Sn=na(t.stateNode.containerInfo.firstChild),En=t,st=!0,rr=null,r=NS(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ai(),s===a){t=fs(e,t,r);break e}Kt(e,t,s,r)}t=t.child}return t;case 5:return CS(t),e===null&&Cx(t),s=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,i=a.children,jx(s,a)?i=null:o!==null&&jx(s,o)&&(t.flags|=32),XS(e,t),Kt(e,t,i,r),t.child;case 6:return e===null&&Cx(t),null;case 13:return JS(e,t,r);case 4:return Pv(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Mi(t,null,s,r):Kt(e,t,s,r),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Jn(s,a),X0(e,t,s,a,r);case 7:return Kt(e,t,t.pendingProps,r),t.child;case 8:return Kt(e,t,t.pendingProps.children,r),t.child;case 12:return Kt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,Xe(sh,s._currentValue),s._currentValue=i,o!==null)if(mr(o.value,i)){if(o.children===a.children&&!cn.current){t=fs(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var d=l.firstContext;d!==null;){if(d.context===s){if(o.tag===1){d=ds(-1,r&-r),d.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?d.next=d:(d.next=u.next,u.next=d),c.pending=d}}o.lanes|=r,d=o.alternate,d!==null&&(d.lanes|=r),Ex(o.return,r,t),l.lanes|=r;break}d=d.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(ue(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Ex(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Kt(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,oi(t,r),a=Bn(a),s=s(a),t.flags|=1,Kt(e,t,s,r),t.child;case 14:return s=t.type,a=Jn(s,t.pendingProps),a=Jn(s.type,a),Q0(e,t,s,a,r);case 15:return KS(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Jn(s,a),Tu(e,t),t.tag=1,dn(s)?(e=!0,th(t)):e=!1,oi(t,r),qS(t,s,a),kx(t,s,a,r),Mx(null,t,s,!0,e,r);case 19:return ZS(e,t,r);case 22:return GS(e,t,r)}throw Error(ue(156,t.tag))};function fC(e,t){return V1(e,t)}function R_(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(e,t,r,s){return new R_(e,t,r,s)}function Vv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function F_(e){if(typeof e=="function")return Vv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===iv)return 11;if(e===lv)return 14}return 2}function oa(e,t){var r=e.alternate;return r===null?(r=Un(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Du(e,t,r,s,a,o){var i=2;if(s=e,typeof e=="function")Vv(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Bo:return Ka(r.children,a,o,t);case ov:i=8,a|=8;break;case Jf:return e=Un(12,r,t,a|2),e.elementType=Jf,e.lanes=o,e;case Zf:return e=Un(13,r,t,a),e.elementType=Zf,e.lanes=o,e;case ex:return e=Un(19,r,t,a),e.elementType=ex,e.lanes=o,e;case C1:return im(r,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case b1:i=10;break e;case S1:i=9;break e;case iv:i=11;break e;case lv:i=14;break e;case Us:i=16,s=null;break e}throw Error(ue(130,e==null?e:typeof e,""))}return t=Un(i,r,t,a),t.elementType=e,t.type=s,t.lanes=o,t}function Ka(e,t,r,s){return e=Un(7,e,s,t),e.lanes=r,e}function im(e,t,r,s){return e=Un(22,e,s,t),e.elementType=C1,e.lanes=r,e.stateNode={isHidden:!1},e}function Yp(e,t,r){return e=Un(6,e,null,t),e.lanes=r,e}function Kp(e,t,r){return t=Un(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function __(e,t,r,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kp(0),this.expirationTimes=kp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kp(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Bv(e,t,r,s,a,o,i,l,d){return e=new __(e,t,r,l,d),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Un(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ev(o),e}function O_(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vo,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function xC(e){if(!e)return ha;e=e._reactInternals;e:{if(yo(e)!==e||e.tag!==1)throw Error(ue(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(dn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ue(171))}if(e.tag===1){var r=e.type;if(dn(r))return xS(e,r,t)}return t}function gC(e,t,r,s,a,o,i,l,d){return e=Bv(r,s,!0,e,a,o,i,l,d),e.context=xC(null),r=e.current,s=Qt(),a=aa(r),o=ds(s,a),o.callback=t??null,ra(r,o,a),e.current.lanes=a,ed(e,a,s),un(e,s),e}function lm(e,t,r,s){var a=t.current,o=Qt(),i=aa(a);return r=xC(r),t.context===null?t.context=r:t.pendingContext=r,t=ds(o,i),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=ra(a,t,i),e!==null&&(dr(e,a,i,o),Eu(e,a,i)),i}function ph(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function cw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function zv(e,t){cw(e,t),(e=e.alternate)&&cw(e,t)}function I_(){return null}var vC=typeof reportError=="function"?reportError:function(e){console.error(e)};function qv(e){this._internalRoot=e}cm.prototype.render=qv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ue(409));lm(e,t,null,null)};cm.prototype.unmount=qv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;to(function(){lm(null,e,null,null)}),t[ms]=null}};function cm(e){this._internalRoot=e}cm.prototype.unstable_scheduleHydration=function(e){if(e){var t=G1();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Vs.length&&t!==0&&t<Vs[r].priority;r++);Vs.splice(r,0,e),r===0&&Q1(e)}};function Wv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function dm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function dw(){}function L_(e,t,r,s,a){if(a){if(typeof s=="function"){var o=s;s=function(){var c=ph(i);o.call(c)}}var i=gC(t,s,e,0,null,!1,!1,"",dw);return e._reactRootContainer=i,e[ms]=i.current,yc(e.nodeType===8?e.parentNode:e),to(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var l=s;s=function(){var c=ph(d);l.call(c)}}var d=Bv(e,0,!1,null,null,!1,!1,"",dw);return e._reactRootContainer=d,e[ms]=d.current,yc(e.nodeType===8?e.parentNode:e),to(function(){lm(t,d,r,s)}),d}function um(e,t,r,s,a){var o=r._reactRootContainer;if(o){var i=o;if(typeof a=="function"){var l=a;a=function(){var d=ph(i);l.call(d)}}lm(t,i,e,a)}else i=L_(r,t,e,a,s);return ph(i)}Y1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Bl(t.pendingLanes);r!==0&&(uv(t,r|1),un(t,vt()),!(Le&6)&&(Fi=vt()+500,Na()))}break;case 13:to(function(){var s=ps(e,1);if(s!==null){var a=Qt();dr(s,e,1,a)}}),zv(e,1)}};hv=function(e){if(e.tag===13){var t=ps(e,134217728);if(t!==null){var r=Qt();dr(t,e,134217728,r)}zv(e,134217728)}};K1=function(e){if(e.tag===13){var t=aa(e),r=ps(e,t);if(r!==null){var s=Qt();dr(r,e,t,s)}zv(e,t)}};G1=function(){return Be};X1=function(e,t){var r=Be;try{return Be=e,t()}finally{Be=r}};dx=function(e,t,r){switch(t){case"input":if(rx(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var a=tm(s);if(!a)throw Error(ue(90));P1(s),rx(s,a)}}}break;case"textarea":T1(e,r);break;case"select":t=r.value,t!=null&&ni(e,!!r.multiple,t,!1)}};O1=$v;I1=to;var $_={usingClientEntryPoint:!1,Events:[nd,Yo,tm,F1,_1,$v]},Ml={findFiberByHostInstance:La,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},U_={bundleType:Ml.bundleType,version:Ml.version,rendererPackageName:Ml.rendererPackageName,rendererConfig:Ml.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=U1(e),e===null?null:e.stateNode},findFiberByHostInstance:Ml.findFiberByHostInstance||I_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gd.isDisabled&&Gd.supportsFiber)try{Qh=Gd.inject(U_),Lr=Gd}catch{}}Mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$_;Mn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wv(t))throw Error(ue(200));return O_(e,t,null,r)};Mn.createRoot=function(e,t){if(!Wv(e))throw Error(ue(299));var r=!1,s="",a=vC;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Bv(e,1,!1,null,null,r,!1,s,a),e[ms]=t.current,yc(e.nodeType===8?e.parentNode:e),new qv(t)};Mn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ue(188)):(e=Object.keys(e).join(","),Error(ue(268,e)));return e=U1(t),e=e===null?null:e.stateNode,e};Mn.flushSync=function(e){return to(e)};Mn.hydrate=function(e,t,r){if(!dm(t))throw Error(ue(200));return um(null,e,t,!0,r)};Mn.hydrateRoot=function(e,t,r){if(!Wv(e))throw Error(ue(405));var s=r!=null&&r.hydratedSources||null,a=!1,o="",i=vC;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=gC(t,null,e,1,r??null,a,!1,o,i),e[ms]=t.current,yc(e),s)for(e=0;e<s.length;e++)r=s[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new cm(t)};Mn.render=function(e,t,r){if(!dm(t))throw Error(ue(200));return um(null,e,t,!1,r)};Mn.unmountComponentAtNode=function(e){if(!dm(e))throw Error(ue(40));return e._reactRootContainer?(to(function(){um(null,null,e,!1,function(){e._reactRootContainer=null,e[ms]=null})}),!0):!1};Mn.unstable_batchedUpdates=$v;Mn.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!dm(r))throw Error(ue(200));if(e==null||e._reactInternals===void 0)throw Error(ue(38));return um(e,t,r,!1,s)};Mn.version="18.3.1-next-f1338f8080-20240426";function yC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yC)}catch(e){console.error(e)}}yC(),y1.exports=Mn;var Nr=y1.exports;const hm=Jg(Nr);var jC,uw=Nr;jC=uw.createRoot,uw.hydrateRoot;const H_=1,V_=1e6;let Gp=0;function B_(){return Gp=(Gp+1)%Number.MAX_SAFE_INTEGER,Gp.toString()}const Xp=new Map,hw=e=>{if(Xp.has(e))return;const t=setTimeout(()=>{Xp.delete(e),ic({type:"REMOVE_TOAST",toastId:e})},V_);Xp.set(e,t)},z_=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,H_)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?hw(r):e.toasts.forEach(s=>{hw(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===r||r===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Ru=[];let Fu={toasts:[]};function ic(e){Fu=z_(Fu,e),Ru.forEach(t=>{t(Fu)})}function fh({...e}){const t=B_(),r=a=>ic({type:"UPDATE_TOAST",toast:{...a,id:t}}),s=()=>ic({type:"DISMISS_TOAST",toastId:t});return ic({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||s()}}}),{id:t,dismiss:s,update:r}}function Qe(){const[e,t]=p.useState(Fu);return p.useEffect(()=>(Ru.push(t),()=>{const r=Ru.indexOf(t);r>-1&&Ru.splice(r,1)}),[e]),{...e,toast:fh,dismiss:r=>ic({type:"DISMISS_TOAST",toastId:r})}}function he(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function q_(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function mm(...e){return t=>e.forEach(r=>q_(r,t))}function Te(...e){return p.useCallback(mm(...e),e)}function W_(e,t=[]){let r=[];function s(o,i){const l=p.createContext(i),d=r.length;r=[...r,i];function c(m){const{scope:h,children:f,...j}=m,x=(h==null?void 0:h[e][d])||l,w=p.useMemo(()=>j,Object.values(j));return n.jsx(x.Provider,{value:w,children:f})}function u(m,h){const f=(h==null?void 0:h[e][d])||l,j=p.useContext(f);if(j)return j;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,u]}const a=()=>{const o=r.map(i=>p.createContext(i));return function(l){const d=(l==null?void 0:l[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return a.scopeName=e,[s,Y_(a,...t)]}function Y_(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=s.reduce((l,{useScope:d,scopeName:c})=>{const m=d(o)[`__scope${c}`];return{...l,...m}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var ma=p.forwardRef((e,t)=>{const{children:r,...s}=e,a=p.Children.toArray(r),o=a.find(K_);if(o){const i=o.props.children,l=a.map(d=>d===o?p.Children.count(i)>1?p.Children.only(null):p.isValidElement(i)?i.props.children:null:d);return n.jsx(Bx,{...s,ref:t,children:p.isValidElement(i)?p.cloneElement(i,void 0,l):null})}return n.jsx(Bx,{...s,ref:t,children:r})});ma.displayName="Slot";var Bx=p.forwardRef((e,t)=>{const{children:r,...s}=e;if(p.isValidElement(r)){const a=X_(r);return p.cloneElement(r,{...G_(s,r.props),ref:t?mm(t,a):a})}return p.Children.count(r)>1?p.Children.only(null):null});Bx.displayName="SlotClone";var Yv=({children:e})=>n.jsx(n.Fragment,{children:e});function K_(e){return p.isValidElement(e)&&e.type===Yv}function G_(e,t){const r={...t};for(const s in t){const a=e[s],o=t[s];/^on[A-Z]/.test(s)?a&&o?r[s]=(...l)=>{o(...l),a(...l)}:a&&(r[s]=a):s==="style"?r[s]={...a,...o}:s==="className"&&(r[s]=[a,o].filter(Boolean).join(" "))}return{...e,...r}}function X_(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function pm(e){const t=e+"CollectionProvider",[r,s]=W_(t),[a,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=f=>{const{scope:j,children:x}=f,w=pe.useRef(null),v=pe.useRef(new Map).current;return n.jsx(a,{scope:j,itemMap:v,collectionRef:w,children:x})};i.displayName=t;const l=e+"CollectionSlot",d=pe.forwardRef((f,j)=>{const{scope:x,children:w}=f,v=o(l,x),g=Te(j,v.collectionRef);return n.jsx(ma,{ref:g,children:w})});d.displayName=l;const c=e+"CollectionItemSlot",u="data-radix-collection-item",m=pe.forwardRef((f,j)=>{const{scope:x,children:w,...v}=f,g=pe.useRef(null),y=Te(j,g),N=o(c,x);return pe.useEffect(()=>(N.itemMap.set(g,{ref:g,...v}),()=>void N.itemMap.delete(g))),n.jsx(ma,{[u]:"",ref:y,children:w})});m.displayName=c;function h(f){const j=o(e+"CollectionConsumer",f);return pe.useCallback(()=>{const w=j.collectionRef.current;if(!w)return[];const v=Array.from(w.querySelectorAll(`[${u}]`));return Array.from(j.itemMap.values()).sort((N,b)=>v.indexOf(N.ref.current)-v.indexOf(b.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:i,Slot:d,ItemSlot:m},h,s]}function Q_(e,t){const r=p.createContext(t),s=o=>{const{children:i,...l}=o,d=p.useMemo(()=>l,Object.values(l));return n.jsx(r.Provider,{value:d,children:i})};s.displayName=e+"Provider";function a(o){const i=p.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[s,a]}function Wn(e,t=[]){let r=[];function s(o,i){const l=p.createContext(i),d=r.length;r=[...r,i];const c=m=>{var v;const{scope:h,children:f,...j}=m,x=((v=h==null?void 0:h[e])==null?void 0:v[d])||l,w=p.useMemo(()=>j,Object.values(j));return n.jsx(x.Provider,{value:w,children:f})};c.displayName=o+"Provider";function u(m,h){var x;const f=((x=h==null?void 0:h[e])==null?void 0:x[d])||l,j=p.useContext(f);if(j)return j;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return[c,u]}const a=()=>{const o=r.map(i=>p.createContext(i));return function(l){const d=(l==null?void 0:l[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return a.scopeName=e,[s,J_(a,...t)]}function J_(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=s.reduce((l,{useScope:d,scopeName:c})=>{const m=d(o)[`__scope${c}`];return{...l,...m}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var Z_=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ce=Z_.reduce((e,t)=>{const r=p.forwardRef((s,a)=>{const{asChild:o,...i}=s,l=o?ma:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(l,{...i,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Kv(e,t){e&&Nr.flushSync(()=>e.dispatchEvent(t))}function it(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>{var s;return(s=t.current)==null?void 0:s.call(t,...r)},[])}function eO(e,t=globalThis==null?void 0:globalThis.document){const r=it(e);p.useEffect(()=>{const s=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[r,t])}var tO="DismissableLayer",zx="dismissableLayer.update",nO="dismissableLayer.pointerDownOutside",rO="dismissableLayer.focusOutside",mw,wC=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),sl=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...d}=e,c=p.useContext(wC),[u,m]=p.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=p.useState({}),j=Te(t,S=>m(S)),x=Array.from(c.layers),[w]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=x.indexOf(w),g=u?x.indexOf(u):-1,y=c.layersWithOutsidePointerEventsDisabled.size>0,N=g>=v,b=aO(S=>{const P=S.target,_=[...c.branches].some(T=>T.contains(P));!N||_||(a==null||a(S),i==null||i(S),S.defaultPrevented||l==null||l())},h),E=oO(S=>{const P=S.target;[...c.branches].some(T=>T.contains(P))||(o==null||o(S),i==null||i(S),S.defaultPrevented||l==null||l())},h);return eO(S=>{g===c.layers.size-1&&(s==null||s(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},h),p.useEffect(()=>{if(u)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(mw=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),pw(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=mw)}},[u,h,r,c]),p.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),pw())},[u,c]),p.useEffect(()=>{const S=()=>f({});return document.addEventListener(zx,S),()=>document.removeEventListener(zx,S)},[]),n.jsx(Ce.div,{...d,ref:j,style:{pointerEvents:y?N?"auto":"none":void 0,...e.style},onFocusCapture:he(e.onFocusCapture,E.onFocusCapture),onBlurCapture:he(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:he(e.onPointerDownCapture,b.onPointerDownCapture)})});sl.displayName=tO;var sO="DismissableLayerBranch",NC=p.forwardRef((e,t)=>{const r=p.useContext(wC),s=p.useRef(null),a=Te(t,s);return p.useEffect(()=>{const o=s.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),n.jsx(Ce.div,{...e,ref:a})});NC.displayName=sO;function aO(e,t=globalThis==null?void 0:globalThis.document){const r=it(e),s=p.useRef(!1),a=p.useRef(()=>{});return p.useEffect(()=>{const o=l=>{if(l.target&&!s.current){let d=function(){bC(nO,r,c,{discrete:!0})};const c={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=d,t.addEventListener("click",a.current,{once:!0})):d()}else t.removeEventListener("click",a.current);s.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function oO(e,t=globalThis==null?void 0:globalThis.document){const r=it(e),s=p.useRef(!1);return p.useEffect(()=>{const a=o=>{o.target&&!s.current&&bC(rO,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function pw(){const e=new CustomEvent(zx);document.dispatchEvent(e)}function bC(e,t,r,{discrete:s}){const a=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?Kv(a,o):a.dispatchEvent(o)}var iO=sl,lO=NC,Dt=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},cO="Portal",sd=p.forwardRef((e,t)=>{var l;const{container:r,...s}=e,[a,o]=p.useState(!1);Dt(()=>o(!0),[]);const i=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?hm.createPortal(n.jsx(Ce.div,{...s,ref:t}),i):null});sd.displayName=cO;function dO(e,t){return p.useReducer((r,s)=>t[r][s]??r,e)}var Ot=e=>{const{present:t,children:r}=e,s=uO(t),a=typeof r=="function"?r({present:s.isPresent}):p.Children.only(r),o=Te(s.ref,hO(a));return typeof r=="function"||s.isPresent?p.cloneElement(a,{ref:o}):null};Ot.displayName="Presence";function uO(e){const[t,r]=p.useState(),s=p.useRef({}),a=p.useRef(e),o=p.useRef("none"),i=e?"mounted":"unmounted",[l,d]=dO(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const c=Xd(s.current);o.current=l==="mounted"?c:"none"},[l]),Dt(()=>{const c=s.current,u=a.current;if(u!==e){const h=o.current,f=Xd(c);e?d("MOUNT"):f==="none"||(c==null?void 0:c.display)==="none"?d("UNMOUNT"):d(u&&h!==f?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,d]),Dt(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,m=f=>{const x=Xd(s.current).includes(f.animationName);if(f.target===t&&x&&(d("ANIMATION_END"),!a.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},h=f=>{f.target===t&&(o.current=Xd(s.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(c=>{c&&(s.current=getComputedStyle(c)),r(c)},[])}}function Xd(e){return(e==null?void 0:e.animationName)||"none"}function hO(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Vr({prop:e,defaultProp:t,onChange:r=()=>{}}){const[s,a]=mO({defaultProp:t,onChange:r}),o=e!==void 0,i=o?e:s,l=it(r),d=p.useCallback(c=>{if(o){const m=typeof c=="function"?c(e):c;m!==e&&l(m)}else a(c)},[o,e,a,l]);return[i,d]}function mO({defaultProp:e,onChange:t}){const r=p.useState(e),[s]=r,a=p.useRef(s),o=it(t);return p.useEffect(()=>{a.current!==s&&(o(s),a.current=s)},[s,a,o]),r}var pO="VisuallyHidden",ad=p.forwardRef((e,t)=>n.jsx(Ce.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));ad.displayName=pO;var fO=ad,Gv="ToastProvider",[Xv,xO,gO]=pm("Toast"),[SC,Ste]=Wn("Toast",[gO]),[vO,fm]=SC(Gv),CC=e=>{const{__scopeToast:t,label:r="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:o=50,children:i}=e,[l,d]=p.useState(null),[c,u]=p.useState(0),m=p.useRef(!1),h=p.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Gv}\`. Expected non-empty \`string\`.`),n.jsx(Xv.Provider,{scope:t,children:n.jsx(vO,{scope:t,label:r,duration:s,swipeDirection:a,swipeThreshold:o,toastCount:c,viewport:l,onViewportChange:d,onToastAdd:p.useCallback(()=>u(f=>f+1),[]),onToastRemove:p.useCallback(()=>u(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:h,children:i})})};CC.displayName=Gv;var EC="ToastViewport",yO=["F8"],qx="toast.viewportPause",Wx="toast.viewportResume",PC=p.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:s=yO,label:a="Notifications ({hotkey})",...o}=e,i=fm(EC,r),l=xO(r),d=p.useRef(null),c=p.useRef(null),u=p.useRef(null),m=p.useRef(null),h=Te(t,m,i.onViewportChange),f=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=i.toastCount>0;p.useEffect(()=>{const w=v=>{var y;s.length!==0&&s.every(N=>v[N]||v.code===N)&&((y=m.current)==null||y.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[s]),p.useEffect(()=>{const w=d.current,v=m.current;if(j&&w&&v){const g=()=>{if(!i.isClosePausedRef.current){const E=new CustomEvent(qx);v.dispatchEvent(E),i.isClosePausedRef.current=!0}},y=()=>{if(i.isClosePausedRef.current){const E=new CustomEvent(Wx);v.dispatchEvent(E),i.isClosePausedRef.current=!1}},N=E=>{!w.contains(E.relatedTarget)&&y()},b=()=>{w.contains(document.activeElement)||y()};return w.addEventListener("focusin",g),w.addEventListener("focusout",N),w.addEventListener("pointermove",g),w.addEventListener("pointerleave",b),window.addEventListener("blur",g),window.addEventListener("focus",y),()=>{w.removeEventListener("focusin",g),w.removeEventListener("focusout",N),w.removeEventListener("pointermove",g),w.removeEventListener("pointerleave",b),window.removeEventListener("blur",g),window.removeEventListener("focus",y)}}},[j,i.isClosePausedRef]);const x=p.useCallback(({tabbingDirection:w})=>{const g=l().map(y=>{const N=y.ref.current,b=[N,...DO(N)];return w==="forwards"?b:b.reverse()});return(w==="forwards"?g.reverse():g).flat()},[l]);return p.useEffect(()=>{const w=m.current;if(w){const v=g=>{var b,E,S;const y=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!y){const P=document.activeElement,_=g.shiftKey;if(g.target===w&&_){(b=c.current)==null||b.focus();return}const k=x({tabbingDirection:_?"backwards":"forwards"}),U=k.findIndex(M=>M===P);Qp(k.slice(U+1))?g.preventDefault():_?(E=c.current)==null||E.focus():(S=u.current)==null||S.focus()}};return w.addEventListener("keydown",v),()=>w.removeEventListener("keydown",v)}},[l,x]),n.jsxs(lO,{ref:d,role:"region","aria-label":a.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:j?void 0:"none"},children:[j&&n.jsx(Yx,{ref:c,onFocusFromOutsideViewport:()=>{const w=x({tabbingDirection:"forwards"});Qp(w)}}),n.jsx(Xv.Slot,{scope:r,children:n.jsx(Ce.ol,{tabIndex:-1,...o,ref:h})}),j&&n.jsx(Yx,{ref:u,onFocusFromOutsideViewport:()=>{const w=x({tabbingDirection:"backwards"});Qp(w)}})]})});PC.displayName=EC;var kC="ToastFocusProxy",Yx=p.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:s,...a}=e,o=fm(kC,r);return n.jsx(ad,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:i=>{var c;const l=i.relatedTarget;!((c=o.viewport)!=null&&c.contains(l))&&s()}})});Yx.displayName=kC;var xm="Toast",jO="toast.swipeStart",wO="toast.swipeMove",NO="toast.swipeCancel",bO="toast.swipeEnd",TC=p.forwardRef((e,t)=>{const{forceMount:r,open:s,defaultOpen:a,onOpenChange:o,...i}=e,[l=!0,d]=Vr({prop:s,defaultProp:a,onChange:o});return n.jsx(Ot,{present:r||l,children:n.jsx(EO,{open:l,...i,ref:t,onClose:()=>d(!1),onPause:it(e.onPause),onResume:it(e.onResume),onSwipeStart:he(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:he(e.onSwipeMove,c=>{const{x:u,y:m}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:he(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:he(e.onSwipeEnd,c=>{const{x:u,y:m}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),d(!1)})})})});TC.displayName=xm;var[SO,CO]=SC(xm,{onClose(){}}),EO=p.forwardRef((e,t)=>{const{__scopeToast:r,type:s="foreground",duration:a,open:o,onClose:i,onEscapeKeyDown:l,onPause:d,onResume:c,onSwipeStart:u,onSwipeMove:m,onSwipeCancel:h,onSwipeEnd:f,...j}=e,x=fm(xm,r),[w,v]=p.useState(null),g=Te(t,M=>v(M)),y=p.useRef(null),N=p.useRef(null),b=a||x.duration,E=p.useRef(0),S=p.useRef(b),P=p.useRef(0),{onToastAdd:_,onToastRemove:T}=x,D=it(()=>{var $;(w==null?void 0:w.contains(document.activeElement))&&(($=x.viewport)==null||$.focus()),i()}),k=p.useCallback(M=>{!M||M===1/0||(window.clearTimeout(P.current),E.current=new Date().getTime(),P.current=window.setTimeout(D,M))},[D]);p.useEffect(()=>{const M=x.viewport;if(M){const $=()=>{k(S.current),c==null||c()},L=()=>{const I=new Date().getTime()-E.current;S.current=S.current-I,window.clearTimeout(P.current),d==null||d()};return M.addEventListener(qx,L),M.addEventListener(Wx,$),()=>{M.removeEventListener(qx,L),M.removeEventListener(Wx,$)}}},[x.viewport,b,d,c,k]),p.useEffect(()=>{o&&!x.isClosePausedRef.current&&k(b)},[o,b,x.isClosePausedRef,k]),p.useEffect(()=>(_(),()=>T()),[_,T]);const U=p.useMemo(()=>w?OC(w):null,[w]);return x.viewport?n.jsxs(n.Fragment,{children:[U&&n.jsx(PO,{__scopeToast:r,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:U}),n.jsx(SO,{scope:r,onClose:D,children:Nr.createPortal(n.jsx(Xv.ItemSlot,{scope:r,children:n.jsx(iO,{asChild:!0,onEscapeKeyDown:he(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||D(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(Ce.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":x.swipeDirection,...j,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:he(e.onKeyDown,M=>{M.key==="Escape"&&(l==null||l(M.nativeEvent),M.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:he(e.onPointerDown,M=>{M.button===0&&(y.current={x:M.clientX,y:M.clientY})}),onPointerMove:he(e.onPointerMove,M=>{if(!y.current)return;const $=M.clientX-y.current.x,L=M.clientY-y.current.y,I=!!N.current,F=["left","right"].includes(x.swipeDirection),R=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,V=F?R(0,$):0,B=F?0:R(0,L),H=M.pointerType==="touch"?10:2,q={x:V,y:B},z={originalEvent:M,delta:q};I?(N.current=q,Qd(wO,m,z,{discrete:!1})):fw(q,x.swipeDirection,H)?(N.current=q,Qd(jO,u,z,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs($)>H||Math.abs(L)>H)&&(y.current=null)}),onPointerUp:he(e.onPointerUp,M=>{const $=N.current,L=M.target;if(L.hasPointerCapture(M.pointerId)&&L.releasePointerCapture(M.pointerId),N.current=null,y.current=null,$){const I=M.currentTarget,F={originalEvent:M,delta:$};fw($,x.swipeDirection,x.swipeThreshold)?Qd(bO,f,F,{discrete:!0}):Qd(NO,h,F,{discrete:!0}),I.addEventListener("click",R=>R.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),PO=e=>{const{__scopeToast:t,children:r,...s}=e,a=fm(xm,t),[o,i]=p.useState(!1),[l,d]=p.useState(!1);return AO(()=>i(!0)),p.useEffect(()=>{const c=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(c)},[]),l?null:n.jsx(sd,{asChild:!0,children:n.jsx(ad,{...s,children:o&&n.jsxs(n.Fragment,{children:[a.label," ",r]})})})},kO="ToastTitle",AC=p.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e;return n.jsx(Ce.div,{...s,ref:t})});AC.displayName=kO;var TO="ToastDescription",MC=p.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e;return n.jsx(Ce.div,{...s,ref:t})});MC.displayName=TO;var DC="ToastAction",RC=p.forwardRef((e,t)=>{const{altText:r,...s}=e;return r.trim()?n.jsx(_C,{altText:r,asChild:!0,children:n.jsx(Qv,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${DC}\`. Expected non-empty \`string\`.`),null)});RC.displayName=DC;var FC="ToastClose",Qv=p.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e,a=CO(FC,r);return n.jsx(_C,{asChild:!0,children:n.jsx(Ce.button,{type:"button",...s,ref:t,onClick:he(e.onClick,a.onClose)})})});Qv.displayName=FC;var _C=p.forwardRef((e,t)=>{const{__scopeToast:r,altText:s,...a}=e;return n.jsx(Ce.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...a,ref:t})});function OC(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),MO(s)){const a=s.ariaHidden||s.hidden||s.style.display==="none",o=s.dataset.radixToastAnnounceExclude==="";if(!a)if(o){const i=s.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...OC(s))}}),t}function Qd(e,t,r,{discrete:s}){const a=r.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?Kv(a,o):a.dispatchEvent(o)}var fw=(e,t,r=0)=>{const s=Math.abs(e.x),a=Math.abs(e.y),o=s>a;return t==="left"||t==="right"?o&&s>r:!o&&a>r};function AO(e=()=>{}){const t=it(e);Dt(()=>{let r=0,s=0;return r=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(s)}},[t])}function MO(e){return e.nodeType===e.ELEMENT_NODE}function DO(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Qp(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var RO=CC,IC=PC,LC=TC,$C=AC,UC=MC,HC=RC,VC=Qv;function BC(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=BC(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function zC(){for(var e,t,r=0,s="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=BC(e))&&(s&&(s+=" "),s+=t);return s}const xw=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,gw=zC,od=(e,t)=>r=>{var s;if((t==null?void 0:t.variants)==null)return gw(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:o}=t,i=Object.keys(a).map(c=>{const u=r==null?void 0:r[c],m=o==null?void 0:o[c];if(u===null)return null;const h=xw(u)||xw(m);return a[c][h]}),l=r&&Object.entries(r).reduce((c,u)=>{let[m,h]=u;return h===void 0||(c[m]=h),c},{}),d=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((c,u)=>{let{class:m,className:h,...f}=u;return Object.entries(f).every(j=>{let[x,w]=j;return Array.isArray(w)?w.includes({...o,...l}[x]):{...o,...l}[x]===w})?[...c,m,h]:c},[]);return gw(e,i,d,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qC=(...e)=>e.filter((t,r,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _O={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:a="",children:o,iconNode:i,...l},d)=>p.createElement("svg",{ref:d,..._O,width:t,height:t,stroke:e,strokeWidth:s?Number(r)*24/Number(t):r,className:qC("lucide",a),...l},[...i.map(([c,u])=>p.createElement(c,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=(e,t)=>{const r=p.forwardRef(({className:s,...a},o)=>p.createElement(OO,{ref:o,iconNode:t,className:qC(`lucide-${FO(e)}`,s),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=ie("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vw=ie("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=ie("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=ie("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=ie("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=ie("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=ie("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=ie("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=ie("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=ie("Cable",[["path",{d:"M17 21v-2a1 1 0 0 1-1-1v-1a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v1a1 1 0 0 1-1 1",key:"10bnsj"}],["path",{d:"M19 15V6.5a1 1 0 0 0-7 0v11a1 1 0 0 1-7 0V9",key:"1eqmu1"}],["path",{d:"M21 21v-2h-4",key:"14zm7j"}],["path",{d:"M3 5h4V3",key:"z442eg"}],["path",{d:"M7 5a1 1 0 0 1 1 1v1a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a1 1 0 0 1 1-1V3",key:"ebdjd7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=ie("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yw=ie("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=ie("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=ie("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=ie("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=ie("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=ie("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=ie("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=ie("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=ie("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=ie("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=ie("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=ie("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=ie("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=ie("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=ie("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=ie("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=ie("Construction",[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=ie("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=ie("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=ie("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=ie("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=ie("Diamond",[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=ie("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=ie("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=ie("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=ie("FileArchive",[["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01",key:"gkbcor"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=ie("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=ie("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=ie("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=ie("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=ie("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=ie("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=ie("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=ie("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=ie("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=ie("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=ie("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=ie("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=ie("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=ie("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=ie("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=ie("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=ie("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=ie("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=ie("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=ie("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=ie("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=ie("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=ie("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ww=ie("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=ie("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=ie("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=ie("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=ie("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=ie("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=ie("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=ie("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=ie("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=ie("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=ie("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=ie("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=ie("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=ie("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=ie("ScrollText",[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=ie("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=ie("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=ie("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=ie("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=ie("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=ie("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=ie("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=ie("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=ie("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bw=ie("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=ie("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=ie("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=ie("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=ie("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=ie("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=ie("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=ie("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=ie("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=ie("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=ie("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=ie("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=ie("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=ie("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),ty="-",lI=e=>{const t=dI(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:i=>{const l=i.split(ty);return l[0]===""&&l.length!==1&&l.shift(),r2(l,t)||cI(i)},getConflictingClassGroupIds:(i,l)=>{const d=r[i]||[];return l&&s[i]?[...d,...s[i]]:d}}},r2=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],s=t.nextPart.get(r),a=s?r2(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const o=e.join(ty);return(i=t.validators.find(({validator:l})=>l(o)))==null?void 0:i.classGroupId},Sw=/^\[(.+)\]$/,cI=e=>{if(Sw.test(e)){const t=Sw.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},dI=e=>{const{theme:t,prefix:r}=e,s={nextPart:new Map,validators:[]};return hI(Object.entries(e.classGroups),r).forEach(([o,i])=>{eg(i,s,o,t)}),s},eg=(e,t,r,s)=>{e.forEach(a=>{if(typeof a=="string"){const o=a===""?t:Cw(t,a);o.classGroupId=r;return}if(typeof a=="function"){if(uI(a)){eg(a(s),t,r,s);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([o,i])=>{eg(i,Cw(t,o),r,s)})})},Cw=(e,t)=>{let r=e;return t.split(ty).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},uI=e=>e.isThemeGetter,hI=(e,t)=>t?e.map(([r,s])=>{const a=s.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,l])=>[t+i,l])):o);return[r,a]}):e,mI=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,s=new Map;const a=(o,i)=>{r.set(o,i),t++,t>e&&(t=0,s=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=s.get(o))!==void 0)return a(o,i),i},set(o,i){r.has(o)?r.set(o,i):a(o,i)}}},s2="!",pI=e=>{const{separator:t,experimentalParseClassName:r}=e,s=t.length===1,a=t[0],o=t.length,i=l=>{const d=[];let c=0,u=0,m;for(let w=0;w<l.length;w++){let v=l[w];if(c===0){if(v===a&&(s||l.slice(w,w+o)===t)){d.push(l.slice(u,w)),u=w+o;continue}if(v==="/"){m=w;continue}}v==="["?c++:v==="]"&&c--}const h=d.length===0?l:l.substring(u),f=h.startsWith(s2),j=f?h.substring(1):h,x=m&&m>u?m-u:void 0;return{modifiers:d,hasImportantModifier:f,baseClassName:j,maybePostfixModifierPosition:x}};return r?l=>r({className:l,parseClassName:i}):i},fI=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(s=>{s[0]==="["?(t.push(...r.sort(),s),r=[]):r.push(s)}),t.push(...r.sort()),t},xI=e=>({cache:mI(e.cacheSize),parseClassName:pI(e),...lI(e)}),gI=/\s+/,vI=(e,t)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:a}=t,o=[],i=e.trim().split(gI);let l="";for(let d=i.length-1;d>=0;d-=1){const c=i[d],{modifiers:u,hasImportantModifier:m,baseClassName:h,maybePostfixModifierPosition:f}=r(c);let j=!!f,x=s(j?h.substring(0,f):h);if(!x){if(!j){l=c+(l.length>0?" "+l:l);continue}if(x=s(h),!x){l=c+(l.length>0?" "+l:l);continue}j=!1}const w=fI(u).join(":"),v=m?w+s2:w,g=v+x;if(o.includes(g))continue;o.push(g);const y=a(x,j);for(let N=0;N<y.length;++N){const b=y[N];o.push(v+b)}l=c+(l.length>0?" "+l:l)}return l};function yI(){let e=0,t,r,s="";for(;e<arguments.length;)(t=arguments[e++])&&(r=a2(t))&&(s&&(s+=" "),s+=r);return s}const a2=e=>{if(typeof e=="string")return e;let t,r="";for(let s=0;s<e.length;s++)e[s]&&(t=a2(e[s]))&&(r&&(r+=" "),r+=t);return r};function jI(e,...t){let r,s,a,o=i;function i(d){const c=t.reduce((u,m)=>m(u),e());return r=xI(c),s=r.cache.get,a=r.cache.set,o=l,l(d)}function l(d){const c=s(d);if(c)return c;const u=vI(d,r);return a(d,u),u}return function(){return o(yI.apply(null,arguments))}}const Ze=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},o2=/^\[(?:([a-z-]+):)?(.+)\]$/i,wI=/^\d+\/\d+$/,NI=new Set(["px","full","screen"]),bI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,SI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,CI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,EI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,PI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Jr=e=>ci(e)||NI.has(e)||wI.test(e),Ms=e=>ll(e,"length",_I),ci=e=>!!e&&!Number.isNaN(Number(e)),tf=e=>ll(e,"number",ci),Dl=e=>!!e&&Number.isInteger(Number(e)),kI=e=>e.endsWith("%")&&ci(e.slice(0,-1)),Ae=e=>o2.test(e),Ds=e=>bI.test(e),TI=new Set(["length","size","percentage"]),AI=e=>ll(e,TI,i2),MI=e=>ll(e,"position",i2),DI=new Set(["image","url"]),RI=e=>ll(e,DI,II),FI=e=>ll(e,"",OI),Rl=()=>!0,ll=(e,t,r)=>{const s=o2.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):r(s[2]):!1},_I=e=>SI.test(e)&&!CI.test(e),i2=()=>!1,OI=e=>EI.test(e),II=e=>PI.test(e),LI=()=>{const e=Ze("colors"),t=Ze("spacing"),r=Ze("blur"),s=Ze("brightness"),a=Ze("borderColor"),o=Ze("borderRadius"),i=Ze("borderSpacing"),l=Ze("borderWidth"),d=Ze("contrast"),c=Ze("grayscale"),u=Ze("hueRotate"),m=Ze("invert"),h=Ze("gap"),f=Ze("gradientColorStops"),j=Ze("gradientColorStopPositions"),x=Ze("inset"),w=Ze("margin"),v=Ze("opacity"),g=Ze("padding"),y=Ze("saturate"),N=Ze("scale"),b=Ze("sepia"),E=Ze("skew"),S=Ze("space"),P=Ze("translate"),_=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",Ae,t],k=()=>[Ae,t],U=()=>["",Jr,Ms],M=()=>["auto",ci,Ae],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],I=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",Ae],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[ci,Ae];return{cacheSize:500,separator:":",theme:{colors:[Rl],spacing:[Jr,Ms],blur:["none","",Ds,Ae],brightness:B(),borderColor:[e],borderRadius:["none","","full",Ds,Ae],borderSpacing:k(),borderWidth:U(),contrast:B(),grayscale:R(),hueRotate:B(),invert:R(),gap:k(),gradientColorStops:[e],gradientColorStopPositions:[kI,Ms],inset:D(),margin:D(),opacity:B(),padding:k(),saturate:B(),scale:B(),sepia:R(),skew:B(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",Ae]}],container:["container"],columns:[{columns:[Ds]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),Ae]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Dl,Ae]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ae]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",Dl,Ae]}],"grid-cols":[{"grid-cols":[Rl]}],"col-start-end":[{col:["auto",{span:["full",Dl,Ae]},Ae]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[Rl]}],"row-start-end":[{row:["auto",{span:[Dl,Ae]},Ae]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ae]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ae]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ae,t]}],"min-w":[{"min-w":[Ae,t,"min","max","fit"]}],"max-w":[{"max-w":[Ae,t,"none","full","min","max","fit","prose",{screen:[Ds]},Ds]}],h:[{h:[Ae,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ae,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ae,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ae,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ds,Ms]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",tf]}],"font-family":[{font:[Rl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ae]}],"line-clamp":[{"line-clamp":["none",ci,tf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Jr,Ae]}],"list-image":[{"list-image":["none",Ae]}],"list-style-type":[{list:["none","disc","decimal",Ae]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Jr,Ms]}],"underline-offset":[{"underline-offset":["auto",Jr,Ae]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),MI]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",AI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},RI]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[j]}],"gradient-via-pos":[{via:[j]}],"gradient-to-pos":[{to:[j]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:L()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[Jr,Ae]}],"outline-w":[{outline:[Jr,Ms]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Jr,Ms]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ds,FI]}],"shadow-color":[{shadow:[Rl]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...I(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":I()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",Ds,Ae]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[m]}],saturate:[{saturate:[y]}],sepia:[{sepia:[b]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[b]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ae]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",Ae]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ae]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Dl,Ae]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ae]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ae]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ae]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Jr,Ms,tf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},$I=jI(LI);function de(...e){return $I(zC(e))}const UI=RO,l2=p.forwardRef(({className:e,...t},r)=>n.jsx(IC,{ref:r,className:de("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));l2.displayName=IC.displayName;const HI=od("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),c2=p.forwardRef(({className:e,variant:t,...r},s)=>n.jsx(LC,{ref:s,className:de(HI({variant:t}),e),...r}));c2.displayName=LC.displayName;const VI=p.forwardRef(({className:e,...t},r)=>n.jsx(HC,{ref:r,className:de("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));VI.displayName=HC.displayName;const d2=p.forwardRef(({className:e,...t},r)=>n.jsx(VC,{ref:r,className:de("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:n.jsx(ut,{className:"h-4 w-4"})}));d2.displayName=VC.displayName;const u2=p.forwardRef(({className:e,...t},r)=>n.jsx($C,{ref:r,className:de("text-sm font-semibold",e),...t}));u2.displayName=$C.displayName;const h2=p.forwardRef(({className:e,...t},r)=>n.jsx(UC,{ref:r,className:de("text-sm opacity-90",e),...t}));h2.displayName=UC.displayName;function BI(){const{toasts:e}=Qe();return n.jsxs(UI,{children:[e.map(function({id:t,title:r,description:s,action:a,...o}){return n.jsxs(c2,{...o,children:[n.jsxs("div",{className:"grid gap-1",children:[r&&n.jsx(u2,{children:r}),s&&n.jsx(h2,{children:s})]}),a,n.jsx(d2,{})]},t)}),n.jsx(l2,{})]})}var Ew=["light","dark"],zI="(prefers-color-scheme: dark)",qI=p.createContext(void 0),WI={setTheme:e=>{},themes:[]},YI=()=>{var e;return(e=p.useContext(qI))!=null?e:WI};p.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:s,enableColorScheme:a,defaultTheme:o,value:i,attrs:l,nonce:d})=>{let c=o==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(j=>`'${j}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,m=a?Ew.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(j,x=!1,w=!0)=>{let v=i?i[j]:j,g=x?j+"|| ''":`'${v}'`,y="";return a&&w&&!x&&Ew.includes(j)&&(y+=`d.style.colorScheme = '${j}';`),r==="class"?x||v?y+=`c.add(${g})`:y+="null":v&&(y+=`d[s](n,${g})`),y},f=e?`!function(){${u}${h(e)}}()`:s?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${c})){var t='${zI}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}${c?"":"else{"+h(o,!1,!1)+"}"}${m}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}else{${h(o,!1,!1)};}${m}}catch(t){}}();`;return p.createElement("script",{nonce:d,dangerouslySetInnerHTML:{__html:f}})});var KI=e=>{switch(e){case"success":return QI;case"info":return ZI;case"warning":return JI;case"error":return e3;default:return null}},GI=Array(12).fill(0),XI=({visible:e})=>pe.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},pe.createElement("div",{className:"sonner-spinner"},GI.map((t,r)=>pe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),QI=pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},pe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),JI=pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},pe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ZI=pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},pe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),e3=pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},pe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),t3=()=>{let[e,t]=pe.useState(document.hidden);return pe.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},tg=1,n3=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...s}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:tg++,o=this.toasts.find(l=>l.id===a),i=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:i,title:r}):l):this.addToast({title:r,...s,dismissible:i,id:a}),a},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let s=e instanceof Promise?e:e(),a=r!==void 0;return s.then(async o=>{if(s3(o)&&!o.ok){a=!1;let i=typeof t.error=="function"?await t.error(`HTTP error! status: ${o.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${o.status}`):t.description;this.create({id:r,type:"error",message:i,description:l})}else if(t.success!==void 0){a=!1;let i=typeof t.success=="function"?await t.success(o):t.success,l=typeof t.description=="function"?await t.description(o):t.description;this.create({id:r,type:"success",message:i,description:l})}}).catch(async o=>{if(t.error!==void 0){a=!1;let i=typeof t.error=="function"?await t.error(o):t.error,l=typeof t.description=="function"?await t.description(o):t.description;this.create({id:r,type:"error",message:i,description:l})}}).finally(()=>{var o;a&&(this.dismiss(r),r=void 0),(o=t.finally)==null||o.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||tg++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},vn=new n3,r3=(e,t)=>{let r=(t==null?void 0:t.id)||tg++;return vn.addToast({title:e,...t,id:r}),r},s3=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",a3=r3,o3=()=>vn.toasts,gt=Object.assign(a3,{success:vn.success,info:vn.info,warning:vn.warning,error:vn.error,custom:vn.custom,message:vn.message,promise:vn.promise,dismiss:vn.dismiss,loading:vn.loading},{getHistory:o3});function i3(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t==="top"&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}i3(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Jd(e){return e.label!==void 0}var l3=3,c3="32px",d3=4e3,u3=356,h3=14,m3=20,p3=200;function f3(...e){return e.filter(Boolean).join(" ")}var x3=e=>{var t,r,s,a,o,i,l,d,c,u;let{invert:m,toast:h,unstyled:f,interacting:j,setHeights:x,visibleToasts:w,heights:v,index:g,toasts:y,expanded:N,removeToast:b,defaultRichColors:E,closeButton:S,style:P,cancelButtonStyle:_,actionButtonStyle:T,className:D="",descriptionClassName:k="",duration:U,position:M,gap:$,loadingIcon:L,expandByDefault:I,classNames:F,icons:R,closeButtonAriaLabel:V="Close toast",pauseWhenPageIsHidden:B,cn:H}=e,[q,z]=pe.useState(!1),[G,K]=pe.useState(!1),[Y,ne]=pe.useState(!1),[le,fe]=pe.useState(!1),[xe,me]=pe.useState(0),[ve,we]=pe.useState(0),Re=pe.useRef(null),_e=pe.useRef(null),Et=g===0,Rn=g+1<=w,We=h.type,Gn=h.dismissible!==!1,Co=h.className||"",Aa=h.descriptionClassName||"",Cr=pe.useMemo(()=>v.findIndex(ke=>ke.toastId===h.id)||0,[v,h.id]),wl=pe.useMemo(()=>{var ke;return(ke=h.closeButton)!=null?ke:S},[h.closeButton,S]),Ma=pe.useMemo(()=>h.duration||U||d3,[h.duration,U]),Er=pe.useRef(0),Fn=pe.useRef(0),Nl=pe.useRef(0),Ts=pe.useRef(null),[Eo,gp]=M.split("-"),Td=pe.useMemo(()=>v.reduce((ke,Ye,ze)=>ze>=Cr?ke:ke+Ye.height,0),[v,Cr]),Ad=t3(),vp=h.invert||m,bl=We==="loading";Fn.current=pe.useMemo(()=>Cr*$+Td,[Cr,Td]),pe.useEffect(()=>{z(!0)},[]),pe.useLayoutEffect(()=>{if(!q)return;let ke=_e.current,Ye=ke.style.height;ke.style.height="auto";let ze=ke.getBoundingClientRect().height;ke.style.height=Ye,we(ze),x(_n=>_n.find(On=>On.toastId===h.id)?_n.map(On=>On.toastId===h.id?{...On,height:ze}:On):[{toastId:h.id,height:ze,position:h.position},..._n])},[q,h.title,h.description,x,h.id]);let Pr=pe.useCallback(()=>{K(!0),me(Fn.current),x(ke=>ke.filter(Ye=>Ye.toastId!==h.id)),setTimeout(()=>{b(h)},p3)},[h,b,x,Fn]);pe.useEffect(()=>{if(h.promise&&We==="loading"||h.duration===1/0||h.type==="loading")return;let ke,Ye=Ma;return N||j||B&&Ad?(()=>{if(Nl.current<Er.current){let ze=new Date().getTime()-Er.current;Ye=Ye-ze}Nl.current=new Date().getTime()})():Ye!==1/0&&(Er.current=new Date().getTime(),ke=setTimeout(()=>{var ze;(ze=h.onAutoClose)==null||ze.call(h,h),Pr()},Ye)),()=>clearTimeout(ke)},[N,j,I,h,Ma,Pr,h.promise,We,B,Ad]),pe.useEffect(()=>{let ke=_e.current;if(ke){let Ye=ke.getBoundingClientRect().height;return we(Ye),x(ze=>[{toastId:h.id,height:Ye,position:h.position},...ze]),()=>x(ze=>ze.filter(_n=>_n.toastId!==h.id))}},[x,h.id]),pe.useEffect(()=>{h.delete&&Pr()},[Pr,h.delete]);function yp(){return R!=null&&R.loading?pe.createElement("div",{className:"sonner-loader","data-visible":We==="loading"},R.loading):L?pe.createElement("div",{className:"sonner-loader","data-visible":We==="loading"},L):pe.createElement(XI,{visible:We==="loading"})}return pe.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:_e,className:H(D,Co,F==null?void 0:F.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,F==null?void 0:F.default,F==null?void 0:F[We],(r=h==null?void 0:h.classNames)==null?void 0:r[We]),"data-sonner-toast":"","data-rich-colors":(s=h.richColors)!=null?s:E,"data-styled":!(h.jsx||h.unstyled||f),"data-mounted":q,"data-promise":!!h.promise,"data-removed":G,"data-visible":Rn,"data-y-position":Eo,"data-x-position":gp,"data-index":g,"data-front":Et,"data-swiping":Y,"data-dismissible":Gn,"data-type":We,"data-invert":vp,"data-swipe-out":le,"data-expanded":!!(N||I&&q),style:{"--index":g,"--toasts-before":g,"--z-index":y.length-g,"--offset":`${G?xe:Fn.current}px`,"--initial-height":I?"auto":`${ve}px`,...P,...h.style},onPointerDown:ke=>{bl||!Gn||(Re.current=new Date,me(Fn.current),ke.target.setPointerCapture(ke.pointerId),ke.target.tagName!=="BUTTON"&&(ne(!0),Ts.current={x:ke.clientX,y:ke.clientY}))},onPointerUp:()=>{var ke,Ye,ze,_n;if(le||!Gn)return;Ts.current=null;let On=Number(((ke=_e.current)==null?void 0:ke.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Po=new Date().getTime()-((Ye=Re.current)==null?void 0:Ye.getTime()),jp=Math.abs(On)/Po;if(Math.abs(On)>=m3||jp>.11){me(Fn.current),(ze=h.onDismiss)==null||ze.call(h,h),Pr(),fe(!0);return}(_n=_e.current)==null||_n.style.setProperty("--swipe-amount","0px"),ne(!1)},onPointerMove:ke=>{var Ye;if(!Ts.current||!Gn)return;let ze=ke.clientY-Ts.current.y,_n=ke.clientX-Ts.current.x,On=(Eo==="top"?Math.min:Math.max)(0,ze),Po=ke.pointerType==="touch"?10:2;Math.abs(On)>Po?(Ye=_e.current)==null||Ye.style.setProperty("--swipe-amount",`${ze}px`):Math.abs(_n)>Po&&(Ts.current=null)}},wl&&!h.jsx?pe.createElement("button",{"aria-label":V,"data-disabled":bl,"data-close-button":!0,onClick:bl||!Gn?()=>{}:()=>{var ke;Pr(),(ke=h.onDismiss)==null||ke.call(h,h)},className:H(F==null?void 0:F.closeButton,(a=h==null?void 0:h.classNames)==null?void 0:a.closeButton)},pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},pe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),pe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||pe.isValidElement(h.title)?h.jsx||h.title:pe.createElement(pe.Fragment,null,We||h.icon||h.promise?pe.createElement("div",{"data-icon":"",className:H(F==null?void 0:F.icon,(o=h==null?void 0:h.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||yp():null,h.type!=="loading"?h.icon||(R==null?void 0:R[We])||KI(We):null):null,pe.createElement("div",{"data-content":"",className:H(F==null?void 0:F.content,(i=h==null?void 0:h.classNames)==null?void 0:i.content)},pe.createElement("div",{"data-title":"",className:H(F==null?void 0:F.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},h.title),h.description?pe.createElement("div",{"data-description":"",className:H(k,Aa,F==null?void 0:F.description,(d=h==null?void 0:h.classNames)==null?void 0:d.description)},h.description):null),pe.isValidElement(h.cancel)?h.cancel:h.cancel&&Jd(h.cancel)?pe.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||_,onClick:ke=>{var Ye,ze;Jd(h.cancel)&&Gn&&((ze=(Ye=h.cancel).onClick)==null||ze.call(Ye,ke),Pr())},className:H(F==null?void 0:F.cancelButton,(c=h==null?void 0:h.classNames)==null?void 0:c.cancelButton)},h.cancel.label):null,pe.isValidElement(h.action)?h.action:h.action&&Jd(h.action)?pe.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||T,onClick:ke=>{var Ye,ze;Jd(h.action)&&(ke.defaultPrevented||((ze=(Ye=h.action).onClick)==null||ze.call(Ye,ke),Pr()))},className:H(F==null?void 0:F.actionButton,(u=h==null?void 0:h.classNames)==null?void 0:u.actionButton)},h.action.label):null))};function Pw(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var g3=e=>{let{invert:t,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:o,className:i,offset:l,theme:d="light",richColors:c,duration:u,style:m,visibleToasts:h=l3,toastOptions:f,dir:j=Pw(),gap:x=h3,loadingIcon:w,icons:v,containerAriaLabel:g="Notifications",pauseWhenPageIsHidden:y,cn:N=f3}=e,[b,E]=pe.useState([]),S=pe.useMemo(()=>Array.from(new Set([r].concat(b.filter(B=>B.position).map(B=>B.position)))),[b,r]),[P,_]=pe.useState([]),[T,D]=pe.useState(!1),[k,U]=pe.useState(!1),[M,$]=pe.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),L=pe.useRef(null),I=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=pe.useRef(null),R=pe.useRef(!1),V=pe.useCallback(B=>{var H;(H=b.find(q=>q.id===B.id))!=null&&H.delete||vn.dismiss(B.id),E(q=>q.filter(({id:z})=>z!==B.id))},[b]);return pe.useEffect(()=>vn.subscribe(B=>{if(B.dismiss){E(H=>H.map(q=>q.id===B.id?{...q,delete:!0}:q));return}setTimeout(()=>{hm.flushSync(()=>{E(H=>{let q=H.findIndex(z=>z.id===B.id);return q!==-1?[...H.slice(0,q),{...H[q],...B},...H.slice(q+1)]:[B,...H]})})})}),[]),pe.useEffect(()=>{if(d!=="system"){$(d);return}d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?$("dark"):$("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:B})=>{$(B?"dark":"light")})},[d]),pe.useEffect(()=>{b.length<=1&&D(!1)},[b]),pe.useEffect(()=>{let B=H=>{var q,z;s.every(G=>H[G]||H.code===G)&&(D(!0),(q=L.current)==null||q.focus()),H.code==="Escape"&&(document.activeElement===L.current||(z=L.current)!=null&&z.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[s]),pe.useEffect(()=>{if(L.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,R.current=!1)}},[L.current]),b.length?pe.createElement("section",{"aria-label":`${g} ${I}`,tabIndex:-1},S.map((B,H)=>{var q;let[z,G]=B.split("-");return pe.createElement("ol",{key:B,dir:j==="auto"?Pw():j,tabIndex:-1,ref:L,className:i,"data-sonner-toaster":!0,"data-theme":M,"data-y-position":z,"data-x-position":G,style:{"--front-toast-height":`${((q=P[0])==null?void 0:q.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||c3,"--width":`${u3}px`,"--gap":`${x}px`,...m},onBlur:K=>{R.current&&!K.currentTarget.contains(K.relatedTarget)&&(R.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:K=>{K.target instanceof HTMLElement&&K.target.dataset.dismissible==="false"||R.current||(R.current=!0,F.current=K.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{k||D(!1)},onPointerDown:K=>{K.target instanceof HTMLElement&&K.target.dataset.dismissible==="false"||U(!0)},onPointerUp:()=>U(!1)},b.filter(K=>!K.position&&H===0||K.position===B).map((K,Y)=>{var ne,le;return pe.createElement(x3,{key:K.id,icons:v,index:Y,toast:K,defaultRichColors:c,duration:(ne=f==null?void 0:f.duration)!=null?ne:u,className:f==null?void 0:f.className,descriptionClassName:f==null?void 0:f.descriptionClassName,invert:t,visibleToasts:h,closeButton:(le=f==null?void 0:f.closeButton)!=null?le:o,interacting:k,position:B,style:f==null?void 0:f.style,unstyled:f==null?void 0:f.unstyled,classNames:f==null?void 0:f.classNames,cancelButtonStyle:f==null?void 0:f.cancelButtonStyle,actionButtonStyle:f==null?void 0:f.actionButtonStyle,removeToast:V,toasts:b.filter(fe=>fe.position==K.position),heights:P.filter(fe=>fe.position==K.position),setHeights:_,expandByDefault:a,gap:x,loadingIcon:w,expanded:T,pauseWhenPageIsHidden:y,cn:N})}))})):null};const v3=({...e})=>{const{theme:t="system"}=YI();return n.jsx(g3,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var y3=Zc.useId||(()=>{}),j3=0;function hr(e){const[t,r]=p.useState(y3());return Dt(()=>{r(s=>s??String(j3++))},[e]),t?`radix-${t}`:""}const w3=["top","right","bottom","left"],pa=Math.min,wn=Math.max,vh=Math.round,Zd=Math.floor,fa=e=>({x:e,y:e}),N3={left:"right",right:"left",bottom:"top",top:"bottom"},b3={start:"end",end:"start"};function ng(e,t,r){return wn(e,pa(t,r))}function ys(e,t){return typeof e=="function"?e(t):e}function js(e){return e.split("-")[0]}function cl(e){return e.split("-")[1]}function ny(e){return e==="x"?"y":"x"}function ry(e){return e==="y"?"height":"width"}function xa(e){return["top","bottom"].includes(js(e))?"y":"x"}function sy(e){return ny(xa(e))}function S3(e,t,r){r===void 0&&(r=!1);const s=cl(e),a=sy(e),o=ry(a);let i=a==="x"?s===(r?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=yh(i)),[i,yh(i)]}function C3(e){const t=yh(e);return[rg(e),t,rg(t)]}function rg(e){return e.replace(/start|end/g,t=>b3[t])}function E3(e,t,r){const s=["left","right"],a=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:s:t?s:a;case"left":case"right":return t?o:i;default:return[]}}function P3(e,t,r,s){const a=cl(e);let o=E3(js(e),r==="start",s);return a&&(o=o.map(i=>i+"-"+a),t&&(o=o.concat(o.map(rg)))),o}function yh(e){return e.replace(/left|right|bottom|top/g,t=>N3[t])}function k3(e){return{top:0,right:0,bottom:0,left:0,...e}}function m2(e){return typeof e!="number"?k3(e):{top:e,right:e,bottom:e,left:e}}function jh(e){const{x:t,y:r,width:s,height:a}=e;return{width:s,height:a,top:r,left:t,right:t+s,bottom:r+a,x:t,y:r}}function kw(e,t,r){let{reference:s,floating:a}=e;const o=xa(t),i=sy(t),l=ry(i),d=js(t),c=o==="y",u=s.x+s.width/2-a.width/2,m=s.y+s.height/2-a.height/2,h=s[l]/2-a[l]/2;let f;switch(d){case"top":f={x:u,y:s.y-a.height};break;case"bottom":f={x:u,y:s.y+s.height};break;case"right":f={x:s.x+s.width,y:m};break;case"left":f={x:s.x-a.width,y:m};break;default:f={x:s.x,y:s.y}}switch(cl(t)){case"start":f[i]-=h*(r&&c?-1:1);break;case"end":f[i]+=h*(r&&c?-1:1);break}return f}const T3=async(e,t,r)=>{const{placement:s="bottom",strategy:a="absolute",middleware:o=[],platform:i}=r,l=o.filter(Boolean),d=await(i.isRTL==null?void 0:i.isRTL(t));let c=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:m}=kw(c,s,d),h=s,f={},j=0;for(let x=0;x<l.length;x++){const{name:w,fn:v}=l[x],{x:g,y,data:N,reset:b}=await v({x:u,y:m,initialPlacement:s,placement:h,strategy:a,middlewareData:f,rects:c,platform:i,elements:{reference:e,floating:t}});u=g??u,m=y??m,f={...f,[w]:{...f[w],...N}},b&&j<=50&&(j++,typeof b=="object"&&(b.placement&&(h=b.placement),b.rects&&(c=b.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:a}):b.rects),{x:u,y:m}=kw(c,h,d)),x=-1)}return{x:u,y:m,placement:h,strategy:a,middlewareData:f}};async function Ac(e,t){var r;t===void 0&&(t={});const{x:s,y:a,platform:o,rects:i,elements:l,strategy:d}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:m="floating",altBoundary:h=!1,padding:f=0}=ys(t,e),j=m2(f),w=l[h?m==="floating"?"reference":"floating":m],v=jh(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(w)))==null||r?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:c,rootBoundary:u,strategy:d})),g=m==="floating"?{x:s,y:a,width:i.floating.width,height:i.floating.height}:i.reference,y=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),N=await(o.isElement==null?void 0:o.isElement(y))?await(o.getScale==null?void 0:o.getScale(y))||{x:1,y:1}:{x:1,y:1},b=jh(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:y,strategy:d}):g);return{top:(v.top-b.top+j.top)/N.y,bottom:(b.bottom-v.bottom+j.bottom)/N.y,left:(v.left-b.left+j.left)/N.x,right:(b.right-v.right+j.right)/N.x}}const A3=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:s,placement:a,rects:o,platform:i,elements:l,middlewareData:d}=t,{element:c,padding:u=0}=ys(e,t)||{};if(c==null)return{};const m=m2(u),h={x:r,y:s},f=sy(a),j=ry(f),x=await i.getDimensions(c),w=f==="y",v=w?"top":"left",g=w?"bottom":"right",y=w?"clientHeight":"clientWidth",N=o.reference[j]+o.reference[f]-h[f]-o.floating[j],b=h[f]-o.reference[f],E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let S=E?E[y]:0;(!S||!await(i.isElement==null?void 0:i.isElement(E)))&&(S=l.floating[y]||o.floating[j]);const P=N/2-b/2,_=S/2-x[j]/2-1,T=pa(m[v],_),D=pa(m[g],_),k=T,U=S-x[j]-D,M=S/2-x[j]/2+P,$=ng(k,M,U),L=!d.arrow&&cl(a)!=null&&M!==$&&o.reference[j]/2-(M<k?T:D)-x[j]/2<0,I=L?M<k?M-k:M-U:0;return{[f]:h[f]+I,data:{[f]:$,centerOffset:M-$-I,...L&&{alignmentOffset:I}},reset:L}}}),M3=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,s;const{placement:a,middlewareData:o,rects:i,initialPlacement:l,platform:d,elements:c}=t,{mainAxis:u=!0,crossAxis:m=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:x=!0,...w}=ys(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const v=js(a),g=xa(l),y=js(l)===l,N=await(d.isRTL==null?void 0:d.isRTL(c.floating)),b=h||(y||!x?[yh(l)]:C3(l)),E=j!=="none";!h&&E&&b.push(...P3(l,x,j,N));const S=[l,...b],P=await Ac(t,w),_=[];let T=((s=o.flip)==null?void 0:s.overflows)||[];if(u&&_.push(P[v]),m){const M=S3(a,i,N);_.push(P[M[0]],P[M[1]])}if(T=[...T,{placement:a,overflows:_}],!_.every(M=>M<=0)){var D,k;const M=(((D=o.flip)==null?void 0:D.index)||0)+1,$=S[M];if($)return{data:{index:M,overflows:T},reset:{placement:$}};let L=(k=T.filter(I=>I.overflows[0]<=0).sort((I,F)=>I.overflows[1]-F.overflows[1])[0])==null?void 0:k.placement;if(!L)switch(f){case"bestFit":{var U;const I=(U=T.filter(F=>{if(E){const R=xa(F.placement);return R===g||R==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(R=>R>0).reduce((R,V)=>R+V,0)]).sort((F,R)=>F[1]-R[1])[0])==null?void 0:U[0];I&&(L=I);break}case"initialPlacement":L=l;break}if(a!==L)return{reset:{placement:L}}}return{}}}};function Tw(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Aw(e){return w3.some(t=>e[t]>=0)}const D3=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:s="referenceHidden",...a}=ys(e,t);switch(s){case"referenceHidden":{const o=await Ac(t,{...a,elementContext:"reference"}),i=Tw(o,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Aw(i)}}}case"escaped":{const o=await Ac(t,{...a,altBoundary:!0}),i=Tw(o,r.floating);return{data:{escapedOffsets:i,escaped:Aw(i)}}}default:return{}}}}};async function R3(e,t){const{placement:r,platform:s,elements:a}=e,o=await(s.isRTL==null?void 0:s.isRTL(a.floating)),i=js(r),l=cl(r),d=xa(r)==="y",c=["left","top"].includes(i)?-1:1,u=o&&d?-1:1,m=ys(t,e);let{mainAxis:h,crossAxis:f,alignmentAxis:j}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof j=="number"&&(f=l==="end"?j*-1:j),d?{x:f*u,y:h*c}:{x:h*c,y:f*u}}const F3=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,s;const{x:a,y:o,placement:i,middlewareData:l}=t,d=await R3(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:a+d.x,y:o+d.y,data:{...d,placement:i}}}}},_3=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:s,placement:a}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:w=>{let{x:v,y:g}=w;return{x:v,y:g}}},...d}=ys(e,t),c={x:r,y:s},u=await Ac(t,d),m=xa(js(a)),h=ny(m);let f=c[h],j=c[m];if(o){const w=h==="y"?"top":"left",v=h==="y"?"bottom":"right",g=f+u[w],y=f-u[v];f=ng(g,f,y)}if(i){const w=m==="y"?"top":"left",v=m==="y"?"bottom":"right",g=j+u[w],y=j-u[v];j=ng(g,j,y)}const x=l.fn({...t,[h]:f,[m]:j});return{...x,data:{x:x.x-r,y:x.y-s,enabled:{[h]:o,[m]:i}}}}}},O3=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:s,placement:a,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:d=!0,crossAxis:c=!0}=ys(e,t),u={x:r,y:s},m=xa(a),h=ny(m);let f=u[h],j=u[m];const x=ys(l,t),w=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(d){const y=h==="y"?"height":"width",N=o.reference[h]-o.floating[y]+w.mainAxis,b=o.reference[h]+o.reference[y]-w.mainAxis;f<N?f=N:f>b&&(f=b)}if(c){var v,g;const y=h==="y"?"width":"height",N=["top","left"].includes(js(a)),b=o.reference[m]-o.floating[y]+(N&&((v=i.offset)==null?void 0:v[m])||0)+(N?0:w.crossAxis),E=o.reference[m]+o.reference[y]+(N?0:((g=i.offset)==null?void 0:g[m])||0)-(N?w.crossAxis:0);j<b?j=b:j>E&&(j=E)}return{[h]:f,[m]:j}}}},I3=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,s;const{placement:a,rects:o,platform:i,elements:l}=t,{apply:d=()=>{},...c}=ys(e,t),u=await Ac(t,c),m=js(a),h=cl(a),f=xa(a)==="y",{width:j,height:x}=o.floating;let w,v;m==="top"||m==="bottom"?(w=m,v=h===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(v=m,w=h==="end"?"top":"bottom");const g=x-u.top-u.bottom,y=j-u.left-u.right,N=pa(x-u[w],g),b=pa(j-u[v],y),E=!t.middlewareData.shift;let S=N,P=b;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(P=y),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(S=g),E&&!h){const T=wn(u.left,0),D=wn(u.right,0),k=wn(u.top,0),U=wn(u.bottom,0);f?P=j-2*(T!==0||D!==0?T+D:wn(u.left,u.right)):S=x-2*(k!==0||U!==0?k+U:wn(u.top,u.bottom))}await d({...t,availableWidth:P,availableHeight:S});const _=await i.getDimensions(l.floating);return j!==_.width||x!==_.height?{reset:{rects:!0}}:{}}}};function ym(){return typeof window<"u"}function dl(e){return p2(e)?(e.nodeName||"").toLowerCase():"#document"}function kn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Wr(e){var t;return(t=(p2(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function p2(e){return ym()?e instanceof Node||e instanceof kn(e).Node:!1}function gr(e){return ym()?e instanceof Element||e instanceof kn(e).Element:!1}function Br(e){return ym()?e instanceof HTMLElement||e instanceof kn(e).HTMLElement:!1}function Mw(e){return!ym()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof kn(e).ShadowRoot}function dd(e){const{overflow:t,overflowX:r,overflowY:s,display:a}=vr(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+r)&&!["inline","contents"].includes(a)}function L3(e){return["table","td","th"].includes(dl(e))}function jm(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function ay(e){const t=oy(),r=gr(e)?vr(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(s=>(r.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(r.contain||"").includes(s))}function $3(e){let t=ga(e);for(;Br(t)&&!Ii(t);){if(ay(t))return t;if(jm(t))return null;t=ga(t)}return null}function oy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ii(e){return["html","body","#document"].includes(dl(e))}function vr(e){return kn(e).getComputedStyle(e)}function wm(e){return gr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ga(e){if(dl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Mw(e)&&e.host||Wr(e);return Mw(t)?t.host:t}function f2(e){const t=ga(e);return Ii(t)?e.ownerDocument?e.ownerDocument.body:e.body:Br(t)&&dd(t)?t:f2(t)}function Mc(e,t,r){var s;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=f2(e),o=a===((s=e.ownerDocument)==null?void 0:s.body),i=kn(a);if(o){const l=sg(i);return t.concat(i,i.visualViewport||[],dd(a)?a:[],l&&r?Mc(l):[])}return t.concat(a,Mc(a,[],r))}function sg(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function x2(e){const t=vr(e);let r=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=Br(e),o=a?e.offsetWidth:r,i=a?e.offsetHeight:s,l=vh(r)!==o||vh(s)!==i;return l&&(r=o,s=i),{width:r,height:s,$:l}}function iy(e){return gr(e)?e:e.contextElement}function di(e){const t=iy(e);if(!Br(t))return fa(1);const r=t.getBoundingClientRect(),{width:s,height:a,$:o}=x2(t);let i=(o?vh(r.width):r.width)/s,l=(o?vh(r.height):r.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const U3=fa(0);function g2(e){const t=kn(e);return!oy()||!t.visualViewport?U3:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function H3(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==kn(e)?!1:t}function so(e,t,r,s){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),o=iy(e);let i=fa(1);t&&(s?gr(s)&&(i=di(s)):i=di(e));const l=H3(o,r,s)?g2(o):fa(0);let d=(a.left+l.x)/i.x,c=(a.top+l.y)/i.y,u=a.width/i.x,m=a.height/i.y;if(o){const h=kn(o),f=s&&gr(s)?kn(s):s;let j=h,x=sg(j);for(;x&&s&&f!==j;){const w=di(x),v=x.getBoundingClientRect(),g=vr(x),y=v.left+(x.clientLeft+parseFloat(g.paddingLeft))*w.x,N=v.top+(x.clientTop+parseFloat(g.paddingTop))*w.y;d*=w.x,c*=w.y,u*=w.x,m*=w.y,d+=y,c+=N,j=kn(x),x=sg(j)}}return jh({width:u,height:m,x:d,y:c})}function V3(e){let{elements:t,rect:r,offsetParent:s,strategy:a}=e;const o=a==="fixed",i=Wr(s),l=t?jm(t.floating):!1;if(s===i||l&&o)return r;let d={scrollLeft:0,scrollTop:0},c=fa(1);const u=fa(0),m=Br(s);if((m||!m&&!o)&&((dl(s)!=="body"||dd(i))&&(d=wm(s)),Br(s))){const h=so(s);c=di(s),u.x=h.x+s.clientLeft,u.y=h.y+s.clientTop}return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-d.scrollLeft*c.x+u.x,y:r.y*c.y-d.scrollTop*c.y+u.y}}function B3(e){return Array.from(e.getClientRects())}function ag(e,t){const r=wm(e).scrollLeft;return t?t.left+r:so(Wr(e)).left+r}function z3(e){const t=Wr(e),r=wm(e),s=e.ownerDocument.body,a=wn(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),o=wn(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let i=-r.scrollLeft+ag(e);const l=-r.scrollTop;return vr(s).direction==="rtl"&&(i+=wn(t.clientWidth,s.clientWidth)-a),{width:a,height:o,x:i,y:l}}function q3(e,t){const r=kn(e),s=Wr(e),a=r.visualViewport;let o=s.clientWidth,i=s.clientHeight,l=0,d=0;if(a){o=a.width,i=a.height;const c=oy();(!c||c&&t==="fixed")&&(l=a.offsetLeft,d=a.offsetTop)}return{width:o,height:i,x:l,y:d}}function W3(e,t){const r=so(e,!0,t==="fixed"),s=r.top+e.clientTop,a=r.left+e.clientLeft,o=Br(e)?di(e):fa(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,d=a*o.x,c=s*o.y;return{width:i,height:l,x:d,y:c}}function Dw(e,t,r){let s;if(t==="viewport")s=q3(e,r);else if(t==="document")s=z3(Wr(e));else if(gr(t))s=W3(t,r);else{const a=g2(e);s={...t,x:t.x-a.x,y:t.y-a.y}}return jh(s)}function v2(e,t){const r=ga(e);return r===t||!gr(r)||Ii(r)?!1:vr(r).position==="fixed"||v2(r,t)}function Y3(e,t){const r=t.get(e);if(r)return r;let s=Mc(e,[],!1).filter(l=>gr(l)&&dl(l)!=="body"),a=null;const o=vr(e).position==="fixed";let i=o?ga(e):e;for(;gr(i)&&!Ii(i);){const l=vr(i),d=ay(i);!d&&l.position==="fixed"&&(a=null),(o?!d&&!a:!d&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||dd(i)&&!d&&v2(e,i))?s=s.filter(u=>u!==i):a=l,i=ga(i)}return t.set(e,s),s}function K3(e){let{element:t,boundary:r,rootBoundary:s,strategy:a}=e;const i=[...r==="clippingAncestors"?jm(t)?[]:Y3(t,this._c):[].concat(r),s],l=i[0],d=i.reduce((c,u)=>{const m=Dw(t,u,a);return c.top=wn(m.top,c.top),c.right=pa(m.right,c.right),c.bottom=pa(m.bottom,c.bottom),c.left=wn(m.left,c.left),c},Dw(t,l,a));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function G3(e){const{width:t,height:r}=x2(e);return{width:t,height:r}}function X3(e,t,r){const s=Br(t),a=Wr(t),o=r==="fixed",i=so(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const d=fa(0);if(s||!s&&!o)if((dl(t)!=="body"||dd(a))&&(l=wm(t)),s){const f=so(t,!0,o,t);d.x=f.x+t.clientLeft,d.y=f.y+t.clientTop}else a&&(d.x=ag(a));let c=0,u=0;if(a&&!s&&!o){const f=a.getBoundingClientRect();u=f.top+l.scrollTop,c=f.left+l.scrollLeft-ag(a,f)}const m=i.left+l.scrollLeft-d.x-c,h=i.top+l.scrollTop-d.y-u;return{x:m,y:h,width:i.width,height:i.height}}function nf(e){return vr(e).position==="static"}function Rw(e,t){if(!Br(e)||vr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Wr(e)===r&&(r=r.ownerDocument.body),r}function y2(e,t){const r=kn(e);if(jm(e))return r;if(!Br(e)){let a=ga(e);for(;a&&!Ii(a);){if(gr(a)&&!nf(a))return a;a=ga(a)}return r}let s=Rw(e,t);for(;s&&L3(s)&&nf(s);)s=Rw(s,t);return s&&Ii(s)&&nf(s)&&!ay(s)?r:s||$3(e)||r}const Q3=async function(e){const t=this.getOffsetParent||y2,r=this.getDimensions,s=await r(e.floating);return{reference:X3(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function J3(e){return vr(e).direction==="rtl"}const Z3={convertOffsetParentRelativeRectToViewportRelativeRect:V3,getDocumentElement:Wr,getClippingRect:K3,getOffsetParent:y2,getElementRects:Q3,getClientRects:B3,getDimensions:G3,getScale:di,isElement:gr,isRTL:J3};function eL(e,t){let r=null,s;const a=Wr(e);function o(){var l;clearTimeout(s),(l=r)==null||l.disconnect(),r=null}function i(l,d){l===void 0&&(l=!1),d===void 0&&(d=1),o();const{left:c,top:u,width:m,height:h}=e.getBoundingClientRect();if(l||t(),!m||!h)return;const f=Zd(u),j=Zd(a.clientWidth-(c+m)),x=Zd(a.clientHeight-(u+h)),w=Zd(c),g={rootMargin:-f+"px "+-j+"px "+-x+"px "+-w+"px",threshold:wn(0,pa(1,d))||1};let y=!0;function N(b){const E=b[0].intersectionRatio;if(E!==d){if(!y)return i();E?i(!1,E):s=setTimeout(()=>{i(!1,1e-7)},1e3)}y=!1}try{r=new IntersectionObserver(N,{...g,root:a.ownerDocument})}catch{r=new IntersectionObserver(N,g)}r.observe(e)}return i(!0),o}function j2(e,t,r,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:d=!1}=s,c=iy(e),u=a||o?[...c?Mc(c):[],...Mc(t)]:[];u.forEach(v=>{a&&v.addEventListener("scroll",r,{passive:!0}),o&&v.addEventListener("resize",r)});const m=c&&l?eL(c,r):null;let h=-1,f=null;i&&(f=new ResizeObserver(v=>{let[g]=v;g&&g.target===c&&f&&(f.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var y;(y=f)==null||y.observe(t)})),r()}),c&&!d&&f.observe(c),f.observe(t));let j,x=d?so(e):null;d&&w();function w(){const v=so(e);x&&(v.x!==x.x||v.y!==x.y||v.width!==x.width||v.height!==x.height)&&r(),x=v,j=requestAnimationFrame(w)}return r(),()=>{var v;u.forEach(g=>{a&&g.removeEventListener("scroll",r),o&&g.removeEventListener("resize",r)}),m==null||m(),(v=f)==null||v.disconnect(),f=null,d&&cancelAnimationFrame(j)}}const tL=F3,nL=_3,rL=M3,sL=I3,aL=D3,Fw=A3,oL=O3,iL=(e,t,r)=>{const s=new Map,a={platform:Z3,...r},o={...a.platform,_c:s};return T3(e,t,{...a,platform:o})};var Ou=typeof document<"u"?p.useLayoutEffect:p.useEffect;function wh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(s=r;s--!==0;)if(!wh(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(s=r;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=r;s--!==0;){const o=a[s];if(!(o==="_owner"&&e.$$typeof)&&!wh(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function w2(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function _w(e,t){const r=w2(e);return Math.round(t*r)/r}function rf(e){const t=p.useRef(e);return Ou(()=>{t.current=e}),t}function N2(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:s=[],platform:a,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:d,open:c}=e,[u,m]=p.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,f]=p.useState(s);wh(h,s)||f(s);const[j,x]=p.useState(null),[w,v]=p.useState(null),g=p.useCallback(F=>{F!==E.current&&(E.current=F,x(F))},[]),y=p.useCallback(F=>{F!==S.current&&(S.current=F,v(F))},[]),N=o||j,b=i||w,E=p.useRef(null),S=p.useRef(null),P=p.useRef(u),_=d!=null,T=rf(d),D=rf(a),k=rf(c),U=p.useCallback(()=>{if(!E.current||!S.current)return;const F={placement:t,strategy:r,middleware:h};D.current&&(F.platform=D.current),iL(E.current,S.current,F).then(R=>{const V={...R,isPositioned:k.current!==!1};M.current&&!wh(P.current,V)&&(P.current=V,Nr.flushSync(()=>{m(V)}))})},[h,t,r,D,k]);Ou(()=>{c===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,m(F=>({...F,isPositioned:!1})))},[c]);const M=p.useRef(!1);Ou(()=>(M.current=!0,()=>{M.current=!1}),[]),Ou(()=>{if(N&&(E.current=N),b&&(S.current=b),N&&b){if(T.current)return T.current(N,b,U);U()}},[N,b,U,T,_]);const $=p.useMemo(()=>({reference:E,floating:S,setReference:g,setFloating:y}),[g,y]),L=p.useMemo(()=>({reference:N,floating:b}),[N,b]),I=p.useMemo(()=>{const F={position:r,left:0,top:0};if(!L.floating)return F;const R=_w(L.floating,u.x),V=_w(L.floating,u.y);return l?{...F,transform:"translate("+R+"px, "+V+"px)",...w2(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:R,top:V}},[r,l,L.floating,u.x,u.y]);return p.useMemo(()=>({...u,update:U,refs:$,elements:L,floatingStyles:I}),[u,U,$,L,I])}const lL=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:s,padding:a}=typeof e=="function"?e(r):e;return s&&t(s)?s.current!=null?Fw({element:s.current,padding:a}).fn(r):{}:s?Fw({element:s,padding:a}).fn(r):{}}}},b2=(e,t)=>({...tL(e),options:[e,t]}),S2=(e,t)=>({...nL(e),options:[e,t]}),C2=(e,t)=>({...oL(e),options:[e,t]}),E2=(e,t)=>({...rL(e),options:[e,t]}),P2=(e,t)=>({...sL(e),options:[e,t]}),k2=(e,t)=>({...aL(e),options:[e,t]}),T2=(e,t)=>({...lL(e),options:[e,t]});var cL="Arrow",A2=p.forwardRef((e,t)=>{const{children:r,width:s=10,height:a=5,...o}=e;return n.jsx(Ce.svg,{...o,ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});A2.displayName=cL;var dL=A2;function uL(e,t=[]){let r=[];function s(o,i){const l=p.createContext(i),d=r.length;r=[...r,i];function c(m){const{scope:h,children:f,...j}=m,x=(h==null?void 0:h[e][d])||l,w=p.useMemo(()=>j,Object.values(j));return n.jsx(x.Provider,{value:w,children:f})}function u(m,h){const f=(h==null?void 0:h[e][d])||l,j=p.useContext(f);if(j)return j;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,u]}const a=()=>{const o=r.map(i=>p.createContext(i));return function(l){const d=(l==null?void 0:l[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return a.scopeName=e,[s,hL(a,...t)]}function hL(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=s.reduce((l,{useScope:d,scopeName:c})=>{const m=d(o)[`__scope${c}`];return{...l,...m}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function ly(e){const[t,r]=p.useState(void 0);return Dt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let i,l;if("borderBoxSize"in o){const d=o.borderBoxSize,c=Array.isArray(d)?d[0]:d;i=c.inlineSize,l=c.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else r(void 0)},[e]),t}var cy="Popper",[M2,ul]=uL(cy),[mL,D2]=M2(cy),R2=e=>{const{__scopePopper:t,children:r}=e,[s,a]=p.useState(null);return n.jsx(mL,{scope:t,anchor:s,onAnchorChange:a,children:r})};R2.displayName=cy;var F2="PopperAnchor",_2=p.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:s,...a}=e,o=D2(F2,r),i=p.useRef(null),l=Te(t,i);return p.useEffect(()=>{o.onAnchorChange((s==null?void 0:s.current)||i.current)}),s?null:n.jsx(Ce.div,{...a,ref:l})});_2.displayName=F2;var dy="PopperContent",[pL,fL]=M2(dy),O2=p.forwardRef((e,t)=>{var Y,ne,le,fe,xe,me;const{__scopePopper:r,side:s="bottom",sideOffset:a=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:d=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:m="partial",hideWhenDetached:h=!1,updatePositionStrategy:f="optimized",onPlaced:j,...x}=e,w=D2(dy,r),[v,g]=p.useState(null),y=Te(t,ve=>g(ve)),[N,b]=p.useState(null),E=ly(N),S=(E==null?void 0:E.width)??0,P=(E==null?void 0:E.height)??0,_=s+(o!=="center"?"-"+o:""),T=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},D=Array.isArray(c)?c:[c],k=D.length>0,U={padding:T,boundary:D.filter(gL),altBoundary:k},{refs:M,floatingStyles:$,placement:L,isPositioned:I,middlewareData:F}=N2({strategy:"fixed",placement:_,whileElementsMounted:(...ve)=>j2(...ve,{animationFrame:f==="always"}),elements:{reference:w.anchor},middleware:[b2({mainAxis:a+P,alignmentAxis:i}),d&&S2({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?C2():void 0,...U}),d&&E2({...U}),P2({...U,apply:({elements:ve,rects:we,availableWidth:Re,availableHeight:_e})=>{const{width:Et,height:Rn}=we.reference,We=ve.floating.style;We.setProperty("--radix-popper-available-width",`${Re}px`),We.setProperty("--radix-popper-available-height",`${_e}px`),We.setProperty("--radix-popper-anchor-width",`${Et}px`),We.setProperty("--radix-popper-anchor-height",`${Rn}px`)}}),N&&T2({element:N,padding:l}),vL({arrowWidth:S,arrowHeight:P}),h&&k2({strategy:"referenceHidden",...U})]}),[R,V]=$2(L),B=it(j);Dt(()=>{I&&(B==null||B())},[I,B]);const H=(Y=F.arrow)==null?void 0:Y.x,q=(ne=F.arrow)==null?void 0:ne.y,z=((le=F.arrow)==null?void 0:le.centerOffset)!==0,[G,K]=p.useState();return Dt(()=>{v&&K(window.getComputedStyle(v).zIndex)},[v]),n.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:I?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:G,"--radix-popper-transform-origin":[(fe=F.transformOrigin)==null?void 0:fe.x,(xe=F.transformOrigin)==null?void 0:xe.y].join(" "),...((me=F.hide)==null?void 0:me.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(pL,{scope:r,placedSide:R,onArrowChange:b,arrowX:H,arrowY:q,shouldHideArrow:z,children:n.jsx(Ce.div,{"data-side":R,"data-align":V,...x,ref:y,style:{...x.style,animation:I?void 0:"none"}})})})});O2.displayName=dy;var I2="PopperArrow",xL={top:"bottom",right:"left",bottom:"top",left:"right"},L2=p.forwardRef(function(t,r){const{__scopePopper:s,...a}=t,o=fL(I2,s),i=xL[o.placedSide];return n.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:n.jsx(dL,{...a,ref:r,style:{...a.style,display:"block"}})})});L2.displayName=I2;function gL(e){return e!==null}var vL=e=>({name:"transformOrigin",options:e,fn(t){var w,v,g;const{placement:r,rects:s,middlewareData:a}=t,i=((w=a.arrow)==null?void 0:w.centerOffset)!==0,l=i?0:e.arrowWidth,d=i?0:e.arrowHeight,[c,u]=$2(r),m={start:"0%",center:"50%",end:"100%"}[u],h=(((v=a.arrow)==null?void 0:v.x)??0)+l/2,f=(((g=a.arrow)==null?void 0:g.y)??0)+d/2;let j="",x="";return c==="bottom"?(j=i?m:`${h}px`,x=`${-d}px`):c==="top"?(j=i?m:`${h}px`,x=`${s.floating.height+d}px`):c==="right"?(j=`${-d}px`,x=i?m:`${f}px`):c==="left"&&(j=`${s.floating.width+d}px`,x=i?m:`${f}px`),{data:{x:j,y:x}}}});function $2(e){const[t,r="center"]=e.split("-");return[t,r]}var U2=R2,uy=_2,hy=O2,my=L2,[Nm,Cte]=Wn("Tooltip",[ul]),py=ul(),H2="TooltipProvider",yL=700,Ow="tooltip.open",[jL,V2]=Nm(H2),B2=e=>{const{__scopeTooltip:t,delayDuration:r=yL,skipDelayDuration:s=300,disableHoverableContent:a=!1,children:o}=e,[i,l]=p.useState(!0),d=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),n.jsx(jL,{scope:t,isOpenDelayed:i,delayDuration:r,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),l(!1)},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>l(!0),s)},[s]),isPointerInTransitRef:d,onPointerInTransitChange:p.useCallback(u=>{d.current=u},[]),disableHoverableContent:a,children:o})};B2.displayName=H2;var z2="Tooltip",[Ete,bm]=Nm(z2),og="TooltipTrigger",wL=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...s}=e,a=bm(og,r),o=V2(og,r),i=py(r),l=p.useRef(null),d=Te(t,l,a.onTriggerChange),c=p.useRef(!1),u=p.useRef(!1),m=p.useCallback(()=>c.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),n.jsx(uy,{asChild:!0,...i,children:n.jsx(Ce.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...s,ref:d,onPointerMove:he(e.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!o.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:he(e.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:he(e.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:he(e.onFocus,()=>{c.current||a.onOpen()}),onBlur:he(e.onBlur,a.onClose),onClick:he(e.onClick,a.onClose)})})});wL.displayName=og;var NL="TooltipPortal",[Pte,bL]=Nm(NL,{forceMount:void 0}),Li="TooltipContent",q2=p.forwardRef((e,t)=>{const r=bL(Li,e.__scopeTooltip),{forceMount:s=r.forceMount,side:a="top",...o}=e,i=bm(Li,e.__scopeTooltip);return n.jsx(Ot,{present:s||i.open,children:i.disableHoverableContent?n.jsx(W2,{side:a,...o,ref:t}):n.jsx(SL,{side:a,...o,ref:t})})}),SL=p.forwardRef((e,t)=>{const r=bm(Li,e.__scopeTooltip),s=V2(Li,e.__scopeTooltip),a=p.useRef(null),o=Te(t,a),[i,l]=p.useState(null),{trigger:d,onClose:c}=r,u=a.current,{onPointerInTransitChange:m}=s,h=p.useCallback(()=>{l(null),m(!1)},[m]),f=p.useCallback((j,x)=>{const w=j.currentTarget,v={x:j.clientX,y:j.clientY},g=kL(v,w.getBoundingClientRect()),y=TL(v,g),N=AL(x.getBoundingClientRect()),b=DL([...y,...N]);l(b),m(!0)},[m]);return p.useEffect(()=>()=>h(),[h]),p.useEffect(()=>{if(d&&u){const j=w=>f(w,u),x=w=>f(w,d);return d.addEventListener("pointerleave",j),u.addEventListener("pointerleave",x),()=>{d.removeEventListener("pointerleave",j),u.removeEventListener("pointerleave",x)}}},[d,u,f,h]),p.useEffect(()=>{if(i){const j=x=>{const w=x.target,v={x:x.clientX,y:x.clientY},g=(d==null?void 0:d.contains(w))||(u==null?void 0:u.contains(w)),y=!ML(v,i);g?h():y&&(h(),c())};return document.addEventListener("pointermove",j),()=>document.removeEventListener("pointermove",j)}},[d,u,i,c,h]),n.jsx(W2,{...e,ref:o})}),[CL,EL]=Nm(z2,{isInside:!1}),W2=p.forwardRef((e,t)=>{const{__scopeTooltip:r,children:s,"aria-label":a,onEscapeKeyDown:o,onPointerDownOutside:i,...l}=e,d=bm(Li,r),c=py(r),{onClose:u}=d;return p.useEffect(()=>(document.addEventListener(Ow,u),()=>document.removeEventListener(Ow,u)),[u]),p.useEffect(()=>{if(d.trigger){const m=h=>{const f=h.target;f!=null&&f.contains(d.trigger)&&u()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[d.trigger,u]),n.jsx(sl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:m=>m.preventDefault(),onDismiss:u,children:n.jsxs(hy,{"data-state":d.stateAttribute,...c,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(Yv,{children:s}),n.jsx(CL,{scope:r,isInside:!0,children:n.jsx(fO,{id:d.contentId,role:"tooltip",children:a||s})})]})})});q2.displayName=Li;var Y2="TooltipArrow",PL=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...s}=e,a=py(r);return EL(Y2,r).isInside?null:n.jsx(my,{...a,...s,ref:t})});PL.displayName=Y2;function kL(e,t){const r=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(r,s,a,o)){case o:return"left";case a:return"right";case r:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function TL(e,t,r=5){const s=[];switch(t){case"top":s.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":s.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":s.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":s.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return s}function AL(e){const{top:t,right:r,bottom:s,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:s},{x:a,y:s}]}function ML(e,t){const{x:r,y:s}=e;let a=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o].x,d=t[o].y,c=t[i].x,u=t[i].y;d>s!=u>s&&r<(c-l)*(s-d)/(u-d)+l&&(a=!a)}return a}function DL(e){const t=e.slice();return t.sort((r,s)=>r.x<s.x?-1:r.x>s.x?1:r.y<s.y?-1:r.y>s.y?1:0),RL(t)}function RL(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const a=e[s];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(a.y-i.y)>=(o.y-i.y)*(a.x-i.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let s=e.length-1;s>=0;s--){const a=e[s];for(;r.length>=2;){const o=r[r.length-1],i=r[r.length-2];if((o.x-i.x)*(a.y-i.y)>=(o.y-i.y)*(a.x-i.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var FL=B2,K2=q2;const _L=FL,OL=p.forwardRef(({className:e,sideOffset:t=4,...r},s)=>n.jsx(K2,{ref:s,sideOffset:t,className:de("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));OL.displayName=K2.displayName;var Sm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Cm=typeof window>"u"||"Deno"in globalThis;function Zn(){}function IL(e,t){return typeof e=="function"?e(t):e}function LL(e){return typeof e=="number"&&e>=0&&e!==1/0}function $L(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Iw(e,t){return typeof e=="function"?e(t):e}function UL(e,t){return typeof e=="function"?e(t):e}function Lw(e,t){const{type:r="all",exact:s,fetchStatus:a,predicate:o,queryKey:i,stale:l}=e;if(i){if(s){if(t.queryHash!==fy(i,t.options))return!1}else if(!Rc(t.queryKey,i))return!1}if(r!=="all"){const d=t.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||o&&!o(t))}function $w(e,t){const{exact:r,status:s,predicate:a,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(Dc(t.options.mutationKey)!==Dc(o))return!1}else if(!Rc(t.options.mutationKey,o))return!1}return!(s&&t.state.status!==s||a&&!a(t))}function fy(e,t){return((t==null?void 0:t.queryKeyHashFn)||Dc)(e)}function Dc(e){return JSON.stringify(e,(t,r)=>ig(r)?Object.keys(r).sort().reduce((s,a)=>(s[a]=r[a],s),{}):r)}function Rc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Rc(e[r],t[r])):!1}function G2(e,t){if(e===t)return e;const r=Uw(e)&&Uw(t);if(r||ig(e)&&ig(t)){const s=r?e:Object.keys(e),a=s.length,o=r?t:Object.keys(t),i=o.length,l=r?[]:{};let d=0;for(let c=0;c<i;c++){const u=r?c:o[c];(!r&&s.includes(u)||r)&&e[u]===void 0&&t[u]===void 0?(l[u]=void 0,d++):(l[u]=G2(e[u],t[u]),l[u]===e[u]&&e[u]!==void 0&&d++)}return a===i&&d===a?e:l}return t}function Uw(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function ig(e){if(!Hw(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Hw(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Hw(e){return Object.prototype.toString.call(e)==="[object Object]"}function HL(e){return new Promise(t=>{setTimeout(t,e)})}function VL(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?G2(e,t):t}function BL(e,t,r=0){const s=[...e,t];return r&&s.length>r?s.slice(1):s}function zL(e,t,r=0){const s=[t,...e];return r&&s.length>r?s.slice(0,-1):s}var xy=Symbol();function X2(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===xy?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Ba,qs,yi,e1,qL=(e1=class extends Sm{constructor(){super();He(this,Ba);He(this,qs);He(this,yi);Me(this,yi,t=>{if(!Cm&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){se(this,qs)||this.setEventListener(se(this,yi))}onUnsubscribe(){var t;this.hasListeners()||((t=se(this,qs))==null||t.call(this),Me(this,qs,void 0))}setEventListener(t){var r;Me(this,yi,t),(r=se(this,qs))==null||r.call(this),Me(this,qs,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){se(this,Ba)!==t&&(Me(this,Ba,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof se(this,Ba)=="boolean"?se(this,Ba):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ba=new WeakMap,qs=new WeakMap,yi=new WeakMap,e1),Q2=new qL,ji,Ws,wi,t1,WL=(t1=class extends Sm{constructor(){super();He(this,ji,!0);He(this,Ws);He(this,wi);Me(this,wi,t=>{if(!Cm&&window.addEventListener){const r=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){se(this,Ws)||this.setEventListener(se(this,wi))}onUnsubscribe(){var t;this.hasListeners()||((t=se(this,Ws))==null||t.call(this),Me(this,Ws,void 0))}setEventListener(t){var r;Me(this,wi,t),(r=se(this,Ws))==null||r.call(this),Me(this,Ws,t(this.setOnline.bind(this)))}setOnline(t){se(this,ji)!==t&&(Me(this,ji,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return se(this,ji)}},ji=new WeakMap,Ws=new WeakMap,wi=new WeakMap,t1),Nh=new WL;function YL(){let e,t;const r=new Promise((a,o)=>{e=a,t=o});r.status="pending",r.catch(()=>{});function s(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{s({status:"fulfilled",value:a}),e(a)},r.reject=a=>{s({status:"rejected",reason:a}),t(a)},r}function KL(e){return Math.min(1e3*2**e,3e4)}function J2(e){return(e??"online")==="online"?Nh.isOnline():!0}var Z2=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function sf(e){return e instanceof Z2}function eE(e){let t=!1,r=0,s=!1,a;const o=YL(),i=x=>{var w;s||(h(new Z2(x)),(w=e.abort)==null||w.call(e))},l=()=>{t=!0},d=()=>{t=!1},c=()=>Q2.isFocused()&&(e.networkMode==="always"||Nh.isOnline())&&e.canRun(),u=()=>J2(e.networkMode)&&e.canRun(),m=x=>{var w;s||(s=!0,(w=e.onSuccess)==null||w.call(e,x),a==null||a(),o.resolve(x))},h=x=>{var w;s||(s=!0,(w=e.onError)==null||w.call(e,x),a==null||a(),o.reject(x))},f=()=>new Promise(x=>{var w;a=v=>{(s||c())&&x(v)},(w=e.onPause)==null||w.call(e)}).then(()=>{var x;a=void 0,s||(x=e.onContinue)==null||x.call(e)}),j=()=>{if(s)return;let x;const w=r===0?e.initialPromise:void 0;try{x=w??e.fn()}catch(v){x=Promise.reject(v)}Promise.resolve(x).then(m).catch(v=>{var E;if(s)return;const g=e.retry??(Cm?0:3),y=e.retryDelay??KL,N=typeof y=="function"?y(r,v):y,b=g===!0||typeof g=="number"&&r<g||typeof g=="function"&&g(r,v);if(t||!b){h(v);return}r++,(E=e.onFail)==null||E.call(e,r,v),HL(N).then(()=>c()?void 0:f()).then(()=>{t?h(v):j()})})};return{promise:o,cancel:i,continue:()=>(a==null||a(),o),cancelRetry:l,continueRetry:d,canStart:u,start:()=>(u()?j():f().then(j),o)}}function GL(){let e=[],t=0,r=l=>{l()},s=l=>{l()},a=l=>setTimeout(l,0);const o=l=>{t?e.push(l):a(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&a(()=>{s(()=>{l.forEach(d=>{r(d)})})})};return{batch:l=>{let d;t++;try{d=l()}finally{t--,t||i()}return d},batchCalls:l=>(...d)=>{o(()=>{l(...d)})},schedule:o,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{a=l}}}var Xt=GL(),za,n1,tE=(n1=class{constructor(){He(this,za)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),LL(this.gcTime)&&Me(this,za,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Cm?1/0:5*60*1e3))}clearGcTimeout(){se(this,za)&&(clearTimeout(se(this,za)),Me(this,za,void 0))}},za=new WeakMap,n1),Ni,bi,In,Ut,Xc,qa,er,ns,r1,XL=(r1=class extends tE{constructor(t){super();He(this,er);He(this,Ni);He(this,bi);He(this,In);He(this,Ut);He(this,Xc);He(this,qa);Me(this,qa,!1),Me(this,Xc,t.defaultOptions),this.setOptions(t.options),this.observers=[],Me(this,In,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Me(this,Ni,JL(this.options)),this.state=t.state??se(this,Ni),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=se(this,Ut))==null?void 0:t.promise}setOptions(t){this.options={...se(this,Xc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&se(this,In).remove(this)}setData(t,r){const s=VL(this.state.data,t,this.options);return It(this,er,ns).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(t,r){It(this,er,ns).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var s,a;const r=(s=se(this,Ut))==null?void 0:s.promise;return(a=se(this,Ut))==null||a.cancel(t),r?r.then(Zn).catch(Zn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(se(this,Ni))}isActive(){return this.observers.some(t=>UL(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===xy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!$L(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=se(this,Ut))==null||r.continue()}onOnline(){var r;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=se(this,Ut))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),se(this,In).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(se(this,Ut)&&(se(this,qa)?se(this,Ut).cancel({revert:!0}):se(this,Ut).cancelRetry()),this.scheduleGc()),se(this,In).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||It(this,er,ns).call(this,{type:"invalidate"})}fetch(t,r){var d,c,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(se(this,Ut))return se(this,Ut).continueRetry(),se(this,Ut).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(h=>h.options.queryFn);m&&this.setOptions(m.options)}const s=new AbortController,a=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(Me(this,qa,!0),s.signal)})},o=()=>{const m=X2(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return a(h),Me(this,qa,!1),this.options.persister?this.options.persister(m,h,this):m(h)},i={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};a(i),(d=this.options.behavior)==null||d.onFetch(i,this),Me(this,bi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=i.fetchOptions)==null?void 0:c.meta))&&It(this,er,ns).call(this,{type:"fetch",meta:(u=i.fetchOptions)==null?void 0:u.meta});const l=m=>{var h,f,j,x;sf(m)&&m.silent||It(this,er,ns).call(this,{type:"error",error:m}),sf(m)||((f=(h=se(this,In).config).onError)==null||f.call(h,m,this),(x=(j=se(this,In).config).onSettled)==null||x.call(j,this.state.data,m,this)),this.scheduleGc()};return Me(this,Ut,eE({initialPromise:r==null?void 0:r.initialPromise,fn:i.fetchFn,abort:s.abort.bind(s),onSuccess:m=>{var h,f,j,x;if(m===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(w){l(w);return}(f=(h=se(this,In).config).onSuccess)==null||f.call(h,m,this),(x=(j=se(this,In).config).onSettled)==null||x.call(j,m,this.state.error,this),this.scheduleGc()},onError:l,onFail:(m,h)=>{It(this,er,ns).call(this,{type:"failed",failureCount:m,error:h})},onPause:()=>{It(this,er,ns).call(this,{type:"pause"})},onContinue:()=>{It(this,er,ns).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),se(this,Ut).start()}},Ni=new WeakMap,bi=new WeakMap,In=new WeakMap,Ut=new WeakMap,Xc=new WeakMap,qa=new WeakMap,er=new WeakSet,ns=function(t){const r=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...QL(s.data,this.options),fetchMeta:t.meta??null};case"success":return{...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return sf(a)&&a.revert&&se(this,bi)?{...se(this,bi),fetchStatus:"idle"}:{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=r(this.state),Xt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),se(this,In).notify({query:this,type:"updated",action:t})})},r1);function QL(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:J2(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function JL(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,s=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Mr,s1,ZL=(s1=class extends Sm{constructor(t={}){super();He(this,Mr);this.config=t,Me(this,Mr,new Map)}build(t,r,s){const a=r.queryKey,o=r.queryHash??fy(a,r);let i=this.get(o);return i||(i=new XL({cache:this,queryKey:a,queryHash:o,options:t.defaultQueryOptions(r),state:s,defaultOptions:t.getQueryDefaults(a)}),this.add(i)),i}add(t){se(this,Mr).has(t.queryHash)||(se(this,Mr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=se(this,Mr).get(t.queryHash);r&&(t.destroy(),r===t&&se(this,Mr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Xt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return se(this,Mr).get(t)}getAll(){return[...se(this,Mr).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(s=>Lw(r,s))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(s=>Lw(t,s)):r}notify(t){Xt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Xt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Xt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Mr=new WeakMap,s1),Dr,Yt,Wa,Rr,Os,a1,e$=(a1=class extends tE{constructor(t){super();He(this,Rr);He(this,Dr);He(this,Yt);He(this,Wa);this.mutationId=t.mutationId,Me(this,Yt,t.mutationCache),Me(this,Dr,[]),this.state=t.state||t$(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){se(this,Dr).includes(t)||(se(this,Dr).push(t),this.clearGcTimeout(),se(this,Yt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Me(this,Dr,se(this,Dr).filter(r=>r!==t)),this.scheduleGc(),se(this,Yt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){se(this,Dr).length||(this.state.status==="pending"?this.scheduleGc():se(this,Yt).remove(this))}continue(){var t;return((t=se(this,Wa))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,o,i,l,d,c,u,m,h,f,j,x,w,v,g,y,N,b,E,S;Me(this,Wa,eE({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(P,_)=>{It(this,Rr,Os).call(this,{type:"failed",failureCount:P,error:_})},onPause:()=>{It(this,Rr,Os).call(this,{type:"pause"})},onContinue:()=>{It(this,Rr,Os).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>se(this,Yt).canRun(this)}));const r=this.state.status==="pending",s=!se(this,Wa).canStart();try{if(!r){It(this,Rr,Os).call(this,{type:"pending",variables:t,isPaused:s}),await((o=(a=se(this,Yt).config).onMutate)==null?void 0:o.call(a,t,this));const _=await((l=(i=this.options).onMutate)==null?void 0:l.call(i,t));_!==this.state.context&&It(this,Rr,Os).call(this,{type:"pending",context:_,variables:t,isPaused:s})}const P=await se(this,Wa).start();return await((c=(d=se(this,Yt).config).onSuccess)==null?void 0:c.call(d,P,t,this.state.context,this)),await((m=(u=this.options).onSuccess)==null?void 0:m.call(u,P,t,this.state.context)),await((f=(h=se(this,Yt).config).onSettled)==null?void 0:f.call(h,P,null,this.state.variables,this.state.context,this)),await((x=(j=this.options).onSettled)==null?void 0:x.call(j,P,null,t,this.state.context)),It(this,Rr,Os).call(this,{type:"success",data:P}),P}catch(P){try{throw await((v=(w=se(this,Yt).config).onError)==null?void 0:v.call(w,P,t,this.state.context,this)),await((y=(g=this.options).onError)==null?void 0:y.call(g,P,t,this.state.context)),await((b=(N=se(this,Yt).config).onSettled)==null?void 0:b.call(N,void 0,P,this.state.variables,this.state.context,this)),await((S=(E=this.options).onSettled)==null?void 0:S.call(E,void 0,P,t,this.state.context)),P}finally{It(this,Rr,Os).call(this,{type:"error",error:P})}}finally{se(this,Yt).runNext(this)}}},Dr=new WeakMap,Yt=new WeakMap,Wa=new WeakMap,Rr=new WeakSet,Os=function(t){const r=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Xt.batch(()=>{se(this,Dr).forEach(s=>{s.onMutationUpdate(t)}),se(this,Yt).notify({mutation:this,type:"updated",action:t})})},a1);function t$(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var gn,Qc,o1,n$=(o1=class extends Sm{constructor(t={}){super();He(this,gn);He(this,Qc);this.config=t,Me(this,gn,new Map),Me(this,Qc,Date.now())}build(t,r,s){const a=new e$({mutationCache:this,mutationId:++Dd(this,Qc)._,options:t.defaultMutationOptions(r),state:s});return this.add(a),a}add(t){const r=eu(t),s=se(this,gn).get(r)??[];s.push(t),se(this,gn).set(r,s),this.notify({type:"added",mutation:t})}remove(t){var s;const r=eu(t);if(se(this,gn).has(r)){const a=(s=se(this,gn).get(r))==null?void 0:s.filter(o=>o!==t);a&&(a.length===0?se(this,gn).delete(r):se(this,gn).set(r,a))}this.notify({type:"removed",mutation:t})}canRun(t){var s;const r=(s=se(this,gn).get(eu(t)))==null?void 0:s.find(a=>a.state.status==="pending");return!r||r===t}runNext(t){var s;const r=(s=se(this,gn).get(eu(t)))==null?void 0:s.find(a=>a!==t&&a.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Xt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...se(this,gn).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(s=>$w(r,s))}findAll(t={}){return this.getAll().filter(r=>$w(t,r))}notify(t){Xt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Xt.batch(()=>Promise.all(t.map(r=>r.continue().catch(Zn))))}},gn=new WeakMap,Qc=new WeakMap,o1);function eu(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Vw(e){return{onFetch:(t,r)=>{var u,m,h,f,j;const s=t.options,a=(h=(m=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:m.fetchMore)==null?void 0:h.direction,o=((f=t.state.data)==null?void 0:f.pages)||[],i=((j=t.state.data)==null?void 0:j.pageParams)||[];let l={pages:[],pageParams:[]},d=0;const c=async()=>{let x=!1;const w=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},v=X2(t.options,t.fetchOptions),g=async(y,N,b)=>{if(x)return Promise.reject();if(N==null&&y.pages.length)return Promise.resolve(y);const E={queryKey:t.queryKey,pageParam:N,direction:b?"backward":"forward",meta:t.options.meta};w(E);const S=await v(E),{maxPages:P}=t.options,_=b?zL:BL;return{pages:_(y.pages,S,P),pageParams:_(y.pageParams,N,P)}};if(a&&o.length){const y=a==="backward",N=y?r$:Bw,b={pages:o,pageParams:i},E=N(s,b);l=await g(b,E,y)}else{const y=e??o.length;do{const N=d===0?i[0]??s.initialPageParam:Bw(s,l);if(d>0&&N==null)break;l=await g(l,N),d++}while(d<y)}return l};t.options.persister?t.fetchFn=()=>{var x,w;return(w=(x=t.options).persister)==null?void 0:w.call(x,c,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=c}}}function Bw(e,{pages:t,pageParams:r}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,r[s],r):void 0}function r$(e,{pages:t,pageParams:r}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,r[0],r):void 0}var mt,Ys,Ks,Si,Ci,Gs,Ei,Pi,i1,s$=(i1=class{constructor(e={}){He(this,mt);He(this,Ys);He(this,Ks);He(this,Si);He(this,Ci);He(this,Gs);He(this,Ei);He(this,Pi);Me(this,mt,e.queryCache||new ZL),Me(this,Ys,e.mutationCache||new n$),Me(this,Ks,e.defaultOptions||{}),Me(this,Si,new Map),Me(this,Ci,new Map),Me(this,Gs,0)}mount(){Dd(this,Gs)._++,se(this,Gs)===1&&(Me(this,Ei,Q2.subscribe(async e=>{e&&(await this.resumePausedMutations(),se(this,mt).onFocus())})),Me(this,Pi,Nh.subscribe(async e=>{e&&(await this.resumePausedMutations(),se(this,mt).onOnline())})))}unmount(){var e,t;Dd(this,Gs)._--,se(this,Gs)===0&&((e=se(this,Ei))==null||e.call(this),Me(this,Ei,void 0),(t=se(this,Pi))==null||t.call(this),Me(this,Pi,void 0))}isFetching(e){return se(this,mt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return se(this,Ys).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=se(this,mt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),s=se(this,mt).build(this,r);return e.revalidateIfStale&&s.isStaleByTime(Iw(r.staleTime,s))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return se(this,mt).findAll(e).map(({queryKey:t,state:r})=>{const s=r.data;return[t,s]})}setQueryData(e,t,r){const s=this.defaultQueryOptions({queryKey:e}),a=se(this,mt).get(s.queryHash),o=a==null?void 0:a.state.data,i=IL(t,o);if(i!==void 0)return se(this,mt).build(this,s).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return Xt.batch(()=>se(this,mt).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=se(this,mt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=se(this,mt);Xt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=se(this,mt),s={type:"active",...e};return Xt.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(s,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},s=Xt.batch(()=>se(this,mt).findAll(e).map(a=>a.cancel(r)));return Promise.all(s).then(Zn).catch(Zn)}invalidateQueries(e={},t={}){return Xt.batch(()=>{if(se(this,mt).findAll(e).forEach(s=>{s.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},s=Xt.batch(()=>se(this,mt).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let o=a.fetch(void 0,r);return r.throwOnError||(o=o.catch(Zn)),a.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(s).then(Zn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=se(this,mt).build(this,t);return r.isStaleByTime(Iw(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Zn).catch(Zn)}fetchInfiniteQuery(e){return e.behavior=Vw(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Zn).catch(Zn)}ensureInfiniteQueryData(e){return e.behavior=Vw(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Nh.isOnline()?se(this,Ys).resumePausedMutations():Promise.resolve()}getQueryCache(){return se(this,mt)}getMutationCache(){return se(this,Ys)}getDefaultOptions(){return se(this,Ks)}setDefaultOptions(e){Me(this,Ks,e)}setQueryDefaults(e,t){se(this,Si).set(Dc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...se(this,Si).values()];let r={};return t.forEach(s=>{Rc(e,s.queryKey)&&(r={...r,...s.defaultOptions})}),r}setMutationDefaults(e,t){se(this,Ci).set(Dc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...se(this,Ci).values()];let r={};return t.forEach(s=>{Rc(e,s.mutationKey)&&(r={...r,...s.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...se(this,Ks).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=fy(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===xy&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...se(this,Ks).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){se(this,mt).clear(),se(this,Ys).clear()}},mt=new WeakMap,Ys=new WeakMap,Ks=new WeakMap,Si=new WeakMap,Ci=new WeakMap,Gs=new WeakMap,Ei=new WeakMap,Pi=new WeakMap,i1),a$=p.createContext(void 0),o$=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(a$.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fc(){return Fc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Fc.apply(this,arguments)}var Js;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Js||(Js={}));const zw="popstate";function i$(e){e===void 0&&(e={});function t(s,a){let{pathname:o,search:i,hash:l}=s.location;return lg("",{pathname:o,search:i,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){return typeof a=="string"?a:bh(a)}return c$(t,r,null,e)}function ct(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function nE(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function l$(){return Math.random().toString(36).substr(2,8)}function qw(e,t){return{usr:e.state,key:e.key,idx:t}}function lg(e,t,r,s){return r===void 0&&(r=null),Fc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?hl(t):t,{state:r,key:t&&t.key||s||l$()})}function bh(e){let{pathname:t="/",search:r="",hash:s=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function hl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function c$(e,t,r,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:o=!1}=s,i=a.history,l=Js.Pop,d=null,c=u();c==null&&(c=0,i.replaceState(Fc({},i.state,{idx:c}),""));function u(){return(i.state||{idx:null}).idx}function m(){l=Js.Pop;let w=u(),v=w==null?null:w-c;c=w,d&&d({action:l,location:x.location,delta:v})}function h(w,v){l=Js.Push;let g=lg(x.location,w,v);c=u()+1;let y=qw(g,c),N=x.createHref(g);try{i.pushState(y,"",N)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;a.location.assign(N)}o&&d&&d({action:l,location:x.location,delta:1})}function f(w,v){l=Js.Replace;let g=lg(x.location,w,v);c=u();let y=qw(g,c),N=x.createHref(g);i.replaceState(y,"",N),o&&d&&d({action:l,location:x.location,delta:0})}function j(w){let v=a.location.origin!=="null"?a.location.origin:a.location.href,g=typeof w=="string"?w:bh(w);return g=g.replace(/ $/,"%20"),ct(v,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,v)}let x={get action(){return l},get location(){return e(a,i)},listen(w){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(zw,m),d=w,()=>{a.removeEventListener(zw,m),d=null}},createHref(w){return t(a,w)},createURL:j,encodeLocation(w){let v=j(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:f,go(w){return i.go(w)}};return x}var Ww;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ww||(Ww={}));function d$(e,t,r){return r===void 0&&(r="/"),u$(e,t,r,!1)}function u$(e,t,r,s){let a=typeof t=="string"?hl(t):t,o=$i(a.pathname||"/",r);if(o==null)return null;let i=rE(e);h$(i);let l=null;for(let d=0;l==null&&d<i.length;++d){let c=b$(o);l=w$(i[d],c,s)}return l}function rE(e,t,r,s){t===void 0&&(t=[]),r===void 0&&(r=[]),s===void 0&&(s="");let a=(o,i,l)=>{let d={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};d.relativePath.startsWith("/")&&(ct(d.relativePath.startsWith(s),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(s.length));let c=la([s,d.relativePath]),u=r.concat(d);o.children&&o.children.length>0&&(ct(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),rE(o.children,t,u,c)),!(o.path==null&&!o.index)&&t.push({path:c,score:y$(c,o.index),routesMeta:u})};return e.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))a(o,i);else for(let d of sE(o.path))a(o,i,d)}),t}function sE(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,a=r.endsWith("?"),o=r.replace(/\?$/,"");if(s.length===0)return a?[o,""]:[o];let i=sE(s.join("/")),l=[];return l.push(...i.map(d=>d===""?o:[o,d].join("/"))),a&&l.push(...i),l.map(d=>e.startsWith("/")&&d===""?"/":d)}function h$(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:j$(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const m$=/^:[\w-]+$/,p$=3,f$=2,x$=1,g$=10,v$=-2,Yw=e=>e==="*";function y$(e,t){let r=e.split("/"),s=r.length;return r.some(Yw)&&(s+=v$),t&&(s+=f$),r.filter(a=>!Yw(a)).reduce((a,o)=>a+(m$.test(o)?p$:o===""?x$:g$),s)}function j$(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function w$(e,t,r){let{routesMeta:s}=e,a={},o="/",i=[];for(let l=0;l<s.length;++l){let d=s[l],c=l===s.length-1,u=o==="/"?t:t.slice(o.length)||"/",m=Sh({path:d.relativePath,caseSensitive:d.caseSensitive,end:c},u),h=d.route;if(!m&&c&&r&&!s[s.length-1].route.index&&(m=Sh({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},u)),!m)return null;Object.assign(a,m.params),i.push({params:a,pathname:la([o,m.pathname]),pathnameBase:P$(la([o,m.pathnameBase])),route:h}),m.pathnameBase!=="/"&&(o=la([o,m.pathnameBase]))}return i}function Sh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=N$(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let o=a[0],i=o.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:s.reduce((c,u,m)=>{let{paramName:h,isOptional:f}=u;if(h==="*"){let x=l[m]||"";i=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const j=l[m];return f&&!j?c[h]=void 0:c[h]=(j||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:i,pattern:e}}function N$(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),nE(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,d)=>(s.push({paramName:l,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function b$(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return nE(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function $i(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}function S$(e,t){t===void 0&&(t="/");let{pathname:r,search:s="",hash:a=""}=typeof e=="string"?hl(e):e;return{pathname:r?r.startsWith("/")?r:C$(r,t):t,search:k$(s),hash:T$(a)}}function C$(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function af(e,t,r,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function E$(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function gy(e,t){let r=E$(e);return t?r.map((s,a)=>a===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function vy(e,t,r,s){s===void 0&&(s=!1);let a;typeof e=="string"?a=hl(e):(a=Fc({},e),ct(!a.pathname||!a.pathname.includes("?"),af("?","pathname","search",a)),ct(!a.pathname||!a.pathname.includes("#"),af("#","pathname","hash",a)),ct(!a.search||!a.search.includes("#"),af("#","search","hash",a)));let o=e===""||a.pathname==="",i=o?"/":a.pathname,l;if(i==null)l=r;else{let m=t.length-1;if(!s&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),m-=1;a.pathname=h.join("/")}l=m>=0?t[m]:"/"}let d=S$(a,l),c=i&&i!=="/"&&i.endsWith("/"),u=(o||i===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(c||u)&&(d.pathname+="/"),d}const la=e=>e.join("/").replace(/\/\/+/g,"/"),P$=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),k$=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,T$=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function A$(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const aE=["post","put","patch","delete"];new Set(aE);const M$=["get",...aE];new Set(M$);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _c(){return _c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},_c.apply(this,arguments)}const Em=p.createContext(null),oE=p.createContext(null),Ss=p.createContext(null),Pm=p.createContext(null),Yr=p.createContext({outlet:null,matches:[],isDataRoute:!1}),iE=p.createContext(null);function D$(e,t){let{relative:r}=t===void 0?{}:t;ml()||ct(!1);let{basename:s,navigator:a}=p.useContext(Ss),{hash:o,pathname:i,search:l}=km(e,{relative:r}),d=i;return s!=="/"&&(d=i==="/"?s:la([s,i])),a.createHref({pathname:d,search:l,hash:o})}function ml(){return p.useContext(Pm)!=null}function Cs(){return ml()||ct(!1),p.useContext(Pm).location}function lE(e){p.useContext(Ss).static||p.useLayoutEffect(e)}function Sa(){let{isDataRoute:e}=p.useContext(Yr);return e?K$():R$()}function R$(){ml()||ct(!1);let e=p.useContext(Em),{basename:t,future:r,navigator:s}=p.useContext(Ss),{matches:a}=p.useContext(Yr),{pathname:o}=Cs(),i=JSON.stringify(gy(a,r.v7_relativeSplatPath)),l=p.useRef(!1);return lE(()=>{l.current=!0}),p.useCallback(function(c,u){if(u===void 0&&(u={}),!l.current)return;if(typeof c=="number"){s.go(c);return}let m=vy(c,JSON.parse(i),o,u.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:la([t,m.pathname])),(u.replace?s.replace:s.push)(m,u.state,u)},[t,s,i,o,e])}const F$=p.createContext(null);function _$(e){let t=p.useContext(Yr).outlet;return t&&p.createElement(F$.Provider,{value:e},t)}function O$(){let{matches:e}=p.useContext(Yr),t=e[e.length-1];return t?t.params:{}}function km(e,t){let{relative:r}=t===void 0?{}:t,{future:s}=p.useContext(Ss),{matches:a}=p.useContext(Yr),{pathname:o}=Cs(),i=JSON.stringify(gy(a,s.v7_relativeSplatPath));return p.useMemo(()=>vy(e,JSON.parse(i),o,r==="path"),[e,i,o,r])}function I$(e,t){return L$(e,t)}function L$(e,t,r,s){ml()||ct(!1);let{navigator:a}=p.useContext(Ss),{matches:o}=p.useContext(Yr),i=o[o.length-1],l=i?i.params:{};i&&i.pathname;let d=i?i.pathnameBase:"/";i&&i.route;let c=Cs(),u;if(t){var m;let w=typeof t=="string"?hl(t):t;d==="/"||(m=w.pathname)!=null&&m.startsWith(d)||ct(!1),u=w}else u=c;let h=u.pathname||"/",f=h;if(d!=="/"){let w=d.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(w.length).join("/")}let j=d$(e,{pathname:f}),x=B$(j&&j.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:la([d,a.encodeLocation?a.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?d:la([d,a.encodeLocation?a.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,r,s);return t&&x?p.createElement(Pm.Provider,{value:{location:_c({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Js.Pop}},x):x}function $$(){let e=Y$(),t=A$(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),r?p.createElement("pre",{style:a},r):null,null)}const U$=p.createElement($$,null);class H$ extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?p.createElement(Yr.Provider,{value:this.props.routeContext},p.createElement(iE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function V$(e){let{routeContext:t,match:r,children:s}=e,a=p.useContext(Em);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),p.createElement(Yr.Provider,{value:t},s)}function B$(e,t,r,s){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),s===void 0&&(s=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=s)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let u=i.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);u>=0||ct(!1),i=i.slice(0,Math.min(i.length,u+1))}let d=!1,c=-1;if(r&&s&&s.v7_partialHydration)for(let u=0;u<i.length;u++){let m=i[u];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=u),m.route.id){let{loaderData:h,errors:f}=r,j=m.route.loader&&h[m.route.id]===void 0&&(!f||f[m.route.id]===void 0);if(m.route.lazy||j){d=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((u,m,h)=>{let f,j=!1,x=null,w=null;r&&(f=l&&m.route.id?l[m.route.id]:void 0,x=m.route.errorElement||U$,d&&(c<0&&h===0?(j=!0,w=null):c===h&&(j=!0,w=m.route.hydrateFallbackElement||null)));let v=t.concat(i.slice(0,h+1)),g=()=>{let y;return f?y=x:j?y=w:m.route.Component?y=p.createElement(m.route.Component,null):m.route.element?y=m.route.element:y=u,p.createElement(V$,{match:m,routeContext:{outlet:u,matches:v,isDataRoute:r!=null},children:y})};return r&&(m.route.ErrorBoundary||m.route.errorElement||h===0)?p.createElement(H$,{location:r.location,revalidation:r.revalidation,component:x,error:f,children:g(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):g()},null)}var cE=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(cE||{}),Ch=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ch||{});function z$(e){let t=p.useContext(Em);return t||ct(!1),t}function q$(e){let t=p.useContext(oE);return t||ct(!1),t}function W$(e){let t=p.useContext(Yr);return t||ct(!1),t}function dE(e){let t=W$(),r=t.matches[t.matches.length-1];return r.route.id||ct(!1),r.route.id}function Y$(){var e;let t=p.useContext(iE),r=q$(Ch.UseRouteError),s=dE(Ch.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[s]}function K$(){let{router:e}=z$(cE.UseNavigateStable),t=dE(Ch.UseNavigateStable),r=p.useRef(!1);return lE(()=>{r.current=!0}),p.useCallback(function(a,o){o===void 0&&(o={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,_c({fromRouteId:t},o)))},[e,t])}function Eh(e){let{to:t,replace:r,state:s,relative:a}=e;ml()||ct(!1);let{future:o,static:i}=p.useContext(Ss),{matches:l}=p.useContext(Yr),{pathname:d}=Cs(),c=Sa(),u=vy(t,gy(l,o.v7_relativeSplatPath),d,a==="path"),m=JSON.stringify(u);return p.useEffect(()=>c(JSON.parse(m),{replace:r,state:s,relative:a}),[c,m,a,r,s]),null}function G$(e){return _$(e.context)}function Tt(e){ct(!1)}function X$(e){let{basename:t="/",children:r=null,location:s,navigationType:a=Js.Pop,navigator:o,static:i=!1,future:l}=e;ml()&&ct(!1);let d=t.replace(/^\/*/,"/"),c=p.useMemo(()=>({basename:d,navigator:o,static:i,future:_c({v7_relativeSplatPath:!1},l)}),[d,l,o,i]);typeof s=="string"&&(s=hl(s));let{pathname:u="/",search:m="",hash:h="",state:f=null,key:j="default"}=s,x=p.useMemo(()=>{let w=$i(u,d);return w==null?null:{location:{pathname:w,search:m,hash:h,state:f,key:j},navigationType:a}},[d,u,m,h,f,j,a]);return x==null?null:p.createElement(Ss.Provider,{value:c},p.createElement(Pm.Provider,{children:r,value:x}))}function Q$(e){let{children:t,location:r}=e;return I$(cg(t),r)}new Promise(()=>{});function cg(e,t){t===void 0&&(t=[]);let r=[];return p.Children.forEach(e,(s,a)=>{if(!p.isValidElement(s))return;let o=[...t,a];if(s.type===p.Fragment){r.push.apply(r,cg(s.props.children,o));return}s.type!==Tt&&ct(!1),!s.props.index||!s.props.children||ct(!1);let i={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(i.children=cg(s.props.children,o)),r.push(i)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ph(){return Ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Ph.apply(this,arguments)}function uE(e,t){if(e==null)return{};var r={},s=Object.keys(e),a,o;for(o=0;o<s.length;o++)a=s[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function J$(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Z$(e,t){return e.button===0&&(!t||t==="_self")&&!J$(e)}const e5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],t5=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],n5="6";try{window.__reactRouterVersion=n5}catch{}const r5=p.createContext({isTransitioning:!1}),s5="startTransition",Kw=Zc[s5];function a5(e){let{basename:t,children:r,future:s,window:a}=e,o=p.useRef();o.current==null&&(o.current=i$({window:a,v5Compat:!0}));let i=o.current,[l,d]=p.useState({action:i.action,location:i.location}),{v7_startTransition:c}=s||{},u=p.useCallback(m=>{c&&Kw?Kw(()=>d(m)):d(m)},[d,c]);return p.useLayoutEffect(()=>i.listen(u),[i,u]),p.createElement(X$,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:i,future:s})}const o5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",i5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,l5=p.forwardRef(function(t,r){let{onClick:s,relative:a,reloadDocument:o,replace:i,state:l,target:d,to:c,preventScrollReset:u,viewTransition:m}=t,h=uE(t,e5),{basename:f}=p.useContext(Ss),j,x=!1;if(typeof c=="string"&&i5.test(c)&&(j=c,o5))try{let y=new URL(window.location.href),N=c.startsWith("//")?new URL(y.protocol+c):new URL(c),b=$i(N.pathname,f);N.origin===y.origin&&b!=null?c=b+N.search+N.hash:x=!0}catch{}let w=D$(c,{relative:a}),v=u5(c,{replace:i,state:l,target:d,preventScrollReset:u,relative:a,viewTransition:m});function g(y){s&&s(y),y.defaultPrevented||v(y)}return p.createElement("a",Ph({},h,{href:j||w,onClick:x||o?s:g,ref:r,target:d}))}),c5=p.forwardRef(function(t,r){let{"aria-current":s="page",caseSensitive:a=!1,className:o="",end:i=!1,style:l,to:d,viewTransition:c,children:u}=t,m=uE(t,t5),h=km(d,{relative:m.relative}),f=Cs(),j=p.useContext(oE),{navigator:x,basename:w}=p.useContext(Ss),v=j!=null&&h5(h)&&c===!0,g=x.encodeLocation?x.encodeLocation(h).pathname:h.pathname,y=f.pathname,N=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;a||(y=y.toLowerCase(),N=N?N.toLowerCase():null,g=g.toLowerCase()),N&&w&&(N=$i(N,w)||N);const b=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let E=y===g||!i&&y.startsWith(g)&&y.charAt(b)==="/",S=N!=null&&(N===g||!i&&N.startsWith(g)&&N.charAt(g.length)==="/"),P={isActive:E,isPending:S,isTransitioning:v},_=E?s:void 0,T;typeof o=="function"?T=o(P):T=[o,E?"active":null,S?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(P):l;return p.createElement(l5,Ph({},m,{"aria-current":_,className:T,ref:r,style:D,to:d,viewTransition:c}),typeof u=="function"?u(P):u)});var dg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(dg||(dg={}));var Gw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Gw||(Gw={}));function d5(e){let t=p.useContext(Em);return t||ct(!1),t}function u5(e,t){let{target:r,replace:s,state:a,preventScrollReset:o,relative:i,viewTransition:l}=t===void 0?{}:t,d=Sa(),c=Cs(),u=km(e,{relative:i});return p.useCallback(m=>{if(Z$(m,r)){m.preventDefault();let h=s!==void 0?s:bh(c)===bh(u);d(e,{replace:h,state:a,preventScrollReset:o,relative:i,viewTransition:l})}},[c,d,u,s,a,r,e,o,i,l])}function h5(e,t){t===void 0&&(t={});let r=p.useContext(r5);r==null&&ct(!1);let{basename:s}=d5(dg.useViewTransitionState),a=km(e,{relative:t.relative});if(!r.isTransitioning)return!1;let o=$i(r.currentLocation.pathname,s)||r.currentLocation.pathname,i=$i(r.nextLocation.pathname,s)||r.nextLocation.pathname;return Sh(a.pathname,i)!=null||Sh(a.pathname,o)!=null}const hE="http://localhost:8080/api";class of extends Error{constructor(t,r,s){super(t),this.status=r,this.response=s,this.name="ApiError"}}function Xw(){return localStorage.getItem("integration_platform_token")}function m5(){return localStorage.getItem("integration_platform_refresh_token")}function p5(){localStorage.removeItem("integration_platform_token"),localStorage.removeItem("integration_platform_refresh_token"),localStorage.removeItem("integration_platform_user")}async function f5(){const e=m5();if(!e)return!1;try{const t=await fetch(`${hE}/auth/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:e})});if(t.ok){const r=await t.json();return localStorage.setItem("integration_platform_token",r.token),!0}}catch(t){console.warn("Token refresh failed:",t)}return p5(),!1}async function Fl(e,t={}){const r=`${hE}${e}`,s=Xw(),a={"Content-Type":"application/json"};s&&!e.includes("/auth/login")&&!e.includes("/auth/register")&&!e.includes("/auth/refresh")&&(a.Authorization=`Bearer ${s}`);const o={headers:{...a,...t.headers},...t};try{let i=await fetch(r,o);if(i.status===401&&!e.includes("/auth/login")&&!e.includes("/auth/register")&&!e.includes("/auth/refresh"))if(await f5()){const u=Xw();u&&(o.headers={...o.headers,Authorization:`Bearer ${u}`},i=await fetch(r,o))}else throw window.location.href="/login",new of("Authentication failed",401);let l;const d=i.headers.get("content-type");if(d&&d.includes("application/json")?l=await i.json():l=await i.text(),!i.ok)throw new of(l.message||l||`HTTP ${i.status}: ${i.statusText}`,i.status,l);return{success:!0,data:l.data||l,message:l.message}}catch(i){if(i instanceof of)throw i;return{success:!1,error:i instanceof Error?i.message:"Unknown error occurred"}}}const ce={get:(e,t)=>Fl(e,{method:"GET",...t}),post:(e,t,r)=>Fl(e,{method:"POST",body:JSON.stringify(t),...r}),put:(e,t,r)=>Fl(e,{method:"PUT",body:JSON.stringify(t),...r}),patch:(e,t,r)=>Fl(e,{method:"PATCH",body:JSON.stringify(t),...r}),delete:(e,t)=>Fl(e,{method:"DELETE",...t})};class x5{constructor(){rt(this,"TOKEN_KEY","integration_platform_token");rt(this,"REFRESH_TOKEN_KEY","integration_platform_refresh_token");rt(this,"USER_KEY","integration_platform_user")}async login(t){const r=await ce.post("/auth/login",t);return r.success&&r.data&&this.setAuthData(r.data),r}async register(t){return ce.post("/auth/register",t)}async logout(){try{const t=this.getRefreshToken();t&&await ce.post("/auth/logout",{refreshToken:t})}catch(t){console.warn("Logout API call failed:",t)}finally{this.clearAuthData()}return{success:!0}}async refreshToken(){const t=this.getRefreshToken();if(!t)return{success:!1,error:"No refresh token available"};const r=await ce.post("/auth/refresh",{refreshToken:t});return r.success&&r.data&&localStorage.setItem(this.TOKEN_KEY,r.data.token),r}async getProfile(){return ce.get("/auth/profile")}async updateProfile(t){return ce.put("/auth/profile",t)}async changePassword(t,r){return ce.post("/auth/change-password",{currentPassword:t,newPassword:r})}async requestPasswordReset(t){return ce.post("/auth/forgot-password",{email:t})}async resetPassword(t,r){return ce.post("/auth/reset-password",{token:t,newPassword:r})}async verifyEmail(t){return ce.post("/auth/verify-email",{token:t})}isAuthenticated(){const t=this.getToken();if(!t)return!1;try{return JSON.parse(atob(t.split(".")[1])).exp>Date.now()/1e3}catch{return!1}}getCurrentUser(){try{const t=localStorage.getItem(this.USER_KEY);return t?JSON.parse(t):null}catch{return null}}getToken(){return localStorage.getItem(this.TOKEN_KEY)}getRefreshToken(){return localStorage.getItem(this.REFRESH_TOKEN_KEY)}setAuthData(t){localStorage.setItem(this.TOKEN_KEY,t.token),localStorage.setItem(this.REFRESH_TOKEN_KEY,t.refreshToken),localStorage.setItem(this.USER_KEY,JSON.stringify(t.user))}clearAuthData(){localStorage.removeItem(this.TOKEN_KEY),localStorage.removeItem(this.REFRESH_TOKEN_KEY),localStorage.removeItem(this.USER_KEY)}hasPermission(t){const r=this.getCurrentUser();if(!(r!=null&&r.permissions))return!1;let s=[];if(typeof r.permissions=="string")try{const a=JSON.parse(r.permissions);s=Array.isArray(a)?a:Object.keys(a)}catch{s=[]}else Array.isArray(r.permissions)&&(s=r.permissions);return s.includes(t)}hasRole(t){const r=this.getCurrentUser();return(r==null?void 0:r.role)===t}isAdmin(){return this.hasRole("administrator")}}const Zr=new x5,mE=p.createContext(void 0),pl=()=>{const e=p.useContext(mE);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},g5=({children:e})=>{const[t,r]=p.useState(null),[s,a]=p.useState(!0),[o,i]=p.useState([]),[l,d]=p.useState(null),c=Sa();p.useEffect(()=>{(async()=>{try{if(Zr.isAuthenticated()){const g=await Zr.getProfile();if(g.success&&g.data){r(g.data);const y=Zr.getToken();if(y)try{const N=JSON.parse(atob(y.split(".")[1]));d(N.exp*1e3)}catch(N){console.warn("Failed to parse token expiry:",N)}}else{console.warn("AuthContext: Profile fetch failed, clearing auth data");try{await Zr.logout()}catch(y){console.warn("Logout during init failed, clearing local data:",y),localStorage.removeItem("integration_platform_token"),localStorage.removeItem("integration_platform_refresh_token"),localStorage.removeItem("integration_platform_user")}}}else console.log("AuthContext: No valid token found")}catch(g){console.error("Auth initialization error:",g);try{await Zr.logout()}catch(y){console.warn("Logout during error handling failed, clearing local data:",y),localStorage.removeItem("integration_platform_token"),localStorage.removeItem("integration_platform_refresh_token"),localStorage.removeItem("integration_platform_user")}}finally{console.log("AuthContext: Auth initialization complete"),a(!1)}})()},[]),p.useEffect(()=>{if(!l)return;const v=l-Date.now();if(v<=0){m();return}const g=setTimeout(()=>{m()},v);return()=>clearTimeout(g)},[l]);const u=async(v,g,y)=>{try{a(!0);const N=await Zr.login({username:v,password:g});if(N.success&&N.data){r(N.data.user);const b=Date.now()+N.data.expiresIn*1e3;return d(b),c(y||"/dashboard"),gt.success("Login successful"),!0}else return gt.error(N.error||"Login failed"),!1}catch(N){return console.error("Login error:",N),gt.error("Login failed. Please try again."),!1}finally{a(!1)}},m=async()=>{try{await Zr.logout(),r(null),d(null),c("/login"),gt.success("Logged out successfully")}catch(v){console.error("Logout error:",v),r(null),d(null),c("/login")}},h=()=>o,f=async v=>{try{const g=await Zr.register({...v,password:"temp123"});g.success&&g.data?(i(y=>[...y,g.data]),gt.success("User created successfully")):gt.error(g.error||"Failed to create user")}catch(g){console.error("Create user error:",g),gt.error("Failed to create user")}},j=async(v,g)=>{try{i(y=>y.map(N=>N.id===v?{...N,...g}:N)),gt.success("User updated successfully")}catch(y){console.error("Update user error:",y),gt.error("Failed to update user")}},x=async v=>{try{i(g=>g.filter(y=>y.id!==v)),gt.success("User deleted successfully")}catch(g){console.error("Delete user error:",g),gt.error("Failed to delete user")}},w={user:t,login:u,logout:m,isAuthenticated:!!t&&Zr.isAuthenticated(),isLoading:s,tokenExpiry:l,getAllUsers:h,createUser:f,updateUser:j,deleteUser:x};return n.jsx(mE.Provider,{value:w,children:e})},v5={"/dashboard":["administrator","integrator","viewer"],"/create-flow":["administrator","integrator"],"/data-structures":["administrator","integrator"],"/create-communication-adapter":["administrator","integrator"],"/messages":["administrator","integrator","viewer"],"/channels":["administrator","integrator","viewer"],"/business-components":["administrator","integrator"],"/admin":["administrator"],"/settings":["administrator"]},Qw=({children:e,requiredRoles:t})=>{const{isAuthenticated:r,isLoading:s,user:a}=pl(),o=Cs();if(s)return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:n.jsxs("div",{className:"text-center space-y-4",children:[n.jsx("div",{className:"h-12 w-12 rounded-2xl bg-gradient-primary animate-pulse mx-auto"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-lg font-medium",children:"IntegrixLab"}),n.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})]})});if(!r)return n.jsx(Eh,{to:"/login",state:{from:o},replace:!0});if(a){const i=t||v5[o.pathname];if(i&&!i.includes(a.role))return n.jsx(Eh,{to:"/dashboard",replace:!0})}return n.jsx(n.Fragment,{children:e})},Oc=od("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),W=p.forwardRef(({className:e,variant:t,size:r,asChild:s=!1,...a},o)=>{const i=s?ma:"button";return n.jsx(i,{className:de(Oc({variant:t,size:r,className:e})),ref:o,...a})});W.displayName="Button";const y5=od("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function oe({className:e,variant:t,...r}){return n.jsx("div",{className:de(y5({variant:t}),e),...r})}var j5=p.createContext(void 0);function ud(e){const t=p.useContext(j5);return e||t||"ltr"}var lf=0;function yy(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Jw()),document.body.insertAdjacentElement("beforeend",e[1]??Jw()),lf++,()=>{lf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),lf--}},[])}function Jw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var cf="focusScope.autoFocusOnMount",df="focusScope.autoFocusOnUnmount",Zw={bubbles:!1,cancelable:!0},w5="FocusScope",Tm=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...i}=e,[l,d]=p.useState(null),c=it(a),u=it(o),m=p.useRef(null),h=Te(t,x=>d(x)),f=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(s){let x=function(y){if(f.paused||!l)return;const N=y.target;l.contains(N)?m.current=N:Is(m.current,{select:!0})},w=function(y){if(f.paused||!l)return;const N=y.relatedTarget;N!==null&&(l.contains(N)||Is(m.current,{select:!0}))},v=function(y){if(document.activeElement===document.body)for(const b of y)b.removedNodes.length>0&&Is(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",w);const g=new MutationObserver(v);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",w),g.disconnect()}}},[s,l,f.paused]),p.useEffect(()=>{if(l){tN.add(f);const x=document.activeElement;if(!l.contains(x)){const v=new CustomEvent(cf,Zw);l.addEventListener(cf,c),l.dispatchEvent(v),v.defaultPrevented||(N5(P5(pE(l)),{select:!0}),document.activeElement===x&&Is(l))}return()=>{l.removeEventListener(cf,c),setTimeout(()=>{const v=new CustomEvent(df,Zw);l.addEventListener(df,u),l.dispatchEvent(v),v.defaultPrevented||Is(x??document.body,{select:!0}),l.removeEventListener(df,u),tN.remove(f)},0)}}},[l,c,u,f]);const j=p.useCallback(x=>{if(!r&&!s||f.paused)return;const w=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,v=document.activeElement;if(w&&v){const g=x.currentTarget,[y,N]=b5(g);y&&N?!x.shiftKey&&v===N?(x.preventDefault(),r&&Is(y,{select:!0})):x.shiftKey&&v===y&&(x.preventDefault(),r&&Is(N,{select:!0})):v===g&&x.preventDefault()}},[r,s,f.paused]);return n.jsx(Ce.div,{tabIndex:-1,...i,ref:h,onKeyDown:j})});Tm.displayName=w5;function N5(e,{select:t=!1}={}){const r=document.activeElement;for(const s of e)if(Is(s,{select:t}),document.activeElement!==r)return}function b5(e){const t=pE(e),r=eN(t,e),s=eN(t.reverse(),e);return[r,s]}function pE(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function eN(e,t){for(const r of e)if(!S5(r,{upTo:t}))return r}function S5(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function C5(e){return e instanceof HTMLInputElement&&"select"in e}function Is(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&C5(e)&&t&&e.select()}}var tN=E5();function E5(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=nN(e,t),e.unshift(t)},remove(t){var r;e=nN(e,t),(r=e[0])==null||r.resume()}}}function nN(e,t){const r=[...e],s=r.indexOf(t);return s!==-1&&r.splice(s,1),r}function P5(e){return e.filter(t=>t.tagName!=="A")}function k5(e,t=[]){let r=[];function s(o,i){const l=p.createContext(i),d=r.length;r=[...r,i];function c(m){const{scope:h,children:f,...j}=m,x=(h==null?void 0:h[e][d])||l,w=p.useMemo(()=>j,Object.values(j));return n.jsx(x.Provider,{value:w,children:f})}function u(m,h){const f=(h==null?void 0:h[e][d])||l,j=p.useContext(f);if(j)return j;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,u]}const a=()=>{const o=r.map(i=>p.createContext(i));return function(l){const d=(l==null?void 0:l[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return a.scopeName=e,[s,T5(a,...t)]}function T5(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=s.reduce((l,{useScope:d,scopeName:c})=>{const m=d(o)[`__scope${c}`];return{...l,...m}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var uf="rovingFocusGroup.onEntryFocus",A5={bubbles:!1,cancelable:!0},Am="RovingFocusGroup",[ug,fE,M5]=pm(Am),[D5,Mm]=k5(Am,[M5]),[R5,F5]=D5(Am),xE=p.forwardRef((e,t)=>n.jsx(ug.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(ug.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(_5,{...e,ref:t})})}));xE.displayName=Am;var _5=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:s,loop:a=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:d,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...m}=e,h=p.useRef(null),f=Te(t,h),j=ud(o),[x=null,w]=Vr({prop:i,defaultProp:l,onChange:d}),[v,g]=p.useState(!1),y=it(c),N=fE(r),b=p.useRef(!1),[E,S]=p.useState(0);return p.useEffect(()=>{const P=h.current;if(P)return P.addEventListener(uf,y),()=>P.removeEventListener(uf,y)},[y]),n.jsx(R5,{scope:r,orientation:s,dir:j,loop:a,currentTabStopId:x,onItemFocus:p.useCallback(P=>w(P),[w]),onItemShiftTab:p.useCallback(()=>g(!0),[]),onFocusableItemAdd:p.useCallback(()=>S(P=>P+1),[]),onFocusableItemRemove:p.useCallback(()=>S(P=>P-1),[]),children:n.jsx(Ce.div,{tabIndex:v||E===0?-1:0,"data-orientation":s,...m,ref:f,style:{outline:"none",...e.style},onMouseDown:he(e.onMouseDown,()=>{b.current=!0}),onFocus:he(e.onFocus,P=>{const _=!b.current;if(P.target===P.currentTarget&&_&&!v){const T=new CustomEvent(uf,A5);if(P.currentTarget.dispatchEvent(T),!T.defaultPrevented){const D=N().filter(L=>L.focusable),k=D.find(L=>L.active),U=D.find(L=>L.id===x),$=[k,U,...D].filter(Boolean).map(L=>L.ref.current);yE($,u)}}b.current=!1}),onBlur:he(e.onBlur,()=>g(!1))})})}),gE="RovingFocusGroupItem",vE=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:s=!0,active:a=!1,tabStopId:o,...i}=e,l=hr(),d=o||l,c=F5(gE,r),u=c.currentTabStopId===d,m=fE(r),{onFocusableItemAdd:h,onFocusableItemRemove:f}=c;return p.useEffect(()=>{if(s)return h(),()=>f()},[s,h,f]),n.jsx(ug.ItemSlot,{scope:r,id:d,focusable:s,active:a,children:n.jsx(Ce.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...i,ref:t,onMouseDown:he(e.onMouseDown,j=>{s?c.onItemFocus(d):j.preventDefault()}),onFocus:he(e.onFocus,()=>c.onItemFocus(d)),onKeyDown:he(e.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){c.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const x=L5(j,c.orientation,c.dir);if(x!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let v=m().filter(g=>g.focusable).map(g=>g.ref.current);if(x==="last")v.reverse();else if(x==="prev"||x==="next"){x==="prev"&&v.reverse();const g=v.indexOf(j.currentTarget);v=c.loop?$5(v,g+1):v.slice(g+1)}setTimeout(()=>yE(v))}})})})});vE.displayName=gE;var O5={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function I5(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function L5(e,t,r){const s=I5(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return O5[s]}function yE(e,t=!1){const r=document.activeElement;for(const s of e)if(s===r||(s.focus({preventScroll:t}),document.activeElement!==r))return}function $5(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var jE=xE,wE=vE,U5=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ao=new WeakMap,tu=new WeakMap,nu={},hf=0,NE=function(e){return e&&(e.host||NE(e.parentNode))},H5=function(e,t){return t.map(function(r){if(e.contains(r))return r;var s=NE(r);return s&&e.contains(s)?s:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},V5=function(e,t,r,s){var a=H5(t,Array.isArray(e)?e:[e]);nu[r]||(nu[r]=new WeakMap);var o=nu[r],i=[],l=new Set,d=new Set(a),c=function(m){!m||l.has(m)||(l.add(m),c(m.parentNode))};a.forEach(c);var u=function(m){!m||d.has(m)||Array.prototype.forEach.call(m.children,function(h){if(l.has(h))u(h);else try{var f=h.getAttribute(s),j=f!==null&&f!=="false",x=(Ao.get(h)||0)+1,w=(o.get(h)||0)+1;Ao.set(h,x),o.set(h,w),i.push(h),x===1&&j&&tu.set(h,!0),w===1&&h.setAttribute(r,"true"),j||h.setAttribute(s,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return u(t),l.clear(),hf++,function(){i.forEach(function(m){var h=Ao.get(m)-1,f=o.get(m)-1;Ao.set(m,h),o.set(m,f),h||(tu.has(m)||m.removeAttribute(s),tu.delete(m)),f||m.removeAttribute(r)}),hf--,hf||(Ao=new WeakMap,Ao=new WeakMap,tu=new WeakMap,nu={})}},hd=function(e,t,r){r===void 0&&(r="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=U5(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live]"))),V5(s,a,r,"aria-hidden")):function(){return null}},ft=function(){return ft=Object.assign||function(t){for(var r,s=1,a=arguments.length;s<a;s++){r=arguments[s];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},ft.apply(this,arguments)};function Dm(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r}function jy(e,t,r){if(r||arguments.length===2)for(var s=0,a=t.length,o;s<a;s++)(o||!(s in t))&&(o||(o=Array.prototype.slice.call(t,0,s)),o[s]=t[s]);return e.concat(o||Array.prototype.slice.call(t))}var ui="right-scroll-bar-position",hi="width-before-scroll-bar",B5="with-scroll-bars-hidden",z5="--removed-body-scroll-bar-size";function mf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function q5(e,t){var r=p.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(s){var a=r.value;a!==s&&(r.value=s,r.callback(s,a))}}}})[0];return r.callback=t,r.facade}var W5=typeof window<"u"?p.useLayoutEffect:p.useEffect,rN=new WeakMap;function wy(e,t){var r=q5(null,function(s){return e.forEach(function(a){return mf(a,s)})});return W5(function(){var s=rN.get(r);if(s){var a=new Set(s),o=new Set(e),i=r.current;a.forEach(function(l){o.has(l)||mf(l,null)}),o.forEach(function(l){a.has(l)||mf(l,i)})}rN.set(r,e)},[e]),r}function Y5(e){return e}function K5(e,t){t===void 0&&(t=Y5);var r=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var i=t(o,s);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(s=!0;r.length;){var i=r;r=[],i.forEach(o)}r={push:function(l){return o(l)},filter:function(){return r}}},assignMedium:function(o){s=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(o),i=r}var d=function(){var u=i;i=[],u.forEach(o)},c=function(){return Promise.resolve().then(d)};c(),r={push:function(u){i.push(u),c()},filter:function(u){return i=i.filter(u),r}}}};return a}function Ny(e){e===void 0&&(e={});var t=K5(null);return t.options=ft({async:!0,ssr:!1},e),t}var bE=function(e){var t=e.sideCar,r=Dm(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return p.createElement(s,ft({},r))};bE.isSideCarExport=!0;function by(e,t){return e.useMedium(t),bE}var SE=Ny(),pf=function(){},Rm=p.forwardRef(function(e,t){var r=p.useRef(null),s=p.useState({onScrollCapture:pf,onWheelCapture:pf,onTouchMoveCapture:pf}),a=s[0],o=s[1],i=e.forwardProps,l=e.children,d=e.className,c=e.removeScrollBar,u=e.enabled,m=e.shards,h=e.sideCar,f=e.noIsolation,j=e.inert,x=e.allowPinchZoom,w=e.as,v=w===void 0?"div":w,g=e.gapMode,y=Dm(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=h,b=wy([r,t]),E=ft(ft({},y),a);return p.createElement(p.Fragment,null,u&&p.createElement(N,{sideCar:SE,removeScrollBar:c,shards:m,noIsolation:f,inert:j,setCallbacks:o,allowPinchZoom:!!x,lockRef:r,gapMode:g}),i?p.cloneElement(p.Children.only(l),ft(ft({},E),{ref:b})):p.createElement(v,ft({},E,{className:d,ref:b}),l))});Rm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Rm.classNames={fullWidth:hi,zeroRight:ui};var G5=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function X5(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=G5();return t&&e.setAttribute("nonce",t),e}function Q5(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function J5(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Z5=function(){var e=0,t=null;return{add:function(r){e==0&&(t=X5())&&(Q5(t,r),J5(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},e6=function(){var e=Z5();return function(t,r){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Fm=function(){var e=e6(),t=function(r){var s=r.styles,a=r.dynamic;return e(s,a),null};return t},t6={left:0,top:0,right:0,gap:0},ff=function(e){return parseInt(e||"",10)||0},n6=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[ff(r),ff(s),ff(a)]},r6=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return t6;var t=n6(e),r=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-r+t[2]-t[0])}},s6=Fm(),mi="data-scroll-locked",a6=function(e,t,r,s){var a=e.left,o=e.top,i=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(B5,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(mi,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ui,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(hi,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(ui," .").concat(ui,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(hi," .").concat(hi,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(mi,`] {
    `).concat(z5,": ").concat(l,`px;
  }
`)},sN=function(){var e=parseInt(document.body.getAttribute(mi)||"0",10);return isFinite(e)?e:0},o6=function(){p.useEffect(function(){return document.body.setAttribute(mi,(sN()+1).toString()),function(){var e=sN()-1;e<=0?document.body.removeAttribute(mi):document.body.setAttribute(mi,e.toString())}},[])},Sy=function(e){var t=e.noRelative,r=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;o6();var o=p.useMemo(function(){return r6(a)},[a]);return p.createElement(s6,{styles:a6(o,!t,a,r?"":"!important")})},hg=!1;if(typeof window<"u")try{var ru=Object.defineProperty({},"passive",{get:function(){return hg=!0,!0}});window.addEventListener("test",ru,ru),window.removeEventListener("test",ru,ru)}catch{hg=!1}var Mo=hg?{passive:!1}:!1,i6=function(e){return e.tagName==="TEXTAREA"},CE=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!i6(e)&&r[t]==="visible")},l6=function(e){return CE(e,"overflowY")},c6=function(e){return CE(e,"overflowX")},aN=function(e,t){var r=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=EE(e,s);if(a){var o=PE(e,s),i=o[1],l=o[2];if(i>l)return!0}s=s.parentNode}while(s&&s!==r.body);return!1},d6=function(e){var t=e.scrollTop,r=e.scrollHeight,s=e.clientHeight;return[t,r,s]},u6=function(e){var t=e.scrollLeft,r=e.scrollWidth,s=e.clientWidth;return[t,r,s]},EE=function(e,t){return e==="v"?l6(t):c6(t)},PE=function(e,t){return e==="v"?d6(t):u6(t)},h6=function(e,t){return e==="h"&&t==="rtl"?-1:1},m6=function(e,t,r,s,a){var o=h6(e,window.getComputedStyle(t).direction),i=o*s,l=r.target,d=t.contains(l),c=!1,u=i>0,m=0,h=0;do{var f=PE(e,l),j=f[0],x=f[1],w=f[2],v=x-w-o*j;(j||v)&&EE(e,l)&&(m+=v,h+=j),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!d&&l!==document.body||d&&(t.contains(l)||t===l));return(u&&(Math.abs(m)<1||!a)||!u&&(Math.abs(h)<1||!a))&&(c=!0),c},su=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},oN=function(e){return[e.deltaX,e.deltaY]},iN=function(e){return e&&"current"in e?e.current:e},p6=function(e,t){return e[0]===t[0]&&e[1]===t[1]},f6=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},x6=0,Do=[];function g6(e){var t=p.useRef([]),r=p.useRef([0,0]),s=p.useRef(),a=p.useState(x6++)[0],o=p.useState(Fm)[0],i=p.useRef(e);p.useEffect(function(){i.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var x=jy([e.lockRef.current],(e.shards||[]).map(iN),!0).filter(Boolean);return x.forEach(function(w){return w.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),x.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(x,w){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!i.current.allowPinchZoom;var v=su(x),g=r.current,y="deltaX"in x?x.deltaX:g[0]-v[0],N="deltaY"in x?x.deltaY:g[1]-v[1],b,E=x.target,S=Math.abs(y)>Math.abs(N)?"h":"v";if("touches"in x&&S==="h"&&E.type==="range")return!1;var P=aN(S,E);if(!P)return!0;if(P?b=S:(b=S==="v"?"h":"v",P=aN(S,E)),!P)return!1;if(!s.current&&"changedTouches"in x&&(y||N)&&(s.current=b),!b)return!0;var _=s.current||b;return m6(_,w,x,_==="h"?y:N,!0)},[]),d=p.useCallback(function(x){var w=x;if(!(!Do.length||Do[Do.length-1]!==o)){var v="deltaY"in w?oN(w):su(w),g=t.current.filter(function(b){return b.name===w.type&&(b.target===w.target||w.target===b.shadowParent)&&p6(b.delta,v)})[0];if(g&&g.should){w.cancelable&&w.preventDefault();return}if(!g){var y=(i.current.shards||[]).map(iN).filter(Boolean).filter(function(b){return b.contains(w.target)}),N=y.length>0?l(w,y[0]):!i.current.noIsolation;N&&w.cancelable&&w.preventDefault()}}},[]),c=p.useCallback(function(x,w,v,g){var y={name:x,delta:w,target:v,should:g,shadowParent:v6(v)};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(N){return N!==y})},1)},[]),u=p.useCallback(function(x){r.current=su(x),s.current=void 0},[]),m=p.useCallback(function(x){c(x.type,oN(x),x.target,l(x,e.lockRef.current))},[]),h=p.useCallback(function(x){c(x.type,su(x),x.target,l(x,e.lockRef.current))},[]);p.useEffect(function(){return Do.push(o),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:h}),document.addEventListener("wheel",d,Mo),document.addEventListener("touchmove",d,Mo),document.addEventListener("touchstart",u,Mo),function(){Do=Do.filter(function(x){return x!==o}),document.removeEventListener("wheel",d,Mo),document.removeEventListener("touchmove",d,Mo),document.removeEventListener("touchstart",u,Mo)}},[]);var f=e.removeScrollBar,j=e.inert;return p.createElement(p.Fragment,null,j?p.createElement(o,{styles:f6(a)}):null,f?p.createElement(Sy,{gapMode:e.gapMode}):null)}function v6(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const y6=by(SE,g6);var _m=p.forwardRef(function(e,t){return p.createElement(Rm,ft({},e,{ref:t,sideCar:y6}))});_m.classNames=Rm.classNames;var mg=["Enter"," "],j6=["ArrowDown","PageUp","Home"],kE=["ArrowUp","PageDown","End"],w6=[...j6,...kE],N6={ltr:[...mg,"ArrowRight"],rtl:[...mg,"ArrowLeft"]},b6={ltr:["ArrowLeft"],rtl:["ArrowRight"]},md="Menu",[Ic,S6,C6]=pm(md),[wo,TE]=Wn(md,[C6,ul,Mm]),Om=ul(),AE=Mm(),[E6,No]=wo(md),[P6,pd]=wo(md),ME=e=>{const{__scopeMenu:t,open:r=!1,children:s,dir:a,onOpenChange:o,modal:i=!0}=e,l=Om(t),[d,c]=p.useState(null),u=p.useRef(!1),m=it(o),h=ud(a);return p.useEffect(()=>{const f=()=>{u.current=!0,document.addEventListener("pointerdown",j,{capture:!0,once:!0}),document.addEventListener("pointermove",j,{capture:!0,once:!0})},j=()=>u.current=!1;return document.addEventListener("keydown",f,{capture:!0}),()=>{document.removeEventListener("keydown",f,{capture:!0}),document.removeEventListener("pointerdown",j,{capture:!0}),document.removeEventListener("pointermove",j,{capture:!0})}},[]),n.jsx(U2,{...l,children:n.jsx(E6,{scope:t,open:r,onOpenChange:m,content:d,onContentChange:c,children:n.jsx(P6,{scope:t,onClose:p.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:u,dir:h,modal:i,children:s})})})};ME.displayName=md;var k6="MenuAnchor",Cy=p.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e,a=Om(r);return n.jsx(uy,{...a,...s,ref:t})});Cy.displayName=k6;var Ey="MenuPortal",[T6,DE]=wo(Ey,{forceMount:void 0}),RE=e=>{const{__scopeMenu:t,forceMount:r,children:s,container:a}=e,o=No(Ey,t);return n.jsx(T6,{scope:t,forceMount:r,children:n.jsx(Ot,{present:r||o.open,children:n.jsx(sd,{asChild:!0,container:a,children:s})})})};RE.displayName=Ey;var Vn="MenuContent",[A6,Py]=wo(Vn),FE=p.forwardRef((e,t)=>{const r=DE(Vn,e.__scopeMenu),{forceMount:s=r.forceMount,...a}=e,o=No(Vn,e.__scopeMenu),i=pd(Vn,e.__scopeMenu);return n.jsx(Ic.Provider,{scope:e.__scopeMenu,children:n.jsx(Ot,{present:s||o.open,children:n.jsx(Ic.Slot,{scope:e.__scopeMenu,children:i.modal?n.jsx(M6,{...a,ref:t}):n.jsx(D6,{...a,ref:t})})})})}),M6=p.forwardRef((e,t)=>{const r=No(Vn,e.__scopeMenu),s=p.useRef(null),a=Te(t,s);return p.useEffect(()=>{const o=s.current;if(o)return hd(o)},[]),n.jsx(ky,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:he(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),D6=p.forwardRef((e,t)=>{const r=No(Vn,e.__scopeMenu);return n.jsx(ky,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),ky=p.forwardRef((e,t)=>{const{__scopeMenu:r,loop:s=!1,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:d,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:m,onInteractOutside:h,onDismiss:f,disableOutsideScroll:j,...x}=e,w=No(Vn,r),v=pd(Vn,r),g=Om(r),y=AE(r),N=S6(r),[b,E]=p.useState(null),S=p.useRef(null),P=Te(t,S,w.onContentChange),_=p.useRef(0),T=p.useRef(""),D=p.useRef(0),k=p.useRef(null),U=p.useRef("right"),M=p.useRef(0),$=j?_m:p.Fragment,L=j?{as:ma,allowPinchZoom:!0}:void 0,I=R=>{var Y,ne;const V=T.current+R,B=N().filter(le=>!le.disabled),H=document.activeElement,q=(Y=B.find(le=>le.ref.current===H))==null?void 0:Y.textValue,z=B.map(le=>le.textValue),G=z6(z,V,q),K=(ne=B.find(le=>le.textValue===G))==null?void 0:ne.ref.current;(function le(fe){T.current=fe,window.clearTimeout(_.current),fe!==""&&(_.current=window.setTimeout(()=>le(""),1e3))})(V),K&&setTimeout(()=>K.focus())};p.useEffect(()=>()=>window.clearTimeout(_.current),[]),yy();const F=p.useCallback(R=>{var B,H;return U.current===((B=k.current)==null?void 0:B.side)&&W6(R,(H=k.current)==null?void 0:H.area)},[]);return n.jsx(A6,{scope:r,searchRef:T,onItemEnter:p.useCallback(R=>{F(R)&&R.preventDefault()},[F]),onItemLeave:p.useCallback(R=>{var V;F(R)||((V=S.current)==null||V.focus(),E(null))},[F]),onTriggerLeave:p.useCallback(R=>{F(R)&&R.preventDefault()},[F]),pointerGraceTimerRef:D,onPointerGraceIntentChange:p.useCallback(R=>{k.current=R},[]),children:n.jsx($,{...L,children:n.jsx(Tm,{asChild:!0,trapped:a,onMountAutoFocus:he(o,R=>{var V;R.preventDefault(),(V=S.current)==null||V.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:n.jsx(sl,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:m,onInteractOutside:h,onDismiss:f,children:n.jsx(jE,{asChild:!0,...y,dir:v.dir,orientation:"vertical",loop:s,currentTabStopId:b,onCurrentTabStopIdChange:E,onEntryFocus:he(d,R=>{v.isUsingKeyboardRef.current||R.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(hy,{role:"menu","aria-orientation":"vertical","data-state":XE(w.open),"data-radix-menu-content":"",dir:v.dir,...g,...x,ref:P,style:{outline:"none",...x.style},onKeyDown:he(x.onKeyDown,R=>{const B=R.target.closest("[data-radix-menu-content]")===R.currentTarget,H=R.ctrlKey||R.altKey||R.metaKey,q=R.key.length===1;B&&(R.key==="Tab"&&R.preventDefault(),!H&&q&&I(R.key));const z=S.current;if(R.target!==z||!w6.includes(R.key))return;R.preventDefault();const K=N().filter(Y=>!Y.disabled).map(Y=>Y.ref.current);kE.includes(R.key)&&K.reverse(),V6(K)}),onBlur:he(e.onBlur,R=>{R.currentTarget.contains(R.target)||(window.clearTimeout(_.current),T.current="")}),onPointerMove:he(e.onPointerMove,Lc(R=>{const V=R.target,B=M.current!==R.clientX;if(R.currentTarget.contains(V)&&B){const H=R.clientX>M.current?"right":"left";U.current=H,M.current=R.clientX}}))})})})})})})});FE.displayName=Vn;var R6="MenuGroup",Ty=p.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(Ce.div,{role:"group",...s,ref:t})});Ty.displayName=R6;var F6="MenuLabel",_E=p.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(Ce.div,{...s,ref:t})});_E.displayName=F6;var kh="MenuItem",lN="menu.itemSelect",Im=p.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:s,...a}=e,o=p.useRef(null),i=pd(kh,e.__scopeMenu),l=Py(kh,e.__scopeMenu),d=Te(t,o),c=p.useRef(!1),u=()=>{const m=o.current;if(!r&&m){const h=new CustomEvent(lN,{bubbles:!0,cancelable:!0});m.addEventListener(lN,f=>s==null?void 0:s(f),{once:!0}),Kv(m,h),h.defaultPrevented?c.current=!1:i.onClose()}};return n.jsx(OE,{...a,ref:d,disabled:r,onClick:he(e.onClick,u),onPointerDown:m=>{var h;(h=e.onPointerDown)==null||h.call(e,m),c.current=!0},onPointerUp:he(e.onPointerUp,m=>{var h;c.current||(h=m.currentTarget)==null||h.click()}),onKeyDown:he(e.onKeyDown,m=>{const h=l.searchRef.current!=="";r||h&&m.key===" "||mg.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});Im.displayName=kh;var OE=p.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:s=!1,textValue:a,...o}=e,i=Py(kh,r),l=AE(r),d=p.useRef(null),c=Te(t,d),[u,m]=p.useState(!1),[h,f]=p.useState("");return p.useEffect(()=>{const j=d.current;j&&f((j.textContent??"").trim())},[o.children]),n.jsx(Ic.ItemSlot,{scope:r,disabled:s,textValue:a??h,children:n.jsx(wE,{asChild:!0,...l,focusable:!s,children:n.jsx(Ce.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...o,ref:c,onPointerMove:he(e.onPointerMove,Lc(j=>{s?i.onItemLeave(j):(i.onItemEnter(j),j.defaultPrevented||j.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:he(e.onPointerLeave,Lc(j=>i.onItemLeave(j))),onFocus:he(e.onFocus,()=>m(!0)),onBlur:he(e.onBlur,()=>m(!1))})})})}),_6="MenuCheckboxItem",IE=p.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:s,...a}=e;return n.jsx(VE,{scope:e.__scopeMenu,checked:r,children:n.jsx(Im,{role:"menuitemcheckbox","aria-checked":Th(r)?"mixed":r,...a,ref:t,"data-state":My(r),onSelect:he(a.onSelect,()=>s==null?void 0:s(Th(r)?!0:!r),{checkForDefaultPrevented:!1})})})});IE.displayName=_6;var LE="MenuRadioGroup",[O6,I6]=wo(LE,{value:void 0,onValueChange:()=>{}}),$E=p.forwardRef((e,t)=>{const{value:r,onValueChange:s,...a}=e,o=it(s);return n.jsx(O6,{scope:e.__scopeMenu,value:r,onValueChange:o,children:n.jsx(Ty,{...a,ref:t})})});$E.displayName=LE;var UE="MenuRadioItem",HE=p.forwardRef((e,t)=>{const{value:r,...s}=e,a=I6(UE,e.__scopeMenu),o=r===a.value;return n.jsx(VE,{scope:e.__scopeMenu,checked:o,children:n.jsx(Im,{role:"menuitemradio","aria-checked":o,...s,ref:t,"data-state":My(o),onSelect:he(s.onSelect,()=>{var i;return(i=a.onValueChange)==null?void 0:i.call(a,r)},{checkForDefaultPrevented:!1})})})});HE.displayName=UE;var Ay="MenuItemIndicator",[VE,L6]=wo(Ay,{checked:!1}),BE=p.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:s,...a}=e,o=L6(Ay,r);return n.jsx(Ot,{present:s||Th(o.checked)||o.checked===!0,children:n.jsx(Ce.span,{...a,ref:t,"data-state":My(o.checked)})})});BE.displayName=Ay;var $6="MenuSeparator",zE=p.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(Ce.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});zE.displayName=$6;var U6="MenuArrow",qE=p.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e,a=Om(r);return n.jsx(my,{...a,...s,ref:t})});qE.displayName=U6;var H6="MenuSub",[kte,WE]=wo(H6),Wl="MenuSubTrigger",YE=p.forwardRef((e,t)=>{const r=No(Wl,e.__scopeMenu),s=pd(Wl,e.__scopeMenu),a=WE(Wl,e.__scopeMenu),o=Py(Wl,e.__scopeMenu),i=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:d}=o,c={__scopeMenu:e.__scopeMenu},u=p.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return p.useEffect(()=>u,[u]),p.useEffect(()=>{const m=l.current;return()=>{window.clearTimeout(m),d(null)}},[l,d]),n.jsx(Cy,{asChild:!0,...c,children:n.jsx(OE,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":XE(r.open),...e,ref:mm(t,a.onTriggerChange),onClick:m=>{var h;(h=e.onClick)==null||h.call(e,m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:he(e.onPointerMove,Lc(m=>{o.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:he(e.onPointerLeave,Lc(m=>{var f,j;u();const h=(f=r.content)==null?void 0:f.getBoundingClientRect();if(h){const x=(j=r.content)==null?void 0:j.dataset.side,w=x==="right",v=w?-5:5,g=h[w?"left":"right"],y=h[w?"right":"left"];o.onPointerGraceIntentChange({area:[{x:m.clientX+v,y:m.clientY},{x:g,y:h.top},{x:y,y:h.top},{x:y,y:h.bottom},{x:g,y:h.bottom}],side:x}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(m),m.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:he(e.onKeyDown,m=>{var f;const h=o.searchRef.current!=="";e.disabled||h&&m.key===" "||N6[s.dir].includes(m.key)&&(r.onOpenChange(!0),(f=r.content)==null||f.focus(),m.preventDefault())})})})});YE.displayName=Wl;var KE="MenuSubContent",GE=p.forwardRef((e,t)=>{const r=DE(Vn,e.__scopeMenu),{forceMount:s=r.forceMount,...a}=e,o=No(Vn,e.__scopeMenu),i=pd(Vn,e.__scopeMenu),l=WE(KE,e.__scopeMenu),d=p.useRef(null),c=Te(t,d);return n.jsx(Ic.Provider,{scope:e.__scopeMenu,children:n.jsx(Ot,{present:s||o.open,children:n.jsx(Ic.Slot,{scope:e.__scopeMenu,children:n.jsx(ky,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:c,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var m;i.isUsingKeyboardRef.current&&((m=d.current)==null||m.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:he(e.onFocusOutside,u=>{u.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:he(e.onEscapeKeyDown,u=>{i.onClose(),u.preventDefault()}),onKeyDown:he(e.onKeyDown,u=>{var f;const m=u.currentTarget.contains(u.target),h=b6[i.dir].includes(u.key);m&&h&&(o.onOpenChange(!1),(f=l.trigger)==null||f.focus(),u.preventDefault())})})})})})});GE.displayName=KE;function XE(e){return e?"open":"closed"}function Th(e){return e==="indeterminate"}function My(e){return Th(e)?"indeterminate":e?"checked":"unchecked"}function V6(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function B6(e,t){return e.map((r,s)=>e[(t+s)%e.length])}function z6(e,t,r){const a=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=B6(e,Math.max(o,0));a.length===1&&(i=i.filter(c=>c!==r));const d=i.find(c=>c.toLowerCase().startsWith(a.toLowerCase()));return d!==r?d:void 0}function q6(e,t){const{x:r,y:s}=e;let a=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o].x,d=t[o].y,c=t[i].x,u=t[i].y;d>s!=u>s&&r<(c-l)*(s-d)/(u-d)+l&&(a=!a)}return a}function W6(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return q6(r,t)}function Lc(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Y6=ME,K6=Cy,G6=RE,X6=FE,Q6=Ty,J6=_E,Z6=Im,e8=IE,t8=$E,n8=HE,r8=BE,s8=zE,a8=qE,o8=YE,i8=GE,Dy="DropdownMenu",[l8,Tte]=Wn(Dy,[TE]),nn=TE(),[c8,QE]=l8(Dy),JE=e=>{const{__scopeDropdownMenu:t,children:r,dir:s,open:a,defaultOpen:o,onOpenChange:i,modal:l=!0}=e,d=nn(t),c=p.useRef(null),[u=!1,m]=Vr({prop:a,defaultProp:o,onChange:i});return n.jsx(c8,{scope:t,triggerId:hr(),triggerRef:c,contentId:hr(),open:u,onOpenChange:m,onOpenToggle:p.useCallback(()=>m(h=>!h),[m]),modal:l,children:n.jsx(Y6,{...d,open:u,onOpenChange:m,dir:s,modal:l,children:r})})};JE.displayName=Dy;var ZE="DropdownMenuTrigger",eP=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:s=!1,...a}=e,o=QE(ZE,r),i=nn(r);return n.jsx(K6,{asChild:!0,...i,children:n.jsx(Ce.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...a,ref:mm(t,o.triggerRef),onPointerDown:he(e.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:he(e.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});eP.displayName=ZE;var d8="DropdownMenuPortal",tP=e=>{const{__scopeDropdownMenu:t,...r}=e,s=nn(t);return n.jsx(G6,{...s,...r})};tP.displayName=d8;var nP="DropdownMenuContent",rP=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=QE(nP,r),o=nn(r),i=p.useRef(!1);return n.jsx(X6,{id:a.contentId,"aria-labelledby":a.triggerId,...o,...s,ref:t,onCloseAutoFocus:he(e.onCloseAutoFocus,l=>{var d;i.current||(d=a.triggerRef.current)==null||d.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:he(e.onInteractOutside,l=>{const d=l.detail.originalEvent,c=d.button===0&&d.ctrlKey===!0,u=d.button===2||c;(!a.modal||u)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});rP.displayName=nP;var u8="DropdownMenuGroup",h8=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=nn(r);return n.jsx(Q6,{...a,...s,ref:t})});h8.displayName=u8;var m8="DropdownMenuLabel",sP=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=nn(r);return n.jsx(J6,{...a,...s,ref:t})});sP.displayName=m8;var p8="DropdownMenuItem",aP=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=nn(r);return n.jsx(Z6,{...a,...s,ref:t})});aP.displayName=p8;var f8="DropdownMenuCheckboxItem",oP=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=nn(r);return n.jsx(e8,{...a,...s,ref:t})});oP.displayName=f8;var x8="DropdownMenuRadioGroup",g8=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=nn(r);return n.jsx(t8,{...a,...s,ref:t})});g8.displayName=x8;var v8="DropdownMenuRadioItem",iP=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=nn(r);return n.jsx(n8,{...a,...s,ref:t})});iP.displayName=v8;var y8="DropdownMenuItemIndicator",lP=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=nn(r);return n.jsx(r8,{...a,...s,ref:t})});lP.displayName=y8;var j8="DropdownMenuSeparator",cP=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=nn(r);return n.jsx(s8,{...a,...s,ref:t})});cP.displayName=j8;var w8="DropdownMenuArrow",N8=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=nn(r);return n.jsx(a8,{...a,...s,ref:t})});N8.displayName=w8;var b8="DropdownMenuSubTrigger",dP=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=nn(r);return n.jsx(o8,{...a,...s,ref:t})});dP.displayName=b8;var S8="DropdownMenuSubContent",uP=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=nn(r);return n.jsx(i8,{...a,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});uP.displayName=S8;var C8=JE,E8=eP,P8=tP,hP=rP,mP=sP,pP=aP,fP=oP,xP=iP,gP=lP,vP=cP,yP=dP,jP=uP;const k8=C8,T8=E8,A8=p.forwardRef(({className:e,inset:t,children:r,...s},a)=>n.jsxs(yP,{ref:a,className:de("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...s,children:[r,n.jsx(qn,{className:"ml-auto h-4 w-4"})]}));A8.displayName=yP.displayName;const M8=p.forwardRef(({className:e,...t},r)=>n.jsx(jP,{ref:r,className:de("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));M8.displayName=jP.displayName;const wP=p.forwardRef(({className:e,sideOffset:t=4,...r},s)=>n.jsx(P8,{children:n.jsx(hP,{ref:s,sideOffset:t,className:de("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));wP.displayName=hP.displayName;const Iu=p.forwardRef(({className:e,inset:t,...r},s)=>n.jsx(pP,{ref:s,className:de("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));Iu.displayName=pP.displayName;const D8=p.forwardRef(({className:e,children:t,checked:r,...s},a)=>n.jsxs(fP,{ref:a,className:de("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(gP,{children:n.jsx(id,{className:"h-4 w-4"})})}),t]}));D8.displayName=fP.displayName;const R8=p.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(xP,{ref:s,className:de("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(gP,{children:n.jsx(ql,{className:"h-2 w-2 fill-current"})})}),t]}));R8.displayName=xP.displayName;const F8=p.forwardRef(({className:e,inset:t,...r},s)=>n.jsx(mP,{ref:s,className:de("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));F8.displayName=mP.displayName;const NP=p.forwardRef(({className:e,...t},r)=>n.jsx(vP,{ref:r,className:de("-mx-1 my-1 h-px bg-muted",e),...t}));NP.displayName=vP.displayName;const _8=()=>{const{user:e,logout:t}=pl();return n.jsx("header",{className:"h-16 border-b border-border bg-card/80 backdrop-blur-md transition-all duration-300",children:n.jsxs("div",{className:"flex h-full items-center justify-between px-6",children:[n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"h-8 w-8 rounded-lg bg-gradient-primary flex items-center justify-center animate-glow",children:n.jsx("span",{className:"text-xs font-bold text-primary-foreground",children:"IL"})}),n.jsx("h1",{className:"text-xl font-semibold text-foreground bg-gradient-primary bg-clip-text text-transparent",children:"IntegrixLab"})]})}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs(W,{variant:"ghost",size:"sm",className:"relative transition-all duration-300 hover:scale-110 hover:bg-accent/50",children:[n.jsx(YC,{className:"h-4 w-4"}),n.jsx(oe,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 p-0 text-xs animate-pulse",children:"3"})]}),n.jsxs(k8,{children:[n.jsx(T8,{asChild:!0,children:n.jsxs(W,{variant:"ghost",size:"sm",className:"flex items-center space-x-2",children:[n.jsx(Oi,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm",children:e==null?void 0:e.username})]})}),n.jsxs(wP,{align:"end",className:"w-56",children:[n.jsxs(Iu,{children:[n.jsx(Oi,{className:"mr-2 h-4 w-4"}),"Profile"]}),n.jsxs(Iu,{children:[n.jsx(nt,{className:"mr-2 h-4 w-4"}),"Settings"]}),n.jsx(NP,{}),n.jsxs(Iu,{onClick:t,className:"text-destructive",children:[n.jsx(XO,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]})})},O8=[{name:"Dashboard",href:"/dashboard",icon:KO,roles:["administrator","integrator","viewer"]},{name:"Create Flow",href:"/create-flow",icon:xr,roles:["administrator","integrator"]},{name:"Create Data Structures",href:"/data-structures",icon:lc,roles:["administrator","integrator"]},{name:"Create Communication Adapter",href:"/create-communication-adapter",icon:e2,roles:["administrator","integrator"]},{name:"Business Components",href:"/business-components",icon:Gx,roles:["administrator","integrator"]},{name:"Interface Management",href:"/interfaces",icon:QO,roles:["administrator","integrator"]},{name:"Message Monitor",href:"/messages",icon:an,roles:["administrator","integrator","viewer"]},{name:"Channel Monitor",href:"/channels",icon:no,roles:["administrator","integrator","viewer"]},{name:"Admin Panel",href:"/admin",icon:Bt,roles:["administrator"]},{name:"Settings",href:"/settings",icon:nt,roles:["administrator"]}],I8=()=>{const[e,t]=p.useState(!1),{user:r}=pl(),s=O8.filter(a=>r&&a.roles.includes(r.role));return n.jsx("div",{className:de("h-full bg-card/80 backdrop-blur-md border-r border-border transition-all duration-300 ease-in-out",e?"w-16":"w-64"),children:n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsx("div",{className:"p-4 border-b border-border",children:n.jsx(W,{variant:"ghost",size:"sm",onClick:()=>t(!e),className:"ml-auto flex transition-all duration-300 hover:scale-110 hover:bg-accent/50",children:e?n.jsx(qn,{className:"h-4 w-4 transition-transform duration-300"}):n.jsx(KC,{className:"h-4 w-4 transition-transform duration-300"})})}),n.jsx("nav",{className:"flex-1 p-4 space-y-2",children:s.map(a=>n.jsxs(c5,{to:a.href,className:({isActive:o})=>de("flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-all duration-300 group","hover:bg-accent hover:text-accent-foreground hover:scale-[1.02] hover:shadow-soft",o?"bg-primary text-primary-foreground shadow-elegant":"text-muted-foreground hover:text-foreground"),children:[n.jsx(a.icon,{className:de("h-4 w-4 transition-all duration-300 group-hover:scale-110",!e&&"mr-3")}),!e&&n.jsx("span",{className:"transition-all duration-300",children:a.name})]},a.name))}),n.jsx("div",{className:"p-4 border-t border-border",children:n.jsx("div",{className:de("text-xs text-muted-foreground",e?"text-center":"space-y-1"),children:!e&&n.jsxs(n.Fragment,{children:[n.jsx("div",{children:"Version 1.0.0"}),n.jsx("div",{children:"© 2024 IntegrixLab"})]})})})]})})},L8=od("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),or=p.forwardRef(({className:e,variant:t,...r},s)=>n.jsx("div",{ref:s,role:"alert",className:de(L8({variant:t}),e),...r}));or.displayName="Alert";const $8=p.forwardRef(({className:e,...t},r)=>n.jsx("h5",{ref:r,className:de("mb-1 font-medium leading-none tracking-tight",e),...t}));$8.displayName="AlertTitle";const ir=p.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:de("text-sm [&_p]:leading-relaxed",e),...t}));ir.displayName="AlertDescription";const U8=()=>{const{tokenExpiry:e,logout:t}=pl(),{toast:r}=Qe(),[s,a]=p.useState(!1),[o,i]=p.useState(0);p.useEffect(()=>{if(!e)return;const c=()=>{const m=e-Date.now();i(m),m<=10*60*1e3&&m>0?a(!0):a(!1),m<=5*60*1e3&&m>4*60*1e3&&r({title:"Session Expiring Soon",description:"Your session will expire in 5 minutes. Please save your work.",variant:"destructive"}),m<=1*60*1e3&&m>30*1e3&&r({title:"Session Expiring",description:"Your session will expire in 1 minute.",variant:"destructive"})};c();const u=setInterval(c,1e3);return()=>clearInterval(u)},[e,r]);const l=()=>{a(!1),r({title:"Session Extended",description:"Your session has been extended."})},d=c=>{const u=Math.floor(c/6e4),m=Math.floor(c%(1e3*60)/1e3);return`${u}:${m.toString().padStart(2,"0")}`};return!s||o<=0?null:n.jsx("div",{className:"fixed top-4 right-4 z-50 w-80",children:n.jsxs(or,{className:"border-warning bg-warning/10",children:[n.jsx(fr,{className:"h-4 w-4"}),n.jsxs(ir,{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Session expires in:"}),n.jsx("p",{className:"text-lg font-mono",children:d(o)})]}),n.jsxs(W,{size:"sm",variant:"outline",onClick:l,className:"ml-2",children:[n.jsx(hn,{className:"h-3 w-3 mr-1"}),"Extend"]})]})]})})},H8=()=>n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx(_8,{}),n.jsxs("div",{className:"flex h-[calc(100vh-4rem)]",children:[n.jsx(I8,{}),n.jsx("main",{className:"flex-1 overflow-auto",children:n.jsx(G$,{})})]}),n.jsx(U8,{})]}),O=p.forwardRef(({className:e,type:t,...r},s)=>n.jsx("input",{type:t,className:de("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...r}));O.displayName="Input";var V8="Label",bP=p.forwardRef((e,t)=>n.jsx(Ce.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));bP.displayName=V8;var SP=bP;const B8=od("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),C=p.forwardRef(({className:e,...t},r)=>n.jsx(SP,{ref:r,className:de(B8(),e),...t}));C.displayName=SP.displayName;const X=p.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:de("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));X.displayName="Card";const re=p.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:de("flex flex-col space-y-1.5 p-6",e),...t}));re.displayName="CardHeader";const ae=p.forwardRef(({className:e,...t},r)=>n.jsx("h3",{ref:r,className:de("text-2xl font-semibold leading-none tracking-tight",e),...t}));ae.displayName="CardTitle";const ge=p.forwardRef(({className:e,...t},r)=>n.jsx("p",{ref:r,className:de("text-sm text-muted-foreground",e),...t}));ge.displayName="CardDescription";const te=p.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:de("p-6 pt-0",e),...t}));te.displayName="CardContent";const z8=p.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:de("flex items-center p-6 pt-0",e),...t}));z8.displayName="CardFooter";const q8=()=>{var h,f;const[e,t]=p.useState(""),[r,s]=p.useState(""),[a,o]=p.useState(!1),{login:i,isAuthenticated:l}=pl(),{toast:d}=Qe(),u=((f=(h=Cs().state)==null?void 0:h.from)==null?void 0:f.pathname)||"/dashboard";if(l)return n.jsx(Eh,{to:u,replace:!0});const m=async j=>{j.preventDefault(),o(!0),await i(e,r,u)||d({title:"Login Failed",description:"Invalid username or password",variant:"destructive"}),o(!1)};return n.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-secondary relative overflow-hidden p-4",children:[n.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-40 -left-40 w-80 h-80 bg-primary/10 rounded-full blur-3xl animate-float"}),n.jsx("div",{className:"absolute -bottom-40 -right-40 w-80 h-80 bg-accent/10 rounded-full blur-3xl animate-float",style:{animationDelay:"1s"}}),n.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-primary/5 rounded-full blur-3xl animate-float",style:{animationDelay:"2s"}})]}),n.jsx("div",{className:"w-full max-w-md relative z-10",children:n.jsxs(X,{className:"w-full shadow-elegant animate-scale-in border-border/50 bg-card/95 backdrop-blur-sm",children:[n.jsxs(re,{className:"text-center space-y-6 animate-fade-in",children:[n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("div",{className:"h-16 w-16 rounded-2xl bg-gradient-primary flex items-center justify-center animate-glow",children:n.jsx(Cn,{className:"h-8 w-8 text-primary-foreground"})})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{className:"text-3xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:"IntegrixLab"}),n.jsx(ge,{className:"text-base",children:"Enterprise Integration Platform"})]})]}),n.jsx(te,{className:"space-y-6 animate-slide-up",children:n.jsxs("form",{onSubmit:m,className:"space-y-5",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(C,{htmlFor:"username",className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(Oi,{className:"h-4 w-4"}),"Username"]}),n.jsx(O,{id:"username",type:"text",placeholder:"Enter your username",value:e,onChange:j=>t(j.target.value),className:"transition-all duration-300 focus:scale-[1.02] focus:shadow-elegant",required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(C,{htmlFor:"password",className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(YO,{className:"h-4 w-4"}),"Password"]}),n.jsx(O,{id:"password",type:"password",placeholder:"Enter your password",value:r,onChange:j=>s(j.target.value),className:"transition-all duration-300 focus:scale-[1.02] focus:shadow-elegant",required:!0})]}),n.jsx(W,{type:"submit",className:"w-full bg-gradient-primary hover:opacity-90 transition-all duration-300 hover:scale-[1.02] hover:shadow-elegant group",disabled:a,children:a?n.jsxs(n.Fragment,{children:[n.jsx(Jt,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):n.jsxs(n.Fragment,{children:["Sign In",n.jsx(xh,{className:"ml-2 h-4 w-4 transition-transform group-hover:translate-x-1"})]})})]})})]})})]})};function W8(e,t=[]){let r=[];function s(o,i){const l=p.createContext(i),d=r.length;r=[...r,i];function c(m){const{scope:h,children:f,...j}=m,x=(h==null?void 0:h[e][d])||l,w=p.useMemo(()=>j,Object.values(j));return n.jsx(x.Provider,{value:w,children:f})}function u(m,h){const f=(h==null?void 0:h[e][d])||l,j=p.useContext(f);if(j)return j;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,u]}const a=()=>{const o=r.map(i=>p.createContext(i));return function(l){const d=(l==null?void 0:l[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return a.scopeName=e,[s,Y8(a,...t)]}function Y8(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=s.reduce((l,{useScope:d,scopeName:c})=>{const m=d(o)[`__scope${c}`];return{...l,...m}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var Ry="Progress",Fy=100,[K8,Ate]=W8(Ry),[G8,X8]=K8(Ry),CP=p.forwardRef((e,t)=>{const{__scopeProgress:r,value:s=null,max:a,getValueLabel:o=Q8,...i}=e;(a||a===0)&&!cN(a)&&console.error(J8(`${a}`,"Progress"));const l=cN(a)?a:Fy;s!==null&&!dN(s,l)&&console.error(Z8(`${s}`,"Progress"));const d=dN(s,l)?s:null,c=Ah(d)?o(d,l):void 0;return n.jsx(G8,{scope:r,value:d,max:l,children:n.jsx(Ce.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Ah(d)?d:void 0,"aria-valuetext":c,role:"progressbar","data-state":kP(d,l),"data-value":d??void 0,"data-max":l,...i,ref:t})})});CP.displayName=Ry;var EP="ProgressIndicator",PP=p.forwardRef((e,t)=>{const{__scopeProgress:r,...s}=e,a=X8(EP,r);return n.jsx(Ce.div,{"data-state":kP(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...s,ref:t})});PP.displayName=EP;function Q8(e,t){return`${Math.round(e/t*100)}%`}function kP(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Ah(e){return typeof e=="number"}function cN(e){return Ah(e)&&!isNaN(e)&&e>0}function dN(e,t){return Ah(e)&&!isNaN(e)&&e<=t&&e>=0}function J8(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Fy}\`.`}function Z8(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Fy} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var TP=CP,eU=PP;const fd=p.forwardRef(({className:e,value:t,...r},s)=>n.jsx(TP,{ref:s,className:de("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:n.jsx(eU,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));fd.displayName=TP.displayName;function pg(e,[t,r]){return Math.min(r,Math.max(t,e))}function _y(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var tU=[" ","Enter","ArrowUp","ArrowDown"],nU=[" ","Enter"],xd="Select",[Lm,$m,rU]=pm(xd),[fl,Mte]=Wn(xd,[rU,ul]),Um=ul(),[sU,Ca]=fl(xd),[aU,oU]=fl(xd),AP=e=>{const{__scopeSelect:t,children:r,open:s,defaultOpen:a,onOpenChange:o,value:i,defaultValue:l,onValueChange:d,dir:c,name:u,autoComplete:m,disabled:h,required:f,form:j}=e,x=Um(t),[w,v]=p.useState(null),[g,y]=p.useState(null),[N,b]=p.useState(!1),E=ud(c),[S=!1,P]=Vr({prop:s,defaultProp:a,onChange:o}),[_,T]=Vr({prop:i,defaultProp:l,onChange:d}),D=p.useRef(null),k=w?j||!!w.closest("form"):!0,[U,M]=p.useState(new Set),$=Array.from(U).map(L=>L.props.value).join(";");return n.jsx(U2,{...x,children:n.jsxs(sU,{required:f,scope:t,trigger:w,onTriggerChange:v,valueNode:g,onValueNodeChange:y,valueNodeHasChildren:N,onValueNodeHasChildrenChange:b,contentId:hr(),value:_,onValueChange:T,open:S,onOpenChange:P,dir:E,triggerPointerDownPosRef:D,disabled:h,children:[n.jsx(Lm.Provider,{scope:t,children:n.jsx(aU,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(L=>{M(I=>new Set(I).add(L))},[]),onNativeOptionRemove:p.useCallback(L=>{M(I=>{const F=new Set(I);return F.delete(L),F})},[]),children:r})}),k?n.jsxs(tk,{"aria-hidden":!0,required:f,tabIndex:-1,name:u,autoComplete:m,value:_,onChange:L=>T(L.target.value),disabled:h,form:j,children:[_===void 0?n.jsx("option",{value:""}):null,Array.from(U)]},$):null]})})};AP.displayName=xd;var MP="SelectTrigger",DP=p.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:s=!1,...a}=e,o=Um(r),i=Ca(MP,r),l=i.disabled||s,d=Te(t,i.onTriggerChange),c=$m(r),u=p.useRef("touch"),[m,h,f]=nk(x=>{const w=c().filter(y=>!y.disabled),v=w.find(y=>y.value===i.value),g=rk(w,x,v);g!==void 0&&i.onValueChange(g.value)}),j=x=>{l||(i.onOpenChange(!0),f()),x&&(i.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return n.jsx(uy,{asChild:!0,...o,children:n.jsx(Ce.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":ek(i.value)?"":void 0,...a,ref:d,onClick:he(a.onClick,x=>{x.currentTarget.focus(),u.current!=="mouse"&&j(x)}),onPointerDown:he(a.onPointerDown,x=>{u.current=x.pointerType;const w=x.target;w.hasPointerCapture(x.pointerId)&&w.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(j(x),x.preventDefault())}),onKeyDown:he(a.onKeyDown,x=>{const w=m.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&h(x.key),!(w&&x.key===" ")&&tU.includes(x.key)&&(j(),x.preventDefault())})})})});DP.displayName=MP;var RP="SelectValue",FP=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:a,children:o,placeholder:i="",...l}=e,d=Ca(RP,r),{onValueNodeHasChildrenChange:c}=d,u=o!==void 0,m=Te(t,d.onValueNodeChange);return Dt(()=>{c(u)},[c,u]),n.jsx(Ce.span,{...l,ref:m,style:{pointerEvents:"none"},children:ek(d.value)?n.jsx(n.Fragment,{children:i}):o})});FP.displayName=RP;var iU="SelectIcon",_P=p.forwardRef((e,t)=>{const{__scopeSelect:r,children:s,...a}=e;return n.jsx(Ce.span,{"aria-hidden":!0,...a,ref:t,children:s||"▼"})});_P.displayName=iU;var lU="SelectPortal",OP=e=>n.jsx(sd,{asChild:!0,...e});OP.displayName=lU;var ao="SelectContent",IP=p.forwardRef((e,t)=>{const r=Ca(ao,e.__scopeSelect),[s,a]=p.useState();if(Dt(()=>{a(new DocumentFragment)},[]),!r.open){const o=s;return o?Nr.createPortal(n.jsx(LP,{scope:e.__scopeSelect,children:n.jsx(Lm.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),o):null}return n.jsx($P,{...e,ref:t})});IP.displayName=ao;var Qn=10,[LP,Ea]=fl(ao),cU="SelectContentImpl",$P=p.forwardRef((e,t)=>{const{__scopeSelect:r,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:d,align:c,alignOffset:u,arrowPadding:m,collisionBoundary:h,collisionPadding:f,sticky:j,hideWhenDetached:x,avoidCollisions:w,...v}=e,g=Ca(ao,r),[y,N]=p.useState(null),[b,E]=p.useState(null),S=Te(t,Y=>N(Y)),[P,_]=p.useState(null),[T,D]=p.useState(null),k=$m(r),[U,M]=p.useState(!1),$=p.useRef(!1);p.useEffect(()=>{if(y)return hd(y)},[y]),yy();const L=p.useCallback(Y=>{const[ne,...le]=k().map(me=>me.ref.current),[fe]=le.slice(-1),xe=document.activeElement;for(const me of Y)if(me===xe||(me==null||me.scrollIntoView({block:"nearest"}),me===ne&&b&&(b.scrollTop=0),me===fe&&b&&(b.scrollTop=b.scrollHeight),me==null||me.focus(),document.activeElement!==xe))return},[k,b]),I=p.useCallback(()=>L([P,y]),[L,P,y]);p.useEffect(()=>{U&&I()},[U,I]);const{onOpenChange:F,triggerPointerDownPosRef:R}=g;p.useEffect(()=>{if(y){let Y={x:0,y:0};const ne=fe=>{var xe,me;Y={x:Math.abs(Math.round(fe.pageX)-(((xe=R.current)==null?void 0:xe.x)??0)),y:Math.abs(Math.round(fe.pageY)-(((me=R.current)==null?void 0:me.y)??0))}},le=fe=>{Y.x<=10&&Y.y<=10?fe.preventDefault():y.contains(fe.target)||F(!1),document.removeEventListener("pointermove",ne),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",ne),document.addEventListener("pointerup",le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ne),document.removeEventListener("pointerup",le,{capture:!0})}}},[y,F,R]),p.useEffect(()=>{const Y=()=>F(!1);return window.addEventListener("blur",Y),window.addEventListener("resize",Y),()=>{window.removeEventListener("blur",Y),window.removeEventListener("resize",Y)}},[F]);const[V,B]=nk(Y=>{const ne=k().filter(xe=>!xe.disabled),le=ne.find(xe=>xe.ref.current===document.activeElement),fe=rk(ne,Y,le);fe&&setTimeout(()=>fe.ref.current.focus())}),H=p.useCallback((Y,ne,le)=>{const fe=!$.current&&!le;(g.value!==void 0&&g.value===ne||fe)&&(_(Y),fe&&($.current=!0))},[g.value]),q=p.useCallback(()=>y==null?void 0:y.focus(),[y]),z=p.useCallback((Y,ne,le)=>{const fe=!$.current&&!le;(g.value!==void 0&&g.value===ne||fe)&&D(Y)},[g.value]),G=s==="popper"?fg:UP,K=G===fg?{side:l,sideOffset:d,align:c,alignOffset:u,arrowPadding:m,collisionBoundary:h,collisionPadding:f,sticky:j,hideWhenDetached:x,avoidCollisions:w}:{};return n.jsx(LP,{scope:r,content:y,viewport:b,onViewportChange:E,itemRefCallback:H,selectedItem:P,onItemLeave:q,itemTextRefCallback:z,focusSelectedItem:I,selectedItemText:T,position:s,isPositioned:U,searchRef:V,children:n.jsx(_m,{as:ma,allowPinchZoom:!0,children:n.jsx(Tm,{asChild:!0,trapped:g.open,onMountAutoFocus:Y=>{Y.preventDefault()},onUnmountAutoFocus:he(a,Y=>{var ne;(ne=g.trigger)==null||ne.focus({preventScroll:!0}),Y.preventDefault()}),children:n.jsx(sl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:Y=>Y.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:n.jsx(G,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:Y=>Y.preventDefault(),...v,...K,onPlaced:()=>M(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:he(v.onKeyDown,Y=>{const ne=Y.ctrlKey||Y.altKey||Y.metaKey;if(Y.key==="Tab"&&Y.preventDefault(),!ne&&Y.key.length===1&&B(Y.key),["ArrowUp","ArrowDown","Home","End"].includes(Y.key)){let fe=k().filter(xe=>!xe.disabled).map(xe=>xe.ref.current);if(["ArrowUp","End"].includes(Y.key)&&(fe=fe.slice().reverse()),["ArrowUp","ArrowDown"].includes(Y.key)){const xe=Y.target,me=fe.indexOf(xe);fe=fe.slice(me+1)}setTimeout(()=>L(fe)),Y.preventDefault()}})})})})})})});$P.displayName=cU;var dU="SelectItemAlignedPosition",UP=p.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:s,...a}=e,o=Ca(ao,r),i=Ea(ao,r),[l,d]=p.useState(null),[c,u]=p.useState(null),m=Te(t,S=>u(S)),h=$m(r),f=p.useRef(!1),j=p.useRef(!0),{viewport:x,selectedItem:w,selectedItemText:v,focusSelectedItem:g}=i,y=p.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&c&&x&&w&&v){const S=o.trigger.getBoundingClientRect(),P=c.getBoundingClientRect(),_=o.valueNode.getBoundingClientRect(),T=v.getBoundingClientRect();if(o.dir!=="rtl"){const xe=T.left-P.left,me=_.left-xe,ve=S.left-me,we=S.width+ve,Re=Math.max(we,P.width),_e=window.innerWidth-Qn,Et=pg(me,[Qn,Math.max(Qn,_e-Re)]);l.style.minWidth=we+"px",l.style.left=Et+"px"}else{const xe=P.right-T.right,me=window.innerWidth-_.right-xe,ve=window.innerWidth-S.right-me,we=S.width+ve,Re=Math.max(we,P.width),_e=window.innerWidth-Qn,Et=pg(me,[Qn,Math.max(Qn,_e-Re)]);l.style.minWidth=we+"px",l.style.right=Et+"px"}const D=h(),k=window.innerHeight-Qn*2,U=x.scrollHeight,M=window.getComputedStyle(c),$=parseInt(M.borderTopWidth,10),L=parseInt(M.paddingTop,10),I=parseInt(M.borderBottomWidth,10),F=parseInt(M.paddingBottom,10),R=$+L+U+F+I,V=Math.min(w.offsetHeight*5,R),B=window.getComputedStyle(x),H=parseInt(B.paddingTop,10),q=parseInt(B.paddingBottom,10),z=S.top+S.height/2-Qn,G=k-z,K=w.offsetHeight/2,Y=w.offsetTop+K,ne=$+L+Y,le=R-ne;if(ne<=z){const xe=D.length>0&&w===D[D.length-1].ref.current;l.style.bottom="0px";const me=c.clientHeight-x.offsetTop-x.offsetHeight,ve=Math.max(G,K+(xe?q:0)+me+I),we=ne+ve;l.style.height=we+"px"}else{const xe=D.length>0&&w===D[0].ref.current;l.style.top="0px";const ve=Math.max(z,$+x.offsetTop+(xe?H:0)+K)+le;l.style.height=ve+"px",x.scrollTop=ne-z+x.offsetTop}l.style.margin=`${Qn}px 0`,l.style.minHeight=V+"px",l.style.maxHeight=k+"px",s==null||s(),requestAnimationFrame(()=>f.current=!0)}},[h,o.trigger,o.valueNode,l,c,x,w,v,o.dir,s]);Dt(()=>y(),[y]);const[N,b]=p.useState();Dt(()=>{c&&b(window.getComputedStyle(c).zIndex)},[c]);const E=p.useCallback(S=>{S&&j.current===!0&&(y(),g==null||g(),j.current=!1)},[y,g]);return n.jsx(hU,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:f,onScrollButtonChange:E,children:n.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:n.jsx(Ce.div,{...a,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});UP.displayName=dU;var uU="SelectPopperPosition",fg=p.forwardRef((e,t)=>{const{__scopeSelect:r,align:s="start",collisionPadding:a=Qn,...o}=e,i=Um(r);return n.jsx(hy,{...i,...o,ref:t,align:s,collisionPadding:a,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});fg.displayName=uU;var[hU,Oy]=fl(ao,{}),xg="SelectViewport",HP=p.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:s,...a}=e,o=Ea(xg,r),i=Oy(xg,r),l=Te(t,o.onViewportChange),d=p.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),n.jsx(Lm.Slot,{scope:r,children:n.jsx(Ce.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:he(a.onScroll,c=>{const u=c.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&m){const f=Math.abs(d.current-u.scrollTop);if(f>0){const j=window.innerHeight-Qn*2,x=parseFloat(m.style.minHeight),w=parseFloat(m.style.height),v=Math.max(x,w);if(v<j){const g=v+f,y=Math.min(j,g),N=g-y;m.style.height=y+"px",m.style.bottom==="0px"&&(u.scrollTop=N>0?N:0,m.style.justifyContent="flex-end")}}}d.current=u.scrollTop})})})]})});HP.displayName=xg;var VP="SelectGroup",[mU,pU]=fl(VP),fU=p.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=hr();return n.jsx(mU,{scope:r,id:a,children:n.jsx(Ce.div,{role:"group","aria-labelledby":a,...s,ref:t})})});fU.displayName=VP;var BP="SelectLabel",zP=p.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=pU(BP,r);return n.jsx(Ce.div,{id:a.id,...s,ref:t})});zP.displayName=BP;var Mh="SelectItem",[xU,qP]=fl(Mh),WP=p.forwardRef((e,t)=>{const{__scopeSelect:r,value:s,disabled:a=!1,textValue:o,...i}=e,l=Ca(Mh,r),d=Ea(Mh,r),c=l.value===s,[u,m]=p.useState(o??""),[h,f]=p.useState(!1),j=Te(t,g=>{var y;return(y=d.itemRefCallback)==null?void 0:y.call(d,g,s,a)}),x=hr(),w=p.useRef("touch"),v=()=>{a||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(xU,{scope:r,value:s,disabled:a,textId:x,isSelected:c,onItemTextChange:p.useCallback(g=>{m(y=>y||((g==null?void 0:g.textContent)??"").trim())},[]),children:n.jsx(Lm.ItemSlot,{scope:r,value:s,disabled:a,textValue:u,children:n.jsx(Ce.div,{role:"option","aria-labelledby":x,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...i,ref:j,onFocus:he(i.onFocus,()=>f(!0)),onBlur:he(i.onBlur,()=>f(!1)),onClick:he(i.onClick,()=>{w.current!=="mouse"&&v()}),onPointerUp:he(i.onPointerUp,()=>{w.current==="mouse"&&v()}),onPointerDown:he(i.onPointerDown,g=>{w.current=g.pointerType}),onPointerMove:he(i.onPointerMove,g=>{var y;w.current=g.pointerType,a?(y=d.onItemLeave)==null||y.call(d):w.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:he(i.onPointerLeave,g=>{var y;g.currentTarget===document.activeElement&&((y=d.onItemLeave)==null||y.call(d))}),onKeyDown:he(i.onKeyDown,g=>{var N;((N=d.searchRef)==null?void 0:N.current)!==""&&g.key===" "||(nU.includes(g.key)&&v(),g.key===" "&&g.preventDefault())})})})})});WP.displayName=Mh;var Yl="SelectItemText",YP=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:a,...o}=e,i=Ca(Yl,r),l=Ea(Yl,r),d=qP(Yl,r),c=oU(Yl,r),[u,m]=p.useState(null),h=Te(t,v=>m(v),d.onItemTextChange,v=>{var g;return(g=l.itemTextRefCallback)==null?void 0:g.call(l,v,d.value,d.disabled)}),f=u==null?void 0:u.textContent,j=p.useMemo(()=>n.jsx("option",{value:d.value,disabled:d.disabled,children:f},d.value),[d.disabled,d.value,f]),{onNativeOptionAdd:x,onNativeOptionRemove:w}=c;return Dt(()=>(x(j),()=>w(j)),[x,w,j]),n.jsxs(n.Fragment,{children:[n.jsx(Ce.span,{id:d.textId,...o,ref:h}),d.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Nr.createPortal(o.children,i.valueNode):null]})});YP.displayName=Yl;var KP="SelectItemIndicator",GP=p.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return qP(KP,r).isSelected?n.jsx(Ce.span,{"aria-hidden":!0,...s,ref:t}):null});GP.displayName=KP;var gg="SelectScrollUpButton",XP=p.forwardRef((e,t)=>{const r=Ea(gg,e.__scopeSelect),s=Oy(gg,e.__scopeSelect),[a,o]=p.useState(!1),i=Te(t,s.onScrollButtonChange);return Dt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const c=d.scrollTop>0;o(c)};const d=r.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?n.jsx(JP,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=r;l&&d&&(l.scrollTop=l.scrollTop-d.offsetHeight)}}):null});XP.displayName=gg;var vg="SelectScrollDownButton",QP=p.forwardRef((e,t)=>{const r=Ea(vg,e.__scopeSelect),s=Oy(vg,e.__scopeSelect),[a,o]=p.useState(!1),i=Te(t,s.onScrollButtonChange);return Dt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const c=d.scrollHeight-d.clientHeight,u=Math.ceil(d.scrollTop)<c;o(u)};const d=r.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?n.jsx(JP,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=r;l&&d&&(l.scrollTop=l.scrollTop+d.offsetHeight)}}):null});QP.displayName=vg;var JP=p.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:s,...a}=e,o=Ea("SelectScrollButton",r),i=p.useRef(null),l=$m(r),d=p.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return p.useEffect(()=>()=>d(),[d]),Dt(()=>{var u;const c=l().find(m=>m.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),n.jsx(Ce.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:he(a.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(s,50))}),onPointerMove:he(a.onPointerMove,()=>{var c;(c=o.onItemLeave)==null||c.call(o),i.current===null&&(i.current=window.setInterval(s,50))}),onPointerLeave:he(a.onPointerLeave,()=>{d()})})}),gU="SelectSeparator",ZP=p.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return n.jsx(Ce.div,{"aria-hidden":!0,...s,ref:t})});ZP.displayName=gU;var yg="SelectArrow",vU=p.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=Um(r),o=Ca(yg,r),i=Ea(yg,r);return o.open&&i.position==="popper"?n.jsx(my,{...a,...s,ref:t}):null});vU.displayName=yg;function ek(e){return e===""||e===void 0}var tk=p.forwardRef((e,t)=>{const{value:r,...s}=e,a=p.useRef(null),o=Te(t,a),i=_y(r);return p.useEffect(()=>{const l=a.current,d=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(d,"value").set;if(i!==r&&u){const m=new Event("change",{bubbles:!0});u.call(l,r),l.dispatchEvent(m)}},[i,r]),n.jsx(ad,{asChild:!0,children:n.jsx("select",{...s,ref:o,defaultValue:r})})});tk.displayName="BubbleSelect";function nk(e){const t=it(e),r=p.useRef(""),s=p.useRef(0),a=p.useCallback(i=>{const l=r.current+i;t(l),function d(c){r.current=c,window.clearTimeout(s.current),c!==""&&(s.current=window.setTimeout(()=>d(""),1e3))}(l)},[t]),o=p.useCallback(()=>{r.current="",window.clearTimeout(s.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(s.current),[]),[r,a,o]}function rk(e,t,r){const a=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=yU(e,Math.max(o,0));a.length===1&&(i=i.filter(c=>c!==r));const d=i.find(c=>c.textValue.toLowerCase().startsWith(a.toLowerCase()));return d!==r?d:void 0}function yU(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var jU=AP,sk=DP,wU=FP,NU=_P,bU=OP,ak=IP,SU=HP,ok=zP,ik=WP,CU=YP,EU=GP,lk=XP,ck=QP,dk=ZP;const Z=jU,ee=wU,Q=p.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(sk,{ref:s,className:de("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,n.jsx(NU,{asChild:!0,children:n.jsx(pr,{className:"h-4 w-4 opacity-50"})})]}));Q.displayName=sk.displayName;const uk=p.forwardRef(({className:e,...t},r)=>n.jsx(lk,{ref:r,className:de("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(UO,{className:"h-4 w-4"})}));uk.displayName=lk.displayName;const hk=p.forwardRef(({className:e,...t},r)=>n.jsx(ck,{ref:r,className:de("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(pr,{className:"h-4 w-4"})}));hk.displayName=ck.displayName;const J=p.forwardRef(({className:e,children:t,position:r="popper",...s},a)=>n.jsx(bU,{children:n.jsxs(ak,{ref:a,className:de("relative z-[10000] max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...s,children:[n.jsx(uk,{}),n.jsx(SU,{className:de("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),n.jsx(hk,{})]})}));J.displayName=ak.displayName;const PU=p.forwardRef(({className:e,...t},r)=>n.jsx(ok,{ref:r,className:de("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));PU.displayName=ok.displayName;const A=p.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(ik,{ref:s,className:de("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(EU,{children:n.jsx(id,{className:"h-4 w-4"})})}),n.jsx(CU,{children:t})]}));A.displayName=ik.displayName;const kU=p.forwardRef(({className:e,...t},r)=>n.jsx(dk,{ref:r,className:de("-mx-1 my-1 h-px bg-muted",e),...t}));kU.displayName=dk.displayName;const _l="http://localhost:8080/api/business-components";class TU{async getAllBusinessComponents(){try{const t=await fetch(_l);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return{success:!0,data:await t.json()}}catch(t){return console.error("Failed to fetch business components:",t),{success:!1,error:"Failed to fetch business components"}}}async getBusinessComponentById(t){try{const r=await fetch(`${_l}/${t}`);if(!r.ok){if(r.status===404)return{success:!1,error:"Business component not found"};throw new Error(`HTTP error! status: ${r.status}`)}return{success:!0,data:await r.json()}}catch(r){return console.error("Failed to fetch business component:",r),{success:!1,error:"Failed to fetch business component"}}}async createBusinessComponent(t){try{console.log("Frontend: Creating business component with data:",t);const r=await fetch(_l,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(console.log("Frontend: Response status:",r.status),!r.ok){const a=await r.text();throw console.error("Frontend: Error response:",a),new Error(`HTTP error! status: ${r.status}, message: ${a}`)}const s=await r.json();return console.log("Frontend: Created business component:",s),{success:!0,data:s}}catch(r){return console.error("Frontend: Failed to create business component:",r),{success:!1,error:"Failed to create business component"}}}async updateBusinessComponent(t){try{const r=await fetch(`${_l}/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){if(r.status===404)return{success:!1,error:"Business component not found"};throw new Error(`HTTP error! status: ${r.status}`)}return{success:!0,data:await r.json()}}catch(r){return console.error("Failed to update business component:",r),{success:!1,error:"Failed to update business component"}}}async deleteBusinessComponent(t){try{const r=await fetch(`${_l}/${t}`,{method:"DELETE"});if(!r.ok){if(r.status===404)return{success:!1,error:"Business component not found"};throw new Error(`HTTP error! status: ${r.status}`)}return{success:!0}}catch(r){return console.error("Failed to delete business component:",r),{success:!1,error:"Failed to delete business component"}}}}const Ha=new TU;class AU{async getChannels(t){try{const r=t?`/channels?businessComponentId=${t}`:"/channels";return await ce.get(r)}catch(r){return{success:!1,error:r instanceof Error?r.message:"Failed to fetch channels"}}}async getChannelById(t){try{return await ce.get(`/channels/${t}`)}catch(r){return{success:!1,error:r instanceof Error?r.message:"Failed to fetch channel"}}}async createChannel(t){try{return await ce.post("/channels",t)}catch(r){return{success:!1,error:r instanceof Error?r.message:"Failed to create channel"}}}async updateChannel(t,r){try{return await ce.put(`/channels/${t}`,r)}catch(s){return{success:!1,error:s instanceof Error?s.message:"Failed to update channel"}}}async deleteChannel(t){try{return await ce.delete(`/channels/${t}`),{success:!0}}catch(r){return{success:!1,error:r instanceof Error?r.message:"Failed to delete channel"}}}async getChannelLogs(t,r){var s;try{const a=new URLSearchParams;(s=r==null?void 0:r.level)!=null&&s.length&&a.append("level",r.level.join(",")),r!=null&&r.dateFrom&&a.append("dateFrom",r.dateFrom),r!=null&&r.dateTo&&a.append("dateTo",r.dateTo),r!=null&&r.search&&a.append("search",r.search);const o=a.toString()?`?${a.toString()}`:"";return await ce.get(`/channels/${t}/logs${o}`)}catch(a){return{success:!1,error:a instanceof Error?a.message:"Failed to fetch channel logs"}}}async getAvailableAdapters(){try{return await ce.get("/adapters")}catch(t){return{success:!1,error:t instanceof Error?t.message:"Failed to fetch available adapters"}}}async testChannelConnection(t){try{return await ce.post(`/channels/${t}/test`),{success:!0}}catch(r){return{success:!1,error:r instanceof Error?r.message:"Failed to test channel connection"}}}}const pi=new AU;class MU{async createStructure(t){return ce.post("/structures",t)}async getStructures(t){const r=new URLSearchParams;t&&Object.entries(t).forEach(([a,o])=>{o!==void 0&&(Array.isArray(o)?o.forEach(i=>r.append(a,i.toString())):r.append(a,o.toString()))});const s=`/structures${r.toString()?`?${r.toString()}`:""}`;return ce.get(s)}async getStructure(t){return ce.get(`/structures/${t}`)}async updateStructure(t,r){return ce.put(`/structures/${t}`,r)}async deleteStructure(t){return ce.delete(`/structures/${t}`)}async validateStructure(t,r){return ce.post("/structures/validate",{structure:t,type:r})}async parseStructure(t,r){return ce.post("/structures/parse",{content:t,type:r})}async generateSampleData(t,r){const s=`/structures/${t}/sample${r?`?format=${r}`:""}`;return ce.get(s)}async getStructureUsage(t){return ce.get(`/structures/${t}/usage`)}async cloneStructure(t,r){return ce.post(`/structures/${t}/clone`,{name:r})}async compareStructures(t,r){return ce.post("/structures/compare",{sourceId:t,targetId:r})}async getStructureMappings(t,r){return ce.get(`/structures/mappings?source=${t}&target=${r}`)}async exportStructure(t,r){return ce.get(`/structures/${t}/export?format=${r}`)}async searchStructures(t,r){const s=new URLSearchParams({q:t});return r&&Object.entries(r).forEach(([a,o])=>{o!==void 0&&s.append(a,o.toString())}),ce.get(`/structures/search?${s.toString()}`)}async getStructureVersions(t){return ce.get(`/structures/${t}/versions`)}}const Kl=new MU,xf=[{id:"1",name:"ACME Corporation",description:"Manufacturing company specializing in enterprise solutions",contactEmail:"admin@acme.com",contactPhone:"+1-555-0123",createdAt:"2024-01-15T10:30:00Z",updatedAt:"2024-01-20T14:30:00Z"},{id:"2",name:"TechStart Inc",description:"Technology startup focused on digital transformation",contactEmail:"tech@techstart.com",contactPhone:"+1-555-0124",createdAt:"2024-01-10T09:15:00Z",updatedAt:"2024-01-20T16:45:00Z"},{id:"3",name:"Global Retail Ltd",description:"Large retail chain with global operations",contactEmail:"contact@globalretail.com",contactPhone:"+1-555-0125",createdAt:"2024-01-05T11:20:00Z",updatedAt:"2024-01-18T09:15:00Z"}],Kr=()=>{const[e,t]=p.useState([]),[r,s]=p.useState([]),[a,o]=p.useState(!0);p.useEffect(()=>{i()},[]);const i=async()=>{try{console.log("Loading businessComponent data...");const[c,u]=await Promise.all([Ha.getAllBusinessComponents(),pi.getAvailableAdapters()]);let m=!1;if(c.success&&c.data){console.log("API businessComponents loaded:",c.data);const h=Array.isArray(c.data)?c.data:[];h.length===0?(console.log("API returned empty business components, using mock data as fallback"),t(xf)):(t(h),m=!0)}if(u.success&&u.data){console.log("API adapters loaded:",u.data);const h=Array.isArray(u.data)?u.data:[];s(h)}m||(console.log("Using mock businessComponent data as fallback"),t(xf))}catch(c){console.error("Error loading data, using mock data:",c),t(xf)}finally{o(!1)}};return{businessComponents:e,adapters:r,loading:a,getAdaptersForBusinessComponent:async c=>{const u=await pi.getChannels(c);if(u.success&&u.data){const m=u.data.flatMap(h=>h.adapters.map(f=>f.id));return[...new Set(m)]}return[]},getStructuresForBusinessComponent:async c=>{const u=await Kl.getStructures();return u.success&&u.data?u.data.structures.filter(m=>m.businessComponentId===c).map(m=>m.id):[]},refreshData:i}};class DU{async getDashboardStats(t){try{const r=t?`/dashboard/stats?businessComponentId=${t}`:"/dashboard/stats";return await ce.get(r)}catch(r){return{success:!1,error:r instanceof Error?r.message:"Failed to fetch dashboard stats"}}}async getDashboardMetrics(t){try{const r=t?`/dashboard/metrics?businessComponentId=${t}`:"/dashboard/metrics",s=await ce.get(r);if(s.success&&s.data){const a=s.data;return{success:!0,data:[{title:"Active Integrations",value:a.activeIntegrations.toString(),change:"+0%",icon:"Activity",color:"text-success"},{title:"Messages Today",value:a.messagesToday.toLocaleString(),change:"+0%",icon:"MessageSquare",color:"text-info"},{title:"Success Rate",value:`${a.successRate.toFixed(1)}%`,change:"+0%",icon:"CheckCircle",color:"text-success"},{title:"Avg Response Time",value:`${a.avgResponseTime}ms`,change:"0ms",icon:"Zap",color:"text-warning"}]}}return s}catch(r){return{success:!1,error:r instanceof Error?r.message:"Failed to fetch dashboard metrics"}}}async getRecentMessages(t,r=10){try{const s=t?`/messages/recent?businessComponentId=${t}&limit=${r}`:`/messages/recent?limit=${r}`;return await ce.get(s)}catch(s){return{success:!1,error:s instanceof Error?s.message:"Failed to fetch recent messages"}}}async getChannelStatuses(t){try{const r=t?`/channels/status?businessComponentId=${t}`:"/channels/status";return await ce.get(r)}catch(r){return{success:!1,error:r instanceof Error?r.message:"Failed to fetch channel statuses"}}}async getDashboardData(t){try{const[r,s,a]=await Promise.all([this.getDashboardStats(t),this.getRecentMessages(t),this.getChannelStatuses(t)]);if(!r.success||!s.success||!a.success)return{success:!1,error:"Failed to fetch some dashboard data"};const o=await this.getDashboardMetrics(t);return{success:!0,data:{stats:r.data,metrics:o.data||[],recentMessages:s.data||[],channelStatuses:a.data||[]}}}catch(r){return{success:!1,error:r instanceof Error?r.message:"Failed to fetch dashboard data"}}}}const gf=new DU,RU={Activity:no,MessageSquare:an,CheckCircle:Pn,XCircle:ia,Clock:fr,TrendingUp:t2,Server:Zv,Zap:ur,Users:Bt},FU=()=>{console.log("Dashboard component loading...");const[e,t]=p.useState(null),[r,s]=p.useState([]),[a,o]=p.useState([]),[i,l]=p.useState([]),[d,c]=p.useState(!0),[u,m]=p.useState(!0),[h,f]=p.useState(!0),[j,x]=p.useState(null),{businessComponents:w,loading:v}=Kr();return console.log("Dashboard - business components:",w,"loading:",v),p.useEffect(()=>{const g=async()=>{try{x(null);const N=e==null?void 0:e.id;c(!0);const b=await gf.getDashboardMetrics(N);b.success&&b.data?s(b.data):console.error("Failed to fetch metrics:",b.error),c(!1),m(!0);const E=await gf.getRecentMessages(N);E.success&&E.data?o(E.data):console.error("Failed to fetch messages:",E.error),m(!1),f(!0);const S=await gf.getChannelStatuses(N);S.success&&S.data?l(S.data):console.error("Failed to fetch channels:",S.error),f(!1)}catch(N){console.error("Dashboard data fetch error:",N),x("Failed to load dashboard data"),c(!1),m(!1),f(!1)}};g();const y=setInterval(g,3e4);return()=>clearInterval(y)},[e]),console.log("Dashboard render - about to return JSX"),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Integration Dashboard"}),n.jsx("p",{className:"text-muted-foreground",children:"Monitor your integration flows and system health"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(C,{htmlFor:"business-component",children:"Business Component:"}),n.jsxs(Z,{value:(e==null?void 0:e.id)||"all",onValueChange:g=>{if(g==="all")t(null);else{const y=w.find(N=>N.id===g);t(y||null)}},children:[n.jsx(Q,{id:"business-component",className:"w-[280px]",children:n.jsx(ee,{placeholder:"Select a business component"})}),n.jsxs(J,{children:[n.jsx(A,{value:"all",children:"All Components"}),w.map(g=>n.jsx(A,{value:g.id,children:g.name},g.id))]})]})]}),j&&n.jsx("div",{className:"bg-destructive/10 text-destructive p-4 rounded-lg",children:j}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:d?n.jsx("div",{className:"col-span-full flex justify-center p-8",children:n.jsx(Jt,{className:"h-8 w-8 animate-spin"})}):r.map((g,y)=>{const N=RU[g.icon]||no,b=g.change.startsWith("+")||g.change.startsWith("-")&&g.change.includes("ms");return n.jsxs(X,{children:[n.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(ae,{className:"text-sm font-medium",children:g.title}),n.jsx(N,{className:`h-4 w-4 ${g.color}`})]}),n.jsxs(te,{children:[n.jsx("div",{className:"text-2xl font-bold",children:g.value}),n.jsxs("p",{className:`text-xs ${b?"text-success":"text-destructive"}`,children:[g.change," from last period"]})]})]},y)})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(X,{children:[n.jsxs(re,{children:[n.jsx(ae,{children:"Recent Messages"}),n.jsx(ge,{children:"Latest integration messages"})]}),n.jsx(te,{children:u?n.jsx("div",{className:"flex justify-center p-8",children:n.jsx(Jt,{className:"h-6 w-6 animate-spin"})}):a.length===0?n.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No recent messages"}):n.jsx("div",{className:"space-y-4",children:a.map(g=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(oe,{variant:g.status==="success"?"success":g.status==="failed"?"destructive":"secondary",children:g.status}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-medium",children:[g.source," → ",g.target]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:g.time})]})]}),g.status==="success"&&n.jsx(Pn,{className:"h-4 w-4 text-success"}),g.status==="failed"&&n.jsx(ia,{className:"h-4 w-4 text-destructive"}),g.status==="processing"&&n.jsx(fr,{className:"h-4 w-4 text-warning animate-pulse"})]},g.id))})})]}),n.jsxs(X,{children:[n.jsxs(re,{children:[n.jsx(ae,{children:"Channel Status"}),n.jsx(ge,{children:"Active integration channels"})]}),n.jsx(te,{children:h?n.jsx("div",{className:"flex justify-center p-8",children:n.jsx(Jt,{className:"h-6 w-6 animate-spin"})}):i.length===0?n.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No active channels"}):n.jsx("div",{className:"space-y-4",children:i.map((g,y)=>n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Zv,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm font-medium",children:g.name})]}),n.jsx(oe,{variant:g.status==="running"?"success":g.status==="idle"?"secondary":"destructive",children:g.status})]}),n.jsx(fd,{value:g.load,className:"h-2"}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Load: ",g.load,"%"]})]},y))})})]})]})]})};function _U(){const e=Sa();return n.jsxs("div",{className:"container mx-auto p-6 max-w-4xl",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-2",children:"Create Integration Flow"}),n.jsx("p",{className:"text-muted-foreground",children:"Choose the type of integration flow you want to create"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs(X,{className:"cursor-pointer transition-all hover:shadow-lg border-2 hover:border-primary/20",children:[n.jsxs(re,{className:"text-center pb-4",children:[n.jsx("div",{className:"mx-auto mb-4 p-3 rounded-full bg-primary/10",children:n.jsx(Oa,{className:"h-8 w-8 text-primary"})}),n.jsx(ae,{className:"text-xl",children:"Create Orchestration Flow"}),n.jsx(ge,{className:"text-sm",children:"Design complex workflows with multiple systems, routing, and business logic"})]}),n.jsxs(te,{className:"pt-0",children:[n.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground mb-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),n.jsx("span",{children:"Visual workflow designer"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),n.jsx("span",{children:"Message routing & transformation"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),n.jsx("span",{children:"Multi-system orchestration"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),n.jsx("span",{children:"Error handling & compensation"})]})]}),n.jsx(W,{className:"w-full",onClick:()=>e("/create-orchestration-flow"),children:"Create Orchestration Flow"})]})]}),n.jsxs(X,{className:"cursor-pointer transition-all hover:shadow-lg border-2 hover:border-primary/20",children:[n.jsxs(re,{className:"text-center pb-4",children:[n.jsx("div",{className:"mx-auto mb-4 p-3 rounded-full bg-primary/10",children:n.jsx(li,{className:"h-8 w-8 text-primary"})}),n.jsx(ae,{className:"text-xl",children:"Create Direct Mapping Flow"}),n.jsx(ge,{className:"text-sm",children:"Create simple point-to-point integration with field mapping"})]}),n.jsxs(te,{className:"pt-0",children:[n.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground mb-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),n.jsx("span",{children:"Point-to-point integration"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),n.jsx("span",{children:"Visual field mapping"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),n.jsx("span",{children:"Transformation functions"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),n.jsx("span",{children:"Quick setup & deployment"})]})]}),n.jsx(W,{className:"w-full",onClick:()=>e("/create-direct-mapping-flow"),children:"Create Direct Mapping Flow"})]})]})]})]})}const Se=p.forwardRef(({className:e,...t},r)=>n.jsx("textarea",{className:de("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Se.displayName="Textarea";var OU="Separator",uN="horizontal",IU=["horizontal","vertical"],mk=p.forwardRef((e,t)=>{const{decorative:r,orientation:s=uN,...a}=e,o=LU(s)?s:uN,l=r?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return n.jsx(Ce.div,{"data-orientation":o,...l,...a,ref:t})});mk.displayName=OU;function LU(e){return IU.includes(e)}var pk=mk;const Ke=p.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...s},a)=>n.jsx(pk,{ref:a,decorative:r,orientation:t,className:de("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));Ke.displayName=pk.displayName;const $U=({onTestFlow:e,onSaveFlow:t})=>n.jsxs(X,{className:"animate-scale-in",style:{animationDelay:"0.3s"},children:[n.jsxs(re,{children:[n.jsx(ae,{children:"Actions"}),n.jsx(ge,{children:"Test and save your integration flow"})]}),n.jsxs(te,{className:"space-y-3",children:[n.jsxs(W,{onClick:e,className:"w-full bg-gradient-accent hover:opacity-90 transition-all duration-300",variant:"outline",children:[n.jsx(ol,{className:"h-4 w-4 mr-2"}),"Test Flow"]}),n.jsxs(W,{onClick:t,className:"w-full bg-gradient-primary hover:opacity-90 transition-all duration-300",children:[n.jsx(jo,{className:"h-4 w-4 mr-2"}),"Save Flow"]}),n.jsx(Ke,{}),n.jsxs(W,{variant:"outline",className:"w-full",children:[n.jsx(gh,{className:"h-4 w-4 mr-2"}),"Duplicate Flow"]})]})]}),UU=({sourceAdapter:e,targetAdapter:t,sourceStructure:r,targetStructure:s,selectedTransformations:a,adapters:o,sampleStructures:i})=>{var c,u,m,h;const l=f=>o.find(j=>j.id===f),d=f=>i.find(j=>j.id===f);return n.jsxs(X,{className:"animate-scale-in",style:{animationDelay:"0.4s"},children:[n.jsx(re,{children:n.jsx(ae,{children:"Flow Summary"})}),n.jsx(te,{className:"space-y-3",children:n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Status:"}),n.jsx(oe,{variant:"secondary",children:"Draft"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Source:"}),n.jsx("span",{children:e?(c=l(e))==null?void 0:c.name:"Not selected"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Source Structure:"}),n.jsx("span",{children:r?(u=d(r))==null?void 0:u.name:"Not selected"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Target:"}),n.jsx("span",{children:t?(m=l(t))==null?void 0:m.name:"Not selected"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Target Structure:"}),n.jsx("span",{children:s?(h=d(s))==null?void 0:h.name:"Not selected"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Transformations:"}),n.jsx("span",{children:a.length})]})]})})]})},HU=()=>n.jsxs(X,{className:"animate-scale-in",style:{animationDelay:"0.5s"},children:[n.jsx(re,{children:n.jsx(ae,{children:"Quick Tips"})}),n.jsx(te,{children:n.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-primary mt-2 flex-shrink-0"}),n.jsx("span",{children:"Test your flow before saving to ensure connectivity"})]}),n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-primary mt-2 flex-shrink-0"}),n.jsx("span",{children:"Add transformations to modify data between systems"})]}),n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-primary mt-2 flex-shrink-0"}),n.jsx("span",{children:"Use descriptive names for easier management"})]})]})})]});var Iy="Checkbox",[VU,Dte]=Wn(Iy),[BU,zU]=VU(Iy),fk=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:s,checked:a,defaultChecked:o,required:i,disabled:l,value:d="on",onCheckedChange:c,form:u,...m}=e,[h,f]=p.useState(null),j=Te(t,N=>f(N)),x=p.useRef(!1),w=h?u||!!h.closest("form"):!0,[v=!1,g]=Vr({prop:a,defaultProp:o,onChange:c}),y=p.useRef(v);return p.useEffect(()=>{const N=h==null?void 0:h.form;if(N){const b=()=>g(y.current);return N.addEventListener("reset",b),()=>N.removeEventListener("reset",b)}},[h,g]),n.jsxs(BU,{scope:r,state:v,disabled:l,children:[n.jsx(Ce.button,{type:"button",role:"checkbox","aria-checked":ca(v)?"mixed":v,"aria-required":i,"data-state":vk(v),"data-disabled":l?"":void 0,disabled:l,value:d,...m,ref:j,onKeyDown:he(e.onKeyDown,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:he(e.onClick,N=>{g(b=>ca(b)?!0:!b),w&&(x.current=N.isPropagationStopped(),x.current||N.stopPropagation())})}),w&&n.jsx(qU,{control:h,bubbles:!x.current,name:s,value:d,checked:v,required:i,disabled:l,form:u,style:{transform:"translateX(-100%)"},defaultChecked:ca(o)?!1:o})]})});fk.displayName=Iy;var xk="CheckboxIndicator",gk=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:s,...a}=e,o=zU(xk,r);return n.jsx(Ot,{present:s||ca(o.state)||o.state===!0,children:n.jsx(Ce.span,{"data-state":vk(o.state),"data-disabled":o.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});gk.displayName=xk;var qU=e=>{const{control:t,checked:r,bubbles:s=!0,defaultChecked:a,...o}=e,i=p.useRef(null),l=_y(r),d=ly(t);p.useEffect(()=>{const u=i.current,m=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(m,"checked").set;if(l!==r&&f){const j=new Event("click",{bubbles:s});u.indeterminate=ca(r),f.call(u,ca(r)?!1:r),u.dispatchEvent(j)}},[l,r,s]);const c=p.useRef(ca(r)?!1:r);return n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??c.current,...o,tabIndex:-1,ref:i,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ca(e){return e==="indeterminate"}function vk(e){return ca(e)?"indeterminate":e?"checked":"unchecked"}var yk=fk,WU=gk;const Ie=p.forwardRef(({className:e,...t},r)=>n.jsx(yk,{ref:r,className:de("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:n.jsx(WU,{className:de("flex items-center justify-center text-current"),children:n.jsx(id,{className:"h-4 w-4"})})}));Ie.displayName=yk.displayName;const jk=e=>{try{const t=JSON.parse(e);return jg(t)}catch{return null}},jg=e=>{if(Array.isArray(e))return e.length>0?["array",jg(e[0])]:"array";if(e!==null&&typeof e=="object"){const t={};for(const[r,s]of Object.entries(e))t[r]=jg(s);return t}else return typeof e},wk=e=>{try{const r=new DOMParser().parseFromString(e,"text/xml");if(r.querySelector("parsererror"))return null;const a={};return r.querySelectorAll("complexType, xs\\:complexType").forEach((i,l)=>{const d=i.getAttribute("name")||`ComplexType${l+1}`,c={};i.querySelectorAll("element, xs\\:element").forEach(m=>{const h=m.getAttribute("name"),f=m.getAttribute("type")||"string";h&&(c[h]=f.replace(/^(xs:|xsd:)/,""))}),Object.keys(c).length>0&&(a[d]=c)}),Object.keys(a).length===0&&r.querySelectorAll("element, xs\\:element").forEach(l=>{const d=l.getAttribute("name"),c=l.getAttribute("type")||"string";d&&(a[d]=c.replace(/^(xs:|xsd:)/,""))}),Object.keys(a).length>0?a:null}catch{return null}},YU=e=>{try{const r=new DOMParser().parseFromString(e,"text/xml");if(r.querySelector("parsererror"))return null;const a=r.querySelectorAll("part, wsdl\\:part");return a.length>0?a[0].getAttribute("name"):null}catch{return null}},KU=e=>{try{const r=new DOMParser().parseFromString(e,"text/xml");if(r.querySelector("parsererror"))return null;const a=r.documentElement,o=a.getAttribute("targetNamespace")||"",i=r.querySelectorAll("address, soap\\:address, soap12\\:address");let l="";i.length>0&&(l=i[0].getAttribute("location")||"");let d="";for(let c=0;c<a.attributes.length;c++){const u=a.attributes[c];if(u.name.startsWith("xmlns:")&&u.value===o){d=u.name.replace("xmlns:","");break}}return{uri:o,prefix:d,targetNamespace:o,schemaLocation:l}}catch{return null}},Ly=e=>{const t={};return e.forEach(r=>{r.children&&r.children.length>0?t[r.name]=Ly(r.children):t[r.name]=r.type}),t},vf=[{id:"1",name:"Business Component Order",type:"json",description:"Standard businessComponent order structure",structure:{orderId:"string",businessComponentId:"string",items:"array",totalAmount:"decimal",orderDate:"datetime"},createdAt:"2024-01-15",usage:"source"},{id:"2",name:"Payment Response",type:"soap",description:"Payment gateway response format",structure:{transactionId:"string",status:"string",amount:"decimal",currency:"string"},createdAt:"2024-01-10",usage:"target"},{id:"3",name:"Business Component Profile",type:"json",description:"Detailed businessComponent profile with nested address information",structure:{businessComponent:{id:"string",firstName:"string",lastName:"string",email:"string",phone:"string",dateOfBirth:"date",address:{street:"string",city:"string",state:"string",zipCode:"string",country:"string"},preferences:{newsletter:"boolean",smsNotifications:"boolean",language:"string"}}},createdAt:"2024-01-12",usage:"source"},{id:"4",name:"Product Catalog",type:"json",description:"Product information with categories and pricing",structure:{products:{id:"string",name:"string",description:"string",category:{id:"string",name:"string",parentCategory:"string"},pricing:{basePrice:"decimal",currency:"string",discountPercentage:"decimal",taxRate:"decimal"},inventory:{quantity:"integer",warehouse:"string",lastUpdated:"datetime"},specifications:{weight:"decimal",dimensions:{length:"decimal",width:"decimal",height:"decimal"},color:"string",material:"string"}}},createdAt:"2024-01-08",usage:"source"},{id:"5",name:"Invoice Data",type:"xsd",description:"Standard invoice format for accounting systems",structure:{invoice:{header:{invoiceNumber:"string",invoiceDate:"date",dueDate:"date",currency:"string"},vendor:{vendorId:"string",companyName:"string",address:{street:"string",city:"string",postalCode:"string",country:"string"},taxId:"string"},businessComponent:{businessComponentId:"string",companyName:"string",contactPerson:"string",address:{street:"string",city:"string",postalCode:"string",country:"string"}},lineItems:{item:{lineNumber:"integer",productId:"string",description:"string",quantity:"decimal",unitPrice:"decimal",taxAmount:"decimal",lineTotal:"decimal"}},totals:{subtotal:"decimal",totalTax:"decimal",totalAmount:"decimal"}}},createdAt:"2024-01-05",usage:"target"},{id:"6",name:"Sales Report",type:"json",description:"Comprehensive sales reporting structure",structure:{report:{metadata:{reportId:"string",generatedAt:"datetime",period:{startDate:"date",endDate:"date"},reportType:"string"},summary:{totalSales:"decimal",totalOrders:"integer",averageOrderValue:"decimal",topProducts:{productId:"string",productName:"string",salesCount:"integer",revenue:"decimal"}},salesData:{daily:{date:"date",orders:"integer",revenue:"decimal",customers:"integer"},byRegion:{region:"string",orders:"integer",revenue:"decimal",growthRate:"decimal"}}}},createdAt:"2024-01-03",usage:"target"},{id:"7",name:"Employee Record",type:"custom",description:"HR system employee data structure",structure:{employee:{personalInfo:{employeeId:"string",firstName:"string",lastName:"string",middleName:"string",dateOfBirth:"date",ssn:"string",address:{home:{street:"string",city:"string",state:"string",zipCode:"string"},mailing:{street:"string",city:"string",state:"string",zipCode:"string"}}},employment:{hireDate:"date",department:"string",position:"string",manager:"string",salary:{amount:"decimal",currency:"string",payFrequency:"string"},benefits:{healthInsurance:"boolean",dentalInsurance:"boolean",retirement401k:"boolean",vacationDays:"integer"}}}},createdAt:"2024-01-01",usage:"source"}],xl=()=>{const[e,t]=p.useState([]),[r,s]=p.useState(null),[a,o]=p.useState(!1),{toast:i}=Qe();p.useEffect(()=>{l()},[]);const l=async()=>{try{o(!0),console.log("Loading data structures from backend...");const m=await Kl.getStructures();if(m.success&&m.data){console.log("API structures loaded:",m.data.structures||m.data);const h=m.data.structures||m.data||[];h.length===0?(console.log("API returned empty data, using sample data as fallback"),t(vf)):t(h)}else console.log("API failed, using sample data as fallback"),t(vf)}catch(m){console.error("Error loading structures, using sample data:",m),t(vf)}finally{o(!1)}};return{structures:e,selectedStructure:r,setSelectedStructure:s,saveStructure:async(m,h,f,j,x,w,v,g,y,N)=>{if(!m)return i({title:"Validation Error",description:"Please provide a structure name",variant:"destructive"}),!1;let b={};if(j)b=jk(j);else if(v)b=wk(v);else if(x)b={message:"XSD parsing not fully implemented yet"};else if(w)b={message:"EDMX parsing not fully implemented yet"};else if(g.length>0)b=Ly(g);else return i({title:"Validation Error",description:"Please define a structure using JSON, XSD, EDMX, WSDL, or custom fields",variant:"destructive"}),!1;const E={name:m,type:j?"json":v?"wsdl":x?"xsd":"custom",description:h,usage:f,structure:b,namespace:(y==="xsd"||y==="wsdl"||y==="edmx")&&N.uri?N:void 0};try{console.log("Saving structure to backend:",E);const S=await Kl.createStructure(E);return S.success&&S.data?(console.log("Structure saved successfully:",S.data),await l(),i({title:"Structure Saved",description:`Data structure "${m}" has been created successfully`}),!0):(console.error("Failed to save structure:",S.error),i({title:"Save Failed",description:"Failed to save data structure to the backend",variant:"destructive"}),!1)}catch(S){return console.error("Error saving structure:",S),i({title:"Save Error",description:"An error occurred while saving the data structure",variant:"destructive"}),!1}},deleteStructure:async m=>{try{console.log("Deleting structure:",m);const h=await Kl.deleteStructure(m);h.success?(console.log("Structure deleted successfully"),await l(),(r==null?void 0:r.id)===m&&s(null),i({title:"Structure Deleted",description:"Data structure has been removed"})):(console.error("Failed to delete structure:",h.error),i({title:"Delete Failed",description:"Failed to delete data structure",variant:"destructive"}))}catch(h){console.error("Error deleting structure:",h),i({title:"Delete Error",description:"An error occurred while deleting the data structure",variant:"destructive"})}},duplicateStructure:async m=>{try{console.log("Duplicating structure:",m.name);const h=await Kl.cloneStructure(m.id,`${m.name} (Copy)`);h.success&&h.data?(console.log("Structure duplicated successfully:",h.data),await l(),i({title:"Structure Duplicated",description:`Created copy of "${m.name}"`})):(console.error("Failed to duplicate structure:",h.error),i({title:"Duplicate Failed",description:"Failed to duplicate data structure",variant:"destructive"}))}catch(h){console.error("Error duplicating structure:",h),i({title:"Duplicate Error",description:"An error occurred while duplicating the data structure",variant:"destructive"})}},loading:a,refreshStructures:l}};function Nk({fields:e,mappings:t,side:r,selectedField:s,onToggleExpanded:a,onDragStart:o,onDragEnd:i,onDragOver:l,onDrop:d,onSelectField:c}){const u=p.useCallback((m,h)=>{const f=!m.children||m.children.length===0,j=t.some(w=>r==="source"?w.sourcePaths.includes(m.path):w.targetPath===m.path),x=(s==null?void 0:s.id)===m.id;return n.jsxs("div",{className:"w-full",children:[n.jsxs("div",{className:`flex items-center p-2 border rounded-md transition-colors ${x?"bg-primary/20 border-primary ring-1 ring-primary":j?"bg-primary/10 border-primary":"bg-background hover:bg-muted/50"} ${f&&r==="source"?"cursor-grab active:cursor-grabbing":""} ${f&&r==="target"?"border-dashed border-2 hover:border-primary cursor-pointer":""}`,style:{marginLeft:`${h*16}px`},draggable:f&&r==="source",onClick:()=>{f&&r==="target"&&c&&c(m)},onDragStart:w=>{f&&r==="source"&&o&&(w.dataTransfer.effectAllowed="copy",w.dataTransfer.setData("application/json",JSON.stringify(m)),o(m))},onDragEnd:w=>{f&&r==="source"&&i&&i()},onDragOver:f&&r==="target"?l:void 0,onDrop:w=>{f&&r==="target"&&(w.preventDefault(),w.stopPropagation(),d==null||d(m))},children:[!f&&n.jsx(W,{variant:"ghost",size:"sm",onClick:()=>a(m.id,r==="source"),className:"mr-2 h-auto w-auto p-1 hover:bg-muted rounded",children:m.expanded?n.jsx(pr,{className:"h-3 w-3"}):n.jsx(qn,{className:"h-3 w-3"})}),n.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[n.jsx("span",{className:"font-medium text-sm",children:m.name}),n.jsx(oe,{variant:"outline",className:"text-xs",children:m.type}),j&&n.jsx(GO,{className:"h-3 w-3 text-primary"})]}),r==="source"&&f&&n.jsx("span",{className:"text-xs text-muted-foreground",children:"Drag →"}),r==="target"&&f&&n.jsx("span",{className:"text-xs text-muted-foreground",children:"Drop here"})]}),!f&&m.expanded&&m.children&&n.jsx("div",{className:"ml-4",children:m.children.map(w=>u(w,h+1))})]},m.id)},[t,r,s,a,o,i,l,d,c]);return n.jsx("div",{className:"space-y-2",children:e.map(m=>u(m,0))})}var $y="Dialog",[bk,Sk]=Wn($y),[GU,br]=bk($y),Ck=e=>{const{__scopeDialog:t,children:r,open:s,defaultOpen:a,onOpenChange:o,modal:i=!0}=e,l=p.useRef(null),d=p.useRef(null),[c=!1,u]=Vr({prop:s,defaultProp:a,onChange:o});return n.jsx(GU,{scope:t,triggerRef:l,contentRef:d,contentId:hr(),titleId:hr(),descriptionId:hr(),open:c,onOpenChange:u,onOpenToggle:p.useCallback(()=>u(m=>!m),[u]),modal:i,children:r})};Ck.displayName=$y;var Ek="DialogTrigger",Pk=p.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=br(Ek,r),o=Te(t,a.triggerRef);return n.jsx(Ce.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Vy(a.open),...s,ref:o,onClick:he(e.onClick,a.onOpenToggle)})});Pk.displayName=Ek;var Uy="DialogPortal",[XU,kk]=bk(Uy,{forceMount:void 0}),Tk=e=>{const{__scopeDialog:t,forceMount:r,children:s,container:a}=e,o=br(Uy,t);return n.jsx(XU,{scope:t,forceMount:r,children:p.Children.map(s,i=>n.jsx(Ot,{present:r||o.open,children:n.jsx(sd,{asChild:!0,container:a,children:i})}))})};Tk.displayName=Uy;var Dh="DialogOverlay",Ak=p.forwardRef((e,t)=>{const r=kk(Dh,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,o=br(Dh,e.__scopeDialog);return o.modal?n.jsx(Ot,{present:s||o.open,children:n.jsx(QU,{...a,ref:t})}):null});Ak.displayName=Dh;var QU=p.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=br(Dh,r);return n.jsx(_m,{as:ma,allowPinchZoom:!0,shards:[a.contentRef],children:n.jsx(Ce.div,{"data-state":Vy(a.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),oo="DialogContent",Mk=p.forwardRef((e,t)=>{const r=kk(oo,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,o=br(oo,e.__scopeDialog);return n.jsx(Ot,{present:s||o.open,children:o.modal?n.jsx(JU,{...a,ref:t}):n.jsx(ZU,{...a,ref:t})})});Mk.displayName=oo;var JU=p.forwardRef((e,t)=>{const r=br(oo,e.__scopeDialog),s=p.useRef(null),a=Te(t,r.contentRef,s);return p.useEffect(()=>{const o=s.current;if(o)return hd(o)},[]),n.jsx(Dk,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:he(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:he(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:he(e.onFocusOutside,o=>o.preventDefault())})}),ZU=p.forwardRef((e,t)=>{const r=br(oo,e.__scopeDialog),s=p.useRef(!1),a=p.useRef(!1);return n.jsx(Dk,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(s.current||(l=r.triggerRef.current)==null||l.focus(),o.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:o=>{var d,c;(d=e.onInteractOutside)==null||d.call(e,o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=o.target;((c=r.triggerRef.current)==null?void 0:c.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),Dk=p.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o,...i}=e,l=br(oo,r),d=p.useRef(null),c=Te(t,d);return yy(),n.jsxs(n.Fragment,{children:[n.jsx(Tm,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:o,children:n.jsx(sl,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Vy(l.open),...i,ref:c,onDismiss:()=>l.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(tH,{titleId:l.titleId}),n.jsx(rH,{contentRef:d,descriptionId:l.descriptionId})]})]})}),Hy="DialogTitle",Rk=p.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=br(Hy,r);return n.jsx(Ce.h2,{id:a.titleId,...s,ref:t})});Rk.displayName=Hy;var Fk="DialogDescription",_k=p.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=br(Fk,r);return n.jsx(Ce.p,{id:a.descriptionId,...s,ref:t})});_k.displayName=Fk;var Ok="DialogClose",Ik=p.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=br(Ok,r);return n.jsx(Ce.button,{type:"button",...s,ref:t,onClick:he(e.onClick,()=>a.onOpenChange(!1))})});Ik.displayName=Ok;function Vy(e){return e?"open":"closed"}var Lk="DialogTitleWarning",[eH,$k]=Q_(Lk,{contentName:oo,titleName:Hy,docsSlug:"dialog"}),tH=({titleId:e})=>{const t=$k(Lk),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},nH="DialogDescriptionWarning",rH=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${$k(nH).contentName}}.`;return p.useEffect(()=>{var o;const a=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},Uk=Ck,Hk=Pk,Vk=Tk,By=Ak,zy=Mk,qy=Rk,Wy=_k,Yy=Ik;const wt=Uk,io=Hk,sH=Vk,Bk=p.forwardRef(({className:e,...t},r)=>n.jsx(By,{ref:r,className:de("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Bk.displayName=By.displayName;const xt=p.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(sH,{children:[n.jsx(Bk,{}),n.jsxs(zy,{ref:s,className:de("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,n.jsxs(Yy,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(ut,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));xt.displayName=zy.displayName;const Nt=({className:e,...t})=>n.jsx("div",{className:de("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Nt.displayName="DialogHeader";const Hm=({className:e,...t})=>n.jsx("div",{className:de("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Hm.displayName="DialogFooter";const bt=p.forwardRef(({className:e,...t},r)=>n.jsx(qy,{ref:r,className:de("text-lg font-semibold leading-none tracking-tight",e),...t}));bt.displayName=qy.displayName;const va=p.forwardRef(({className:e,...t},r)=>n.jsx(Wy,{ref:r,className:de("text-sm text-muted-foreground",e),...t}));va.displayName=Wy.displayName;function zk({isOpen:e,onOpenChange:t,selectedService:r,onSelectService:s,title:a,usage:o,businessComponentId:i}){var c;const{structures:l}=xl(),d=l.filter(u=>{const m=u.usage===o,h=!i||u.businessComponentId===i;return m&&h});return n.jsxs(wt,{open:e,onOpenChange:t,children:[n.jsx(io,{asChild:!0,children:n.jsxs(W,{variant:"outline",size:"sm",children:[n.jsx(nt,{className:"h-4 w-4 mr-2"}),"Select"]})}),n.jsxs(xt,{className:"max-w-2xl",children:[n.jsx(Nt,{children:n.jsx(bt,{children:a})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Select Data Structure"}),n.jsxs(Z,{onValueChange:s,value:r,children:[n.jsx(Q,{className:"w-full",children:n.jsx(ee,{placeholder:"Choose a data structure..."})}),n.jsx(J,{className:"bg-background border shadow-lg z-50",children:d.map(u=>n.jsx(A,{value:u.name,children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-medium",children:u.name}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[u.type.toUpperCase()," • ",u.description||"No description"]})]})},u.id))})]})]}),d.length===0&&n.jsx("div",{className:"border rounded-md p-3 space-y-2",children:n.jsxs("div",{className:"text-sm text-muted-foreground",children:["No data structures found for ",o," usage. Please create data structures on the Data Structures page first."]})}),r&&n.jsxs("div",{className:"border rounded-md p-3 space-y-2 bg-muted/20",children:[n.jsx("div",{className:"text-sm font-medium",children:"Selected Structure"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:((c=d.find(u=>u.name===r))==null?void 0:c.description)||r})]})]})]})]})}function aH({fields:e,mappings:t,selectedService:r,searchValue:s,showSelector:a,onSearchChange:o,onShowSelectorChange:i,onSelectService:l,onToggleExpanded:d,onDragStart:c,onDragEnd:u}){return n.jsxs("div",{className:"w-1/3 border-r bg-muted/20 animate-fade-in",children:[n.jsxs("div",{className:"p-4 border-b bg-background",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx(C,{className:"font-semibold",children:"Source Message"}),n.jsx(zk,{isOpen:a,onOpenChange:i,selectedService:r,onSelectService:l,title:"Select Source Message",usage:"source"})]}),n.jsx("div",{className:"text-sm text-muted-foreground mb-3 p-2 bg-background border rounded",children:r||"No source selected"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ur,{className:"h-4 w-4 absolute left-3 top-3 text-muted-foreground"}),n.jsx(O,{placeholder:"Search source fields...",value:s,onChange:m=>o(m.target.value),className:"pl-10"})]})]}),n.jsx("div",{className:"p-4 h-[calc(100%-140px)] overflow-y-auto",children:e.length===0?n.jsx(or,{children:n.jsx(ir,{children:"Select a source data structure to view fields"})}):n.jsx(Nk,{fields:e,mappings:t,side:"source",onToggleExpanded:d,onDragStart:c,onDragEnd:u})})]})}function oH({fields:e,mappings:t,selectedService:r,searchValue:s,showSelector:a,selectedField:o,onSearchChange:i,onShowSelectorChange:l,onSelectService:d,onToggleExpanded:c,onDragOver:u,onDrop:m,onSelectField:h}){return n.jsxs("div",{className:"w-1/3 border-l bg-muted/20 animate-fade-in",children:[n.jsxs("div",{className:"p-4 border-b bg-background",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx(C,{className:"font-semibold",children:"Target Message"}),n.jsx(zk,{isOpen:a,onOpenChange:l,selectedService:r,onSelectService:d,title:"Select Target Message",usage:"target"})]}),n.jsx("div",{className:"text-sm text-muted-foreground mb-3 p-2 bg-background border rounded",children:r||"No target selected"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ur,{className:"h-4 w-4 absolute left-3 top-3 text-muted-foreground"}),n.jsx(O,{placeholder:"Search target fields...",value:s,onChange:f=>i(f.target.value),className:"pl-10"})]})]}),n.jsx("div",{className:"p-4 h-[calc(100%-140px)] overflow-y-auto",children:e.length===0?n.jsx(or,{children:n.jsx(ir,{children:"Select a target data structure to view fields"})}):n.jsx(Nk,{fields:e,mappings:t,side:"target",selectedField:o,onToggleExpanded:c,onDragOver:u,onDrop:m,onSelectField:h})})]})}const qk=[{name:"add",category:"math",description:"Add two numbers",parameters:[{name:"a",type:"number",required:!0,description:"First number"},{name:"b",type:"number",required:!0,description:"Second number"}],execute:(e,t)=>e+t,javaTemplate:"add({0}, {1})"},{name:"subtract",category:"math",description:"Subtract two numbers",parameters:[{name:"a",type:"number",required:!0,description:"First number"},{name:"b",type:"number",required:!0,description:"Second number"}],execute:(e,t)=>e-t,javaTemplate:"subtract({0}, {1})"},{name:"multiply",category:"math",description:"Multiply two numbers",parameters:[{name:"a",type:"number",required:!0},{name:"b",type:"number",required:!0}],execute:(e,t)=>e*t,javaTemplate:"multiply({0}, {1})"},{name:"divide",category:"math",description:"Divide two numbers",parameters:[{name:"a",type:"number",required:!0},{name:"b",type:"number",required:!0}],execute:(e,t)=>e/t,javaTemplate:"divide({0}, {1})"},{name:"equals",category:"math",description:"Check if two numbers are equal",parameters:[{name:"a",type:"number",required:!0},{name:"b",type:"number",required:!0}],execute:(e,t)=>e===t,javaTemplate:"equals({0}, {1})"},{name:"absolute",category:"math",description:"Get absolute value of a number",parameters:[{name:"value",type:"number",required:!0}],execute:e=>Math.abs(e),javaTemplate:"absolute({0})"},{name:"sqrt",category:"math",description:"Get square root of a number",parameters:[{name:"value",type:"number",required:!0}],execute:e=>Math.sqrt(e),javaTemplate:"sqrt({0})"},{name:"square",category:"math",description:"Square a number",parameters:[{name:"value",type:"number",required:!0}],execute:e=>e*e,javaTemplate:"square({0})"},{name:"sign",category:"math",description:"Get sign of a number (-1, 0, or 1)",parameters:[{name:"value",type:"number",required:!0}],execute:e=>Math.sign(e),javaTemplate:"sign({0})"},{name:"neg",category:"math",description:"Negate a number",parameters:[{name:"value",type:"number",required:!0}],execute:e=>-e,javaTemplate:"neg({0})"},{name:"inv",category:"math",description:"Get inverse of a number (1/x)",parameters:[{name:"value",type:"number",required:!0}],execute:e=>1/e,javaTemplate:"inv({0})"},{name:"power",category:"math",description:"Raise number to power",parameters:[{name:"base",type:"number",required:!0},{name:"exponent",type:"number",required:!0}],execute:(e,t)=>Math.pow(e,t),javaTemplate:"power({0}, {1})"},{name:"lesser",category:"math",description:"Check if first number is less than second",parameters:[{name:"a",type:"number",required:!0},{name:"b",type:"number",required:!0}],execute:(e,t)=>e<t,javaTemplate:"lesser({0}, {1})"},{name:"greater",category:"math",description:"Check if first number is greater than second",parameters:[{name:"a",type:"number",required:!0},{name:"b",type:"number",required:!0}],execute:(e,t)=>e>t,javaTemplate:"greater({0}, {1})"},{name:"max",category:"math",description:"Get maximum of two numbers",parameters:[{name:"a",type:"number",required:!0},{name:"b",type:"number",required:!0}],execute:(e,t)=>Math.max(e,t),javaTemplate:"max({0}, {1})"},{name:"min",category:"math",description:"Get minimum of two numbers",parameters:[{name:"a",type:"number",required:!0},{name:"b",type:"number",required:!0}],execute:(e,t)=>Math.min(e,t),javaTemplate:"min({0}, {1})"},{name:"ceil",category:"math",description:"Round number up to nearest integer",parameters:[{name:"value",type:"number",required:!0}],execute:e=>Math.ceil(e),javaTemplate:"ceil({0})"},{name:"floor",category:"math",description:"Round number down to nearest integer",parameters:[{name:"value",type:"number",required:!0}],execute:e=>Math.floor(e),javaTemplate:"floor({0})"},{name:"round",category:"math",description:"Round number to nearest integer",parameters:[{name:"value",type:"number",required:!0}],execute:e=>Math.round(e),javaTemplate:"round({0})"},{name:"counter",category:"math",description:"Generate incremental counter",parameters:[{name:"start",type:"number",required:!1,description:"Starting value"},{name:"step",type:"number",required:!1,description:"Increment step"}],execute:(e=1,t=1)=>e+t,javaTemplate:"counter({0}, {1})"},{name:"formatNumber",category:"math",description:"Format number with specified total digits and decimal places",parameters:[{name:"value",type:"number",required:!0,description:"Number to format"},{name:"totalDigits",type:"number",required:!0,description:"Total number of digits required (adds trailing zeros)"},{name:"decimals",type:"number",required:!1,description:"Number of decimal places"}],execute:(e,t,r=2)=>Number(e.toFixed(r)).toString().padStart(t,"0"),javaTemplate:"formatNumber({0}, {1}, {2})"},{name:"sum",category:"math",description:"Sum multiple numbers",parameters:[{name:"values",type:"array",required:!0,description:"Array of numbers to sum"}],execute:e=>e.reduce((t,r)=>t+r,0),javaTemplate:"sum({0})"},{name:"average",category:"math",description:"Calculate average of numbers",parameters:[{name:"values",type:"array",required:!0,description:"Array of numbers"}],execute:e=>e.reduce((t,r)=>t+r,0)/e.length,javaTemplate:"average({0})"},{name:"count",category:"math",description:"Count elements in array",parameters:[{name:"values",type:"array",required:!0,description:"Array to count"}],execute:e=>e.length,javaTemplate:"count({0})"},{name:"index",category:"math",description:"Get current index in iteration",parameters:[{name:"position",type:"number",required:!0,description:"Current position"}],execute:e=>e,javaTemplate:"index({0})"}],Wk=[{name:"concat",category:"text",description:"Concatenate two strings with optional delimiter",parameters:[{name:"string1",type:"string",required:!0,description:"First string to concatenate"},{name:"string2",type:"string",required:!0,description:"Second string to concatenate"},{name:"delimiter",type:"string",required:!1,description:"Optional delimiter between strings"}],execute:(e,t,r)=>r?e+r+t:e+t,javaTemplate:"concat({0}, {1}, {2})"},{name:"substring",category:"text",description:"Extract substring from text",parameters:[{name:"text",type:"string",required:!0},{name:"start",type:"number",required:!0},{name:"end",type:"number",required:!1}],execute:(e,t,r)=>e.substring(t,r),javaTemplate:"substring({0}, {1}, {2})"},{name:"equals",category:"text",description:"Check if two strings are equal",parameters:[{name:"string1",type:"string",required:!0},{name:"string2",type:"string",required:!0}],execute:(e,t)=>e===t,javaTemplate:"equals({0}, {1})"},{name:"indexOf",category:"text",description:"Find index of substring",parameters:[{name:"text",type:"string",required:!0},{name:"searchValue",type:"string",required:!0}],execute:(e,t)=>e.indexOf(t),javaTemplate:"indexOf({0}, {1})"},{name:"lastIndexOf",category:"text",description:"Find last index of substring",parameters:[{name:"text",type:"string",required:!0},{name:"searchValue",type:"string",required:!0}],execute:(e,t)=>e.lastIndexOf(t),javaTemplate:"lastIndexOf({0}, {1})"},{name:"compare",category:"text",description:"Compare two strings lexicographically",parameters:[{name:"string1",type:"string",required:!0},{name:"string2",type:"string",required:!0}],execute:(e,t)=>e.localeCompare(t),javaTemplate:"compare({0}, {1})"},{name:"replaceString",category:"text",description:"Replace substring in text",parameters:[{name:"text",type:"string",required:!0},{name:"searchValue",type:"string",required:!0},{name:"replaceValue",type:"string",required:!0}],execute:(e,t,r)=>e.replace(t,r),javaTemplate:"replaceString({0}, {1}, {2})"},{name:"length",category:"text",description:"Get length of string",parameters:[{name:"text",type:"string",required:!0}],execute:e=>e.length,javaTemplate:"length({0})"},{name:"endsWith",category:"text",description:"Check if string ends with specified suffix",parameters:[{name:"text",type:"string",required:!0},{name:"suffix",type:"string",required:!0}],execute:(e,t)=>e.endsWith(t),javaTemplate:"endsWith({0}, {1})"},{name:"startsWith",category:"text",description:"Check if string starts with specified prefix",parameters:[{name:"text",type:"string",required:!0},{name:"prefix",type:"string",required:!0}],execute:(e,t)=>e.startsWith(t),javaTemplate:"startsWith({0}, {1})"},{name:"toUpperCase",category:"text",description:"Convert text to uppercase",parameters:[{name:"text",type:"string",required:!0}],execute:e=>e.toUpperCase(),javaTemplate:"toUpperCase({0})"},{name:"toLowerCase",category:"text",description:"Convert text to lowercase",parameters:[{name:"text",type:"string",required:!0}],execute:e=>e.toLowerCase(),javaTemplate:"toLowerCase({0})"},{name:"trim",category:"text",description:"Remove whitespace from both ends",parameters:[{name:"text",type:"string",required:!0}],execute:e=>e.trim(),javaTemplate:"trim({0})"}],Yk=[{name:"and",category:"boolean",description:"Logical AND operation",parameters:[{name:"a",type:"boolean",required:!0},{name:"b",type:"boolean",required:!0}],execute:(e,t)=>e&&t,javaTemplate:"and({0}, {1})"},{name:"or",category:"boolean",description:"Logical OR operation",parameters:[{name:"a",type:"boolean",required:!0},{name:"b",type:"boolean",required:!0}],execute:(e,t)=>e||t,javaTemplate:"or({0}, {1})"},{name:"not",category:"boolean",description:"Logical NOT operation",parameters:[{name:"value",type:"boolean",required:!0}],execute:e=>!e,javaTemplate:"not({0})"},{name:"equals",category:"boolean",description:"Check if two boolean values are equal",parameters:[{name:"a",type:"boolean",required:!0},{name:"b",type:"boolean",required:!0}],execute:(e,t)=>e===t,javaTemplate:"equals({0}, {1})"},{name:"notEquals",category:"boolean",description:"Check if two values are not equal",parameters:[{name:"a",type:"string",required:!0},{name:"b",type:"string",required:!0}],execute:(e,t)=>e!==t,javaTemplate:"notEquals({0}, {1})"},{name:"if",category:"boolean",description:"Conditional logic with true/false branches",parameters:[{name:"condition",type:"boolean",required:!0},{name:"trueValue",type:"string",required:!0},{name:"falseValue",type:"string",required:!0}],execute:(e,t,r)=>e?t:r,javaTemplate:"if({0}, {1}, {2})"},{name:"ifWithoutElse",category:"boolean",description:"Conditional logic without else branch",parameters:[{name:"condition",type:"boolean",required:!0},{name:"trueValue",type:"string",required:!0}],execute:(e,t)=>e?t:null,javaTemplate:"ifWithoutElse({0}, {1})"},{name:"isNil",category:"boolean",description:"Check if value is null or undefined",parameters:[{name:"value",type:"string",required:!0}],execute:e=>e==null,javaTemplate:"isNil({0})"}],Kk=[{name:"fixValues",category:"conversion",description:"Fix and validate values according to specified format",parameters:[{name:"value",type:"string",required:!0,description:"Value to fix"},{name:"format",type:"string",required:!0,description:"Target format"}],execute:(e,t)=>e,javaTemplate:"fixValues({0}, {1})"}],Gk=[{name:"currentDate",category:"date",description:"Get current date",parameters:[{name:"format",type:"string",required:!1,description:"Date format (optional)"}],execute:e=>new Date().toISOString(),javaTemplate:"currentDate({0})"},{name:"dateTrans",category:"date",description:"Transform date format",parameters:[{name:"date",type:"string",required:!0,description:"Input date"},{name:"fromFormat",type:"string",required:!0,description:"Input date format"},{name:"toFormat",type:"string",required:!0,description:"Output date format"},{name:"firstWeekday",type:"string",required:!1,description:"First day of week (Sunday, Monday, etc.)"},{name:"minDays",type:"number",required:!1,description:"Minimum days in first week"},{name:"lenient",type:"boolean",required:!1,description:"Enable lenient parsing"}],execute:(e,t,r,s,a,o)=>e,javaTemplate:"dateTrans({0}, {1}, {2}, {3}, {4}, {5})"},{name:"dateBefore",category:"date",description:"Check if first date is before second date",parameters:[{name:"date1",type:"string",required:!0},{name:"date2",type:"string",required:!0}],execute:(e,t)=>new Date(e)<new Date(t),javaTemplate:"dateBefore({0}, {1})"},{name:"dateAfter",category:"date",description:"Check if first date is after second date",parameters:[{name:"date1",type:"string",required:!0},{name:"date2",type:"string",required:!0}],execute:(e,t)=>new Date(e)>new Date(t),javaTemplate:"dateAfter({0}, {1})"},{name:"compareDates",category:"date",description:"Compare two dates (-1, 0, 1)",parameters:[{name:"date1",type:"string",required:!0},{name:"date2",type:"string",required:!0}],execute:(e,t)=>{const r=new Date(e),s=new Date(t);return r<s?-1:r>s?1:0},javaTemplate:"compareDates({0}, {1})"}],Xk=[{name:"createIf",category:"node",description:"Create conditional node structure",parameters:[{name:"condition",type:"boolean",required:!0},{name:"value",type:"string",required:!0}],execute:(e,t)=>e?t:null,javaTemplate:"createIf({0}, {1})"},{name:"removeContexts",category:"node",description:"Remove context from node structure",parameters:[{name:"node",type:"string",required:!0}],execute:e=>e,javaTemplate:"removeContexts({0})"},{name:"replaceValue",category:"node",description:"Replace value in node structure",parameters:[{name:"node",type:"string",required:!0},{name:"oldValue",type:"string",required:!0},{name:"newValue",type:"string",required:!0}],execute:(e,t,r)=>e.replace(t,r),javaTemplate:"replaceValue({0}, {1}, {2})"},{name:"exists",category:"node",description:"Check if node exists",parameters:[{name:"node",type:"string",required:!0}],execute:e=>e!=null&&e!=="",javaTemplate:"exists({0})"},{name:"getHeader",category:"node",description:"Get header value from message",parameters:[{name:"headerName",type:"string",required:!0}],execute:e=>`header_${e}`,javaTemplate:"getHeader({0})"},{name:"getProperty",category:"node",description:"Get property value",parameters:[{name:"propertyName",type:"string",required:!0}],execute:e=>`property_${e}`,javaTemplate:"getProperty({0})"},{name:"splitByValue",category:"node",description:"Split node by delimiter",parameters:[{name:"value",type:"string",required:!0},{name:"delimiter",type:"string",required:!0}],execute:(e,t)=>e.split(t),javaTemplate:"splitByValue({0}, {1})"},{name:"collapseContexts",category:"node",description:"Collapse multiple contexts into one",parameters:[{name:"contexts",type:"array",required:!0}],execute:e=>e.join(""),javaTemplate:"collapseContexts({0})"},{name:"useOneAsMany",category:"node",description:"Replicate a field that occurs once to pair with fields that occur multiple times",parameters:[{name:"singleField",type:"string",required:!0,description:"Field that occurs 1..1 (once)"},{name:"countField",type:"string",required:!0,description:"Field that determines replication count"},{name:"multipleField",type:"string",required:!0,description:"Field that occurs multiple times and provides context"}],execute:(e,t,r)=>[e],javaTemplate:"useOneAsMany({0}, {1}, {2})"},{name:"sort",category:"node",description:"Sort array of values",parameters:[{name:"values",type:"array",required:!0}],execute:e=>[...e].sort(),javaTemplate:"sort({0})"},{name:"sortByKey",category:"node",description:"Sort array by specific key",parameters:[{name:"values",type:"array",required:!0},{name:"key",type:"string",required:!0}],execute:(e,t)=>[...e].sort((r,s)=>r[t]-s[t]),javaTemplate:"sortByKey({0}, {1})"},{name:"mapWithDefault",category:"node",description:"Map value with default fallback",parameters:[{name:"value",type:"string",required:!0},{name:"defaultValue",type:"string",required:!0}],execute:(e,t)=>e||t,javaTemplate:"mapWithDefault({0}, {1})"},{name:"formatByExample",category:"node",description:"Format value using example pattern",parameters:[{name:"value",type:"string",required:!0},{name:"example",type:"string",required:!0}],execute:(e,t)=>e,javaTemplate:"formatByExample({0}, {1})"}],Qk=[{name:"constant",category:"constants",description:"Set a fixed value",parameters:[{name:"value",type:"string",required:!0,description:"The constant value to return"}],execute:e=>e,javaTemplate:'constant("{0}")'}],Ky=[...qk,...Wk,...Yk,...Kk,...Gk,...Xk,...Qk],Ui={math:qk,text:Wk,boolean:Yk,conversion:Kk,date:Gk,node:Xk,constants:Qk},wg=e=>Ky.find(t=>t.name===e);class hN{static getAllFunctions(){return Ky}static getFunctionsByCategory(t){return Ui[t]||[]}static executeFunction(t,r){const s=wg(t);if(!s)throw new Error(`Function ${t} not found`);return s.execute(...r)}static validateParameters(t,r){const s=wg(t);if(!s)return{valid:!1,errors:[`Function ${t} not found`]};const a=[],o=s.parameters.filter(i=>i.required);return r.length<o.length&&a.push(`Function ${t} requires ${o.length} parameters, got ${r.length}`),{valid:a.length===0,errors:a}}}const iH=({open:e,onClose:t,selectedFunction:r,sourceFields:s,targetField:a,onApplyMapping:o})=>{const i=p.useRef(null),l=p.useRef(null),[d,c]=p.useState({id:"function_modal",functionName:r,parameters:{},sourceConnections:{},position:{x:0,y:0}}),[u,m]=p.useState([]),[h,f]=p.useState({isDragging:!1,draggedItem:null,startPosition:{x:0,y:0},currentPosition:{x:0,y:0}}),[j,x]=p.useState(new Set),[w,v]=p.useState(!1),y=Object.values(Ui).flat().find(D=>D.name===r),N=p.useCallback((D,k)=>{k.preventDefault(),k.stopPropagation(),document.body.style.userSelect="none",document.body.style.webkitUserSelect="none",console.log("🎯 DRAG START - Field:",D.name,"Position:",{x:k.clientX,y:k.clientY}),console.log("🎯 DRAG START - Event target:",k.target),console.log("🎯 DRAG START - Event currentTarget:",k.currentTarget),f({isDragging:!0,draggedItem:D,startPosition:{x:k.clientX,y:k.clientY},currentPosition:{x:k.clientX,y:k.clientY}});const U=new Set;y==null||y.parameters.forEach(M=>{!M.name.toLowerCase().includes("delimiter")&&!M.name.toLowerCase().includes("separator")&&(U.add(`param-${d.id}-${M.name}`),console.log("🎯 DRAG START - Added drop target:",`param-${d.id}-${M.name}`))}),x(U),console.log("🎯 DRAG START - Total drop targets:",U.size)},[y,d.id]),b=p.useCallback(D=>{h.isDragging&&(console.log("🎯 DRAG MOVE - Position:",{x:D.clientX,y:D.clientY}),console.log("🎯 DRAG MOVE - Element under mouse:",document.elementFromPoint(D.clientX,D.clientY)),f(k=>({...k,currentPosition:{x:D.clientX,y:D.clientY}})))},[h.isDragging]),E=p.useCallback(D=>{if(console.log("🎯 DRAG END - Starting mouse up handler"),console.log("🎯 DRAG END - isDragging:",h.isDragging),console.log("🎯 DRAG END - draggedItem:",h.draggedItem),!h.isDragging||!h.draggedItem){console.log("🎯 DRAG END - Early return - no drag in progress");return}console.log("🎯 DRAG END - Position:",{x:D.clientX,y:D.clientY});const k=document.elementFromPoint(D.clientX,D.clientY);console.log("🎯 DRAG END - Element under mouse:",k),console.log("🎯 DRAG END - Element tag:",k==null?void 0:k.tagName),console.log("🎯 DRAG END - Element classes:",k==null?void 0:k.className),console.log("🎯 DRAG END - Element data-param:",k==null?void 0:k.getAttribute("data-param"));const U=k==null?void 0:k.closest("[data-param]");if(console.log("🎯 DRAG END - Drop zone found:",U),console.log("🎯 DRAG END - Drop zone data-param:",U==null?void 0:U.getAttribute("data-param")),U){const M=U.getAttribute("data-param");if(M){console.log("🎯 DRAG END - ✅ SUCCESS! Dropped on parameter:",M);const $=h.draggedItem;console.log("🎯 DRAG END - Source field:",$),c(L=>{const I={...L,sourceConnections:{...L.sourceConnections,[M]:[$.path]}};return console.log("🎯 DRAG END - Updated function node:",I),I}),setTimeout(()=>{console.log("🎯 DRAG END - Creating visual connection");const L=document.querySelector(`[data-field-id="${$.id}"]`),I=U;if(console.log("🎯 DRAG END - Source element found:",L),console.log("🎯 DRAG END - Target element found:",I),console.log("🎯 DRAG END - Canvas ref:",i.current),L&&I&&i.current){const F=i.current.getBoundingClientRect(),R=L.getBoundingClientRect(),V=I.getBoundingClientRect();console.log("🎯 DRAG END - Canvas rect:",F),console.log("🎯 DRAG END - Source rect:",R),console.log("🎯 DRAG END - Target rect:",V);const B={id:`connection_${Date.now()}`,sourceId:$.id,targetId:`${d.id}-${M}`,sourceX:R.right-F.left,sourceY:R.top+R.height/2-F.top,targetX:V.left-F.left,targetY:V.top+V.height/2-F.top};console.log("🎯 DRAG END - Connection created:",B),m(H=>{const q=[...H,B];return console.log("🎯 DRAG END - All connections:",q),q})}else console.log("🎯 DRAG END - ❌ Failed to create connection - missing elements")},100)}else console.log("🎯 DRAG END - ❌ No param name found on drop zone")}else console.log("🎯 DRAG END - ❌ No drop zone found");document.body.style.userSelect="",document.body.style.webkitUserSelect="",console.log("🎯 DRAG END - Resetting drag state"),f({isDragging:!1,draggedItem:null,startPosition:{x:0,y:0},currentPosition:{x:0,y:0}}),x(new Set),console.log("🎯 DRAG END - Complete!")},[h,d.id]);pe.useEffect(()=>{var D;if(console.log("🎯 DRAG STATE CHANGE - isDragging:",h.isDragging),console.log("🎯 DRAG STATE CHANGE - draggedItem:",(D=h.draggedItem)==null?void 0:D.name),h.isDragging)return console.log("🎯 DRAG STATE CHANGE - Adding global mouse listeners"),document.addEventListener("mousemove",b),document.addEventListener("mouseup",E),()=>{console.log("🎯 DRAG STATE CHANGE - Removing global mouse listeners"),document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",E)}},[h.isDragging,b,E]);const S=p.useCallback(D=>{if(!a)return;D.dataTransfer.setData("text/plain","function-output"),D.dataTransfer.effectAllowed="move";const k=new Set;k.add(`target-${a.id}`),x(k)},[a]),P=p.useCallback(()=>{f({isDragging:!1,draggedItem:null,startPosition:{x:0,y:0},currentPosition:{x:0,y:0}}),x(new Set)},[]);p.useCallback((D,k)=>{console.log("=== DROP EVENT ==="),console.log("Parameter:",D),console.log("Event type:",k.type),k.preventDefault(),k.stopPropagation();let U=k.dataTransfer.getData("application/json");const M=k.dataTransfer.getData("text/plain"),$=k.dataTransfer.getData("text/field-id");if(console.log("Drag data - JSON:",U),console.log("Drag data - Name:",M),console.log("Drag data - ID:",$),!U&&M){const I=s.find(F=>F.name===M);I&&(U=JSON.stringify(I))}if(!U){console.log("ERROR: No field data found in drag transfer");return}const L=JSON.parse(U);console.log("Parsed source field:",L),c(I=>({...I,sourceConnections:{...I.sourceConnections,[D]:[L.path]}})),setTimeout(()=>{const I=document.querySelector(`[data-field-id="${L.id}"]`),F=document.querySelector(`[data-param="${D}"]`);if(I&&F&&i.current){const R=i.current.getBoundingClientRect(),V=I.getBoundingClientRect(),B=F.getBoundingClientRect(),H={id:`connection_${Date.now()}`,sourceId:L.id,targetId:`${d.id}-${D}`,sourceX:V.right-R.left,sourceY:V.top+V.height/2-R.top,targetX:B.left-R.left,targetY:B.top+B.height/2-R.top};m(q=>[...q,H]),console.log("Connection created:",H)}},100),P(),console.log("=== DROP COMPLETE ===")},[d.id,P,s]);const _=p.useCallback(D=>{if(D.preventDefault(),D.dataTransfer.getData("text/plain")!=="function-output"||!a)return;v(!0);const U=document.querySelector('[data-function-output="true"]'),M=document.querySelector(`[data-target-field="${a.id}"]`);if(U&&M&&i.current){const $=i.current.getBoundingClientRect(),L=U.getBoundingClientRect(),I=M.getBoundingClientRect(),F={id:`connection_output_${Date.now()}`,sourceId:`${d.id}-output`,targetId:a.id,sourceX:L.right-$.left,sourceY:L.top+L.height/2-$.top,targetX:I.left-$.left,targetY:I.top+I.height/2-$.top};m(R=>[...R,F])}},[d.id,a]),T=p.useCallback(()=>{if(!y||!w||!a)return;const D=[],k=[];Object.values(d.sourceConnections).forEach(M=>{M.forEach($=>{k.push($),D.push($.split(".").pop()||$)})});const U={id:`mapping_${Date.now()}`,name:`${r}_to_${a.name}`,sourceFields:D,targetField:a.name,sourcePaths:k,targetPath:a.path,functionNode:{...d,id:`function_${Date.now()}`},requiresTransformation:!0};o(U),t()},[y,w,d,r,a,o,t]);return y?n.jsx(wt,{open:e,onOpenChange:t,children:n.jsxs(xt,{className:"max-w-6xl h-[80vh] p-0",children:[n.jsx(Nt,{className:"p-6 pb-0",children:n.jsxs(bt,{className:"flex items-center justify-between",children:[n.jsxs("span",{children:["Function Mapping: ",y.name]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(W,{onClick:T,disabled:!w||Object.keys(d.sourceConnections).length===0,className:"bg-primary text-primary-foreground",children:[n.jsx(id,{className:"h-4 w-4 mr-2"}),"Apply Function"]}),n.jsxs(W,{variant:"outline",onClick:t,className:"text-muted-foreground hover:text-foreground",children:[n.jsx(ut,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]})}),n.jsxs("div",{ref:i,className:"relative w-full flex-1 bg-background/50 overflow-hidden",children:[n.jsxs("svg",{ref:l,className:"absolute inset-0 w-full h-full pointer-events-none z-10",style:{overflow:"visible"},children:[n.jsx("defs",{children:n.jsx("marker",{id:"arrowhead-modal",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",markerUnits:"strokeWidth",children:n.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"hsl(var(--primary))"})})}),u.map(D=>n.jsx("path",{d:`M ${D.sourceX} ${D.sourceY} C ${D.sourceX+100} ${D.sourceY}, ${D.targetX-100} ${D.targetY}, ${D.targetX} ${D.targetY}`,stroke:"hsl(var(--primary))",strokeWidth:"2",fill:"none",markerEnd:"url(#arrowhead-modal)"},D.id))]}),n.jsxs("div",{className:"flex justify-between items-start px-4 pt-4 space-x-4",children:[n.jsx("div",{className:"w-72 h-60 overflow-y-auto",children:n.jsxs("div",{className:"bg-card border rounded-lg p-2 shadow-sm h-full",children:[n.jsx("h3",{className:"font-semibold text-sm mb-2 text-primary",children:"Source Fields"}),n.jsx("div",{className:"space-y-2",children:s.map(D=>{var k,U;return n.jsxs("div",{"data-field-id":D.id,className:de("bg-background border-2 rounded p-3 transition-all hover:shadow-lg hover:border-primary/50 select-none",h.isDragging&&((k=h.draggedItem)==null?void 0:k.id)===D.id&&"opacity-70 scale-95"),style:{cursor:h.isDragging&&((U=h.draggedItem)==null?void 0:U.id)===D.id?"grabbing":"grab"},onMouseDown:M=>{M.preventDefault(),N(D,M)},children:[n.jsx("div",{className:"font-medium text-sm pointer-events-none",children:D.name}),n.jsx("div",{className:"text-xs text-muted-foreground pointer-events-none",children:D.type})]},D.id)})})]})}),n.jsxs("div",{className:"bg-card border-2 border-primary/20 rounded-lg shadow-lg overflow-visible w-60",style:{zIndex:5},children:[n.jsxs("div",{className:"bg-primary text-primary-foreground p-2 rounded-t-lg",children:[n.jsx("div",{className:"font-medium text-sm",children:y.name}),n.jsx("div",{className:"text-xs opacity-80",children:y.description})]}),n.jsx("div",{className:"p-2 space-y-2",children:y.parameters.map(D=>{var k,U;return n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-xs",children:D.name}),n.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:D.type}),D.name.toLowerCase().includes("delimiter")||D.name.toLowerCase().includes("separator")?n.jsx(O,{placeholder:`Enter ${D.name}`,value:d.parameters[D.name]||"",onChange:M=>c($=>({...$,parameters:{...$.parameters,[D.name]:M.target.value}})),className:"h-8 text-xs"}):n.jsxs("div",{"data-param":D.name,className:de("border-2 border-dashed border-muted-foreground/30 rounded p-2 text-sm transition-colors min-h-10",j.has(`param-${d.id}-${D.name}`)&&"border-primary bg-primary/10","hover:border-primary/50"),children:[(k=d.sourceConnections[D.name])==null?void 0:k.map((M,$)=>n.jsx("div",{className:"text-xs bg-primary/10 text-primary rounded px-1 py-0.5 mt-1 inline-block mr-1",children:M.split(".").pop()},$)),!((U=d.sourceConnections[D.name])!=null&&U.length)&&n.jsx("div",{className:"text-xs text-muted-foreground italic",children:"Drop here"})]})]},D.name)})}),n.jsxs("div",{"data-function-output":"true",className:"bg-success/10 border-t border-success/20 p-2 text-center cursor-grab hover:bg-success/20 transition-colors",draggable:"true",onDragStart:S,onDragEnd:P,children:[n.jsx("div",{className:"text-xs font-medium text-success",children:"Output"}),n.jsx("div",{className:"text-xs text-success/80",children:"Drag to target"})]})]}),a&&n.jsx("div",{className:"w-72",children:n.jsxs("div",{className:"bg-card border rounded-lg p-2 shadow-sm",children:[n.jsx("h3",{className:"font-semibold text-sm mb-2 text-primary",children:"Target Field"}),n.jsxs("div",{"data-target-field":a.id,className:de("bg-background border rounded p-3 transition-all",j.has(`target-${a.id}`)&&"border-primary bg-primary/10",w&&"border-success bg-success/10"),onDragOver:D=>D.preventDefault(),onDrop:_,children:[n.jsx("div",{className:"font-medium text-sm",children:a.name}),n.jsx("div",{className:"text-sm text-muted-foreground",children:a.type}),w&&n.jsx("div",{className:"text-xs text-success mt-2 font-medium",children:"✓ Function output connected"})]})]})})]})]}),n.jsx("div",{className:"border-t bg-muted/30 py-1 px-2 text-xs",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("div",{className:"text-muted-foreground",children:"Connect source → function → target"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:de("px-1.5 py-0.5 rounded",Object.keys(d.sourceConnections).length>0?"bg-success/20 text-success":"bg-muted text-muted-foreground"),children:["Params: ",Object.keys(d.sourceConnections).length,"/",y.parameters.length]}),n.jsxs("span",{className:de("px-1.5 py-0.5 rounded",w?"bg-success/20 text-success":"bg-muted text-muted-foreground"),children:["Output: ",w?"Connected":"Not connected"]})]})]})})]})}):null};function Ct(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let r=0,s;r<e.length;r++)(s=Ct(e[r]))!==""&&(t+=(t&&" ")+s);else for(let r in e)e[r]&&(t+=(t&&" ")+r);return t}var lH={value:()=>{}};function Vm(){for(var e=0,t=arguments.length,r={},s;e<t;++e){if(!(s=arguments[e]+"")||s in r||/[\s.]/.test(s))throw new Error("illegal type: "+s);r[s]=[]}return new Lu(r)}function Lu(e){this._=e}function cH(e,t){return e.trim().split(/^|\s+/).map(function(r){var s="",a=r.indexOf(".");if(a>=0&&(s=r.slice(a+1),r=r.slice(0,a)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:s}})}Lu.prototype=Vm.prototype={constructor:Lu,on:function(e,t){var r=this._,s=cH(e+"",r),a,o=-1,i=s.length;if(arguments.length<2){for(;++o<i;)if((a=(e=s[o]).type)&&(a=dH(r[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<i;)if(a=(e=s[o]).type)r[a]=mN(r[a],e.name,t);else if(t==null)for(a in r)r[a]=mN(r[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Lu(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var r=new Array(a),s=0,a,o;s<a;++s)r[s]=arguments[s+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],s=0,a=o.length;s<a;++s)o[s].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var s=this._[e],a=0,o=s.length;a<o;++a)s[a].value.apply(t,r)}};function dH(e,t){for(var r=0,s=e.length,a;r<s;++r)if((a=e[r]).name===t)return a.value}function mN(e,t,r){for(var s=0,a=e.length;s<a;++s)if(e[s].name===t){e[s]=lH,e=e.slice(0,s).concat(e.slice(s+1));break}return r!=null&&e.push({name:t,value:r}),e}var Ng="http://www.w3.org/1999/xhtml";const pN={svg:"http://www.w3.org/2000/svg",xhtml:Ng,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Bm(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),pN.hasOwnProperty(t)?{space:pN[t],local:e}:e}function uH(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===Ng&&t.documentElement.namespaceURI===Ng?t.createElement(e):t.createElementNS(r,e)}}function hH(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Jk(e){var t=Bm(e);return(t.local?hH:uH)(t)}function mH(){}function Gy(e){return e==null?mH:function(){return this.querySelector(e)}}function pH(e){typeof e!="function"&&(e=Gy(e));for(var t=this._groups,r=t.length,s=new Array(r),a=0;a<r;++a)for(var o=t[a],i=o.length,l=s[a]=new Array(i),d,c,u=0;u<i;++u)(d=o[u])&&(c=e.call(d,d.__data__,u,o))&&("__data__"in d&&(c.__data__=d.__data__),l[u]=c);return new An(s,this._parents)}function fH(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function xH(){return[]}function Zk(e){return e==null?xH:function(){return this.querySelectorAll(e)}}function gH(e){return function(){return fH(e.apply(this,arguments))}}function vH(e){typeof e=="function"?e=gH(e):e=Zk(e);for(var t=this._groups,r=t.length,s=[],a=[],o=0;o<r;++o)for(var i=t[o],l=i.length,d,c=0;c<l;++c)(d=i[c])&&(s.push(e.call(d,d.__data__,c,i)),a.push(d));return new An(s,a)}function eT(e){return function(){return this.matches(e)}}function tT(e){return function(t){return t.matches(e)}}var yH=Array.prototype.find;function jH(e){return function(){return yH.call(this.children,e)}}function wH(){return this.firstElementChild}function NH(e){return this.select(e==null?wH:jH(typeof e=="function"?e:tT(e)))}var bH=Array.prototype.filter;function SH(){return Array.from(this.children)}function CH(e){return function(){return bH.call(this.children,e)}}function EH(e){return this.selectAll(e==null?SH:CH(typeof e=="function"?e:tT(e)))}function PH(e){typeof e!="function"&&(e=eT(e));for(var t=this._groups,r=t.length,s=new Array(r),a=0;a<r;++a)for(var o=t[a],i=o.length,l=s[a]=[],d,c=0;c<i;++c)(d=o[c])&&e.call(d,d.__data__,c,o)&&l.push(d);return new An(s,this._parents)}function nT(e){return new Array(e.length)}function kH(){return new An(this._enter||this._groups.map(nT),this._parents)}function Rh(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Rh.prototype={constructor:Rh,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function TH(e){return function(){return e}}function AH(e,t,r,s,a,o){for(var i=0,l,d=t.length,c=o.length;i<c;++i)(l=t[i])?(l.__data__=o[i],s[i]=l):r[i]=new Rh(e,o[i]);for(;i<d;++i)(l=t[i])&&(a[i]=l)}function MH(e,t,r,s,a,o,i){var l,d,c=new Map,u=t.length,m=o.length,h=new Array(u),f;for(l=0;l<u;++l)(d=t[l])&&(h[l]=f=i.call(d,d.__data__,l,t)+"",c.has(f)?a[l]=d:c.set(f,d));for(l=0;l<m;++l)f=i.call(e,o[l],l,o)+"",(d=c.get(f))?(s[l]=d,d.__data__=o[l],c.delete(f)):r[l]=new Rh(e,o[l]);for(l=0;l<u;++l)(d=t[l])&&c.get(h[l])===d&&(a[l]=d)}function DH(e){return e.__data__}function RH(e,t){if(!arguments.length)return Array.from(this,DH);var r=t?MH:AH,s=this._parents,a=this._groups;typeof e!="function"&&(e=TH(e));for(var o=a.length,i=new Array(o),l=new Array(o),d=new Array(o),c=0;c<o;++c){var u=s[c],m=a[c],h=m.length,f=FH(e.call(u,u&&u.__data__,c,s)),j=f.length,x=l[c]=new Array(j),w=i[c]=new Array(j),v=d[c]=new Array(h);r(u,m,x,w,v,f,t);for(var g=0,y=0,N,b;g<j;++g)if(N=x[g]){for(g>=y&&(y=g+1);!(b=w[y])&&++y<j;);N._next=b||null}}return i=new An(i,s),i._enter=l,i._exit=d,i}function FH(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function _H(){return new An(this._exit||this._groups.map(nT),this._parents)}function OH(e,t,r){var s=this.enter(),a=this,o=this.exit();return typeof e=="function"?(s=e(s),s&&(s=s.selection())):s=s.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),r==null?o.remove():r(o),s&&a?s.merge(a).order():a}function IH(e){for(var t=e.selection?e.selection():e,r=this._groups,s=t._groups,a=r.length,o=s.length,i=Math.min(a,o),l=new Array(a),d=0;d<i;++d)for(var c=r[d],u=s[d],m=c.length,h=l[d]=new Array(m),f,j=0;j<m;++j)(f=c[j]||u[j])&&(h[j]=f);for(;d<a;++d)l[d]=r[d];return new An(l,this._parents)}function LH(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var s=e[t],a=s.length-1,o=s[a],i;--a>=0;)(i=s[a])&&(o&&i.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(i,o),o=i);return this}function $H(e){e||(e=UH);function t(m,h){return m&&h?e(m.__data__,h.__data__):!m-!h}for(var r=this._groups,s=r.length,a=new Array(s),o=0;o<s;++o){for(var i=r[o],l=i.length,d=a[o]=new Array(l),c,u=0;u<l;++u)(c=i[u])&&(d[u]=c);d.sort(t)}return new An(a,this._parents).order()}function UH(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function HH(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function VH(){return Array.from(this)}function BH(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var s=e[t],a=0,o=s.length;a<o;++a){var i=s[a];if(i)return i}return null}function zH(){let e=0;for(const t of this)++e;return e}function qH(){return!this.node()}function WH(e){for(var t=this._groups,r=0,s=t.length;r<s;++r)for(var a=t[r],o=0,i=a.length,l;o<i;++o)(l=a[o])&&e.call(l,l.__data__,o,a);return this}function YH(e){return function(){this.removeAttribute(e)}}function KH(e){return function(){this.removeAttributeNS(e.space,e.local)}}function GH(e,t){return function(){this.setAttribute(e,t)}}function XH(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function QH(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function JH(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function ZH(e,t){var r=Bm(e);if(arguments.length<2){var s=this.node();return r.local?s.getAttributeNS(r.space,r.local):s.getAttribute(r)}return this.each((t==null?r.local?KH:YH:typeof t=="function"?r.local?JH:QH:r.local?XH:GH)(r,t))}function rT(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function eV(e){return function(){this.style.removeProperty(e)}}function tV(e,t,r){return function(){this.style.setProperty(e,t,r)}}function nV(e,t,r){return function(){var s=t.apply(this,arguments);s==null?this.style.removeProperty(e):this.style.setProperty(e,s,r)}}function rV(e,t,r){return arguments.length>1?this.each((t==null?eV:typeof t=="function"?nV:tV)(e,t,r??"")):Hi(this.node(),e)}function Hi(e,t){return e.style.getPropertyValue(t)||rT(e).getComputedStyle(e,null).getPropertyValue(t)}function sV(e){return function(){delete this[e]}}function aV(e,t){return function(){this[e]=t}}function oV(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function iV(e,t){return arguments.length>1?this.each((t==null?sV:typeof t=="function"?oV:aV)(e,t)):this.node()[e]}function sT(e){return e.trim().split(/^|\s+/)}function Xy(e){return e.classList||new aT(e)}function aT(e){this._node=e,this._names=sT(e.getAttribute("class")||"")}aT.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function oT(e,t){for(var r=Xy(e),s=-1,a=t.length;++s<a;)r.add(t[s])}function iT(e,t){for(var r=Xy(e),s=-1,a=t.length;++s<a;)r.remove(t[s])}function lV(e){return function(){oT(this,e)}}function cV(e){return function(){iT(this,e)}}function dV(e,t){return function(){(t.apply(this,arguments)?oT:iT)(this,e)}}function uV(e,t){var r=sT(e+"");if(arguments.length<2){for(var s=Xy(this.node()),a=-1,o=r.length;++a<o;)if(!s.contains(r[a]))return!1;return!0}return this.each((typeof t=="function"?dV:t?lV:cV)(r,t))}function hV(){this.textContent=""}function mV(e){return function(){this.textContent=e}}function pV(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function fV(e){return arguments.length?this.each(e==null?hV:(typeof e=="function"?pV:mV)(e)):this.node().textContent}function xV(){this.innerHTML=""}function gV(e){return function(){this.innerHTML=e}}function vV(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function yV(e){return arguments.length?this.each(e==null?xV:(typeof e=="function"?vV:gV)(e)):this.node().innerHTML}function jV(){this.nextSibling&&this.parentNode.appendChild(this)}function wV(){return this.each(jV)}function NV(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function bV(){return this.each(NV)}function SV(e){var t=typeof e=="function"?e:Jk(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function CV(){return null}function EV(e,t){var r=typeof e=="function"?e:Jk(e),s=t==null?CV:typeof t=="function"?t:Gy(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),s.apply(this,arguments)||null)})}function PV(){var e=this.parentNode;e&&e.removeChild(this)}function kV(){return this.each(PV)}function TV(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function AV(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function MV(e){return this.select(e?AV:TV)}function DV(e){return arguments.length?this.property("__data__",e):this.node().__data__}function RV(e){return function(t){e.call(this,t,this.__data__)}}function FV(e){return e.trim().split(/^|\s+/).map(function(t){var r="",s=t.indexOf(".");return s>=0&&(r=t.slice(s+1),t=t.slice(0,s)),{type:t,name:r}})}function _V(e){return function(){var t=this.__on;if(t){for(var r=0,s=-1,a=t.length,o;r<a;++r)o=t[r],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++s]=o;++s?t.length=s:delete this.__on}}}function OV(e,t,r){return function(){var s=this.__on,a,o=RV(t);if(s){for(var i=0,l=s.length;i<l;++i)if((a=s[i]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=o,a.options=r),a.value=t;return}}this.addEventListener(e.type,o,r),a={type:e.type,name:e.name,value:t,listener:o,options:r},s?s.push(a):this.__on=[a]}}function IV(e,t,r){var s=FV(e+""),a,o=s.length,i;if(arguments.length<2){var l=this.node().__on;if(l){for(var d=0,c=l.length,u;d<c;++d)for(a=0,u=l[d];a<o;++a)if((i=s[a]).type===u.type&&i.name===u.name)return u.value}return}for(l=t?OV:_V,a=0;a<o;++a)this.each(l(s[a],t,r));return this}function lT(e,t,r){var s=rT(e),a=s.CustomEvent;typeof a=="function"?a=new a(t,r):(a=s.document.createEvent("Event"),r?(a.initEvent(t,r.bubbles,r.cancelable),a.detail=r.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function LV(e,t){return function(){return lT(this,e,t)}}function $V(e,t){return function(){return lT(this,e,t.apply(this,arguments))}}function UV(e,t){return this.each((typeof t=="function"?$V:LV)(e,t))}function*HV(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var s=e[t],a=0,o=s.length,i;a<o;++a)(i=s[a])&&(yield i)}var cT=[null];function An(e,t){this._groups=e,this._parents=t}function gd(){return new An([[document.documentElement]],cT)}function VV(){return this}An.prototype=gd.prototype={constructor:An,select:pH,selectAll:vH,selectChild:NH,selectChildren:EH,filter:PH,data:RH,enter:kH,exit:_H,join:OH,merge:IH,selection:VV,order:LH,sort:$H,call:HH,nodes:VH,node:BH,size:zH,empty:qH,each:WH,attr:ZH,style:rV,property:iV,classed:uV,text:fV,html:yV,raise:wV,lower:bV,append:SV,insert:EV,remove:kV,clone:MV,datum:DV,on:IV,dispatch:UV,[Symbol.iterator]:HV};function Nn(e){return typeof e=="string"?new An([[document.querySelector(e)]],[document.documentElement]):new An([[e]],cT)}function BV(e){let t;for(;t=e.sourceEvent;)e=t;return e}function nr(e,t){if(e=BV(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var s=r.createSVGPoint();return s.x=e.clientX,s.y=e.clientY,s=s.matrixTransform(t.getScreenCTM().inverse()),[s.x,s.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}const zV={passive:!1},$c={capture:!0,passive:!1};function yf(e){e.stopImmediatePropagation()}function fi(e){e.preventDefault(),e.stopImmediatePropagation()}function dT(e){var t=e.document.documentElement,r=Nn(e).on("dragstart.drag",fi,$c);"onselectstart"in t?r.on("selectstart.drag",fi,$c):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function uT(e,t){var r=e.document.documentElement,s=Nn(e).on("dragstart.drag",null);t&&(s.on("click.drag",fi,$c),setTimeout(function(){s.on("click.drag",null)},0)),"onselectstart"in r?s.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const au=e=>()=>e;function bg(e,{sourceEvent:t,subject:r,target:s,identifier:a,active:o,x:i,y:l,dx:d,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:s,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:d,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}bg.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function qV(e){return!e.ctrlKey&&!e.button}function WV(){return this.parentNode}function YV(e,t){return t??{x:e.x,y:e.y}}function KV(){return navigator.maxTouchPoints||"ontouchstart"in this}function hT(){var e=qV,t=WV,r=YV,s=KV,a={},o=Vm("start","drag","end"),i=0,l,d,c,u,m=0;function h(N){N.on("mousedown.drag",f).filter(s).on("touchstart.drag",w).on("touchmove.drag",v,zV).on("touchend.drag touchcancel.drag",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(N,b){if(!(u||!e.call(this,N,b))){var E=y(this,t.call(this,N,b),N,b,"mouse");E&&(Nn(N.view).on("mousemove.drag",j,$c).on("mouseup.drag",x,$c),dT(N.view),yf(N),c=!1,l=N.clientX,d=N.clientY,E("start",N))}}function j(N){if(fi(N),!c){var b=N.clientX-l,E=N.clientY-d;c=b*b+E*E>m}a.mouse("drag",N)}function x(N){Nn(N.view).on("mousemove.drag mouseup.drag",null),uT(N.view,c),fi(N),a.mouse("end",N)}function w(N,b){if(e.call(this,N,b)){var E=N.changedTouches,S=t.call(this,N,b),P=E.length,_,T;for(_=0;_<P;++_)(T=y(this,S,N,b,E[_].identifier,E[_]))&&(yf(N),T("start",N,E[_]))}}function v(N){var b=N.changedTouches,E=b.length,S,P;for(S=0;S<E;++S)(P=a[b[S].identifier])&&(fi(N),P("drag",N,b[S]))}function g(N){var b=N.changedTouches,E=b.length,S,P;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),S=0;S<E;++S)(P=a[b[S].identifier])&&(yf(N),P("end",N,b[S]))}function y(N,b,E,S,P,_){var T=o.copy(),D=nr(_||E,b),k,U,M;if((M=r.call(N,new bg("beforestart",{sourceEvent:E,target:h,identifier:P,active:i,x:D[0],y:D[1],dx:0,dy:0,dispatch:T}),S))!=null)return k=M.x-D[0]||0,U=M.y-D[1]||0,function $(L,I,F){var R=D,V;switch(L){case"start":a[P]=$,V=i++;break;case"end":delete a[P],--i;case"drag":D=nr(F||I,b),V=i;break}T.call(L,N,new bg(L,{sourceEvent:I,subject:M,target:h,identifier:P,active:V,x:D[0]+k,y:D[1]+U,dx:D[0]-R[0],dy:D[1]-R[1],dispatch:T}),S)}}return h.filter=function(N){return arguments.length?(e=typeof N=="function"?N:au(!!N),h):e},h.container=function(N){return arguments.length?(t=typeof N=="function"?N:au(N),h):t},h.subject=function(N){return arguments.length?(r=typeof N=="function"?N:au(N),h):r},h.touchable=function(N){return arguments.length?(s=typeof N=="function"?N:au(!!N),h):s},h.on=function(){var N=o.on.apply(o,arguments);return N===o?h:N},h.clickDistance=function(N){return arguments.length?(m=(N=+N)*N,h):Math.sqrt(m)},h}function Qy(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function mT(e,t){var r=Object.create(e.prototype);for(var s in t)r[s]=t[s];return r}function vd(){}var Uc=.7,Fh=1/Uc,xi="\\s*([+-]?\\d+)\\s*",Hc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Hr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",GV=/^#([0-9a-f]{3,8})$/,XV=new RegExp(`^rgb\\(${xi},${xi},${xi}\\)$`),QV=new RegExp(`^rgb\\(${Hr},${Hr},${Hr}\\)$`),JV=new RegExp(`^rgba\\(${xi},${xi},${xi},${Hc}\\)$`),ZV=new RegExp(`^rgba\\(${Hr},${Hr},${Hr},${Hc}\\)$`),e7=new RegExp(`^hsl\\(${Hc},${Hr},${Hr}\\)$`),t7=new RegExp(`^hsla\\(${Hc},${Hr},${Hr},${Hc}\\)$`),fN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Qy(vd,lo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:xN,formatHex:xN,formatHex8:n7,formatHsl:r7,formatRgb:gN,toString:gN});function xN(){return this.rgb().formatHex()}function n7(){return this.rgb().formatHex8()}function r7(){return pT(this).formatHsl()}function gN(){return this.rgb().formatRgb()}function lo(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=GV.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?vN(t):r===3?new on(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?ou(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?ou(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=XV.exec(e))?new on(t[1],t[2],t[3],1):(t=QV.exec(e))?new on(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=JV.exec(e))?ou(t[1],t[2],t[3],t[4]):(t=ZV.exec(e))?ou(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=e7.exec(e))?wN(t[1],t[2]/100,t[3]/100,1):(t=t7.exec(e))?wN(t[1],t[2]/100,t[3]/100,t[4]):fN.hasOwnProperty(e)?vN(fN[e]):e==="transparent"?new on(NaN,NaN,NaN,0):null}function vN(e){return new on(e>>16&255,e>>8&255,e&255,1)}function ou(e,t,r,s){return s<=0&&(e=t=r=NaN),new on(e,t,r,s)}function s7(e){return e instanceof vd||(e=lo(e)),e?(e=e.rgb(),new on(e.r,e.g,e.b,e.opacity)):new on}function Sg(e,t,r,s){return arguments.length===1?s7(e):new on(e,t,r,s??1)}function on(e,t,r,s){this.r=+e,this.g=+t,this.b=+r,this.opacity=+s}Qy(on,Sg,mT(vd,{brighter(e){return e=e==null?Fh:Math.pow(Fh,e),new on(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Uc:Math.pow(Uc,e),new on(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new on(Ga(this.r),Ga(this.g),Ga(this.b),_h(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yN,formatHex:yN,formatHex8:a7,formatRgb:jN,toString:jN}));function yN(){return`#${Va(this.r)}${Va(this.g)}${Va(this.b)}`}function a7(){return`#${Va(this.r)}${Va(this.g)}${Va(this.b)}${Va((isNaN(this.opacity)?1:this.opacity)*255)}`}function jN(){const e=_h(this.opacity);return`${e===1?"rgb(":"rgba("}${Ga(this.r)}, ${Ga(this.g)}, ${Ga(this.b)}${e===1?")":`, ${e})`}`}function _h(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ga(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Va(e){return e=Ga(e),(e<16?"0":"")+e.toString(16)}function wN(e,t,r,s){return s<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new sr(e,t,r,s)}function pT(e){if(e instanceof sr)return new sr(e.h,e.s,e.l,e.opacity);if(e instanceof vd||(e=lo(e)),!e)return new sr;if(e instanceof sr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,s=e.b/255,a=Math.min(t,r,s),o=Math.max(t,r,s),i=NaN,l=o-a,d=(o+a)/2;return l?(t===o?i=(r-s)/l+(r<s)*6:r===o?i=(s-t)/l+2:i=(t-r)/l+4,l/=d<.5?o+a:2-o-a,i*=60):l=d>0&&d<1?0:i,new sr(i,l,d,e.opacity)}function o7(e,t,r,s){return arguments.length===1?pT(e):new sr(e,t,r,s??1)}function sr(e,t,r,s){this.h=+e,this.s=+t,this.l=+r,this.opacity=+s}Qy(sr,o7,mT(vd,{brighter(e){return e=e==null?Fh:Math.pow(Fh,e),new sr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Uc:Math.pow(Uc,e),new sr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,s=r+(r<.5?r:1-r)*t,a=2*r-s;return new on(jf(e>=240?e-240:e+120,a,s),jf(e,a,s),jf(e<120?e+240:e-120,a,s),this.opacity)},clamp(){return new sr(NN(this.h),iu(this.s),iu(this.l),_h(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=_h(this.opacity);return`${e===1?"hsl(":"hsla("}${NN(this.h)}, ${iu(this.s)*100}%, ${iu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function NN(e){return e=(e||0)%360,e<0?e+360:e}function iu(e){return Math.max(0,Math.min(1,e||0))}function jf(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Jy=e=>()=>e;function i7(e,t){return function(r){return e+r*t}}function l7(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(s){return Math.pow(e+s*t,r)}}function c7(e){return(e=+e)==1?fT:function(t,r){return r-t?l7(t,r,e):Jy(isNaN(t)?r:t)}}function fT(e,t){var r=t-e;return r?i7(e,r):Jy(isNaN(e)?t:e)}const Oh=function e(t){var r=c7(t);function s(a,o){var i=r((a=Sg(a)).r,(o=Sg(o)).r),l=r(a.g,o.g),d=r(a.b,o.b),c=fT(a.opacity,o.opacity);return function(u){return a.r=i(u),a.g=l(u),a.b=d(u),a.opacity=c(u),a+""}}return s.gamma=e,s}(1);function d7(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,s=t.slice(),a;return function(o){for(a=0;a<r;++a)s[a]=e[a]*(1-o)+t[a]*o;return s}}function u7(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function h7(e,t){var r=t?t.length:0,s=e?Math.min(r,e.length):0,a=new Array(s),o=new Array(r),i;for(i=0;i<s;++i)a[i]=cc(e[i],t[i]);for(;i<r;++i)o[i]=t[i];return function(l){for(i=0;i<s;++i)o[i]=a[i](l);return o}}function m7(e,t){var r=new Date;return e=+e,t=+t,function(s){return r.setTime(e*(1-s)+t*s),r}}function Fr(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function p7(e,t){var r={},s={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=cc(e[a],t[a]):s[a]=t[a];return function(o){for(a in r)s[a]=r[a](o);return s}}var Cg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wf=new RegExp(Cg.source,"g");function f7(e){return function(){return e}}function x7(e){return function(t){return e(t)+""}}function xT(e,t){var r=Cg.lastIndex=wf.lastIndex=0,s,a,o,i=-1,l=[],d=[];for(e=e+"",t=t+"";(s=Cg.exec(e))&&(a=wf.exec(t));)(o=a.index)>r&&(o=t.slice(r,o),l[i]?l[i]+=o:l[++i]=o),(s=s[0])===(a=a[0])?l[i]?l[i]+=a:l[++i]=a:(l[++i]=null,d.push({i,x:Fr(s,a)})),r=wf.lastIndex;return r<t.length&&(o=t.slice(r),l[i]?l[i]+=o:l[++i]=o),l.length<2?d[0]?x7(d[0].x):f7(t):(t=d.length,function(c){for(var u=0,m;u<t;++u)l[(m=d[u]).i]=m.x(c);return l.join("")})}function cc(e,t){var r=typeof t,s;return t==null||r==="boolean"?Jy(t):(r==="number"?Fr:r==="string"?(s=lo(t))?(t=s,Oh):xT:t instanceof lo?Oh:t instanceof Date?m7:u7(t)?d7:Array.isArray(t)?h7:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?p7:Fr)(e,t)}var bN=180/Math.PI,Eg={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function gT(e,t,r,s,a,o){var i,l,d;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(d=e*r+t*s)&&(r-=e*d,s-=t*d),(l=Math.sqrt(r*r+s*s))&&(r/=l,s/=l,d/=l),e*s<t*r&&(e=-e,t=-t,d=-d,i=-i),{translateX:a,translateY:o,rotate:Math.atan2(t,e)*bN,skewX:Math.atan(d)*bN,scaleX:i,scaleY:l}}var lu;function g7(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Eg:gT(t.a,t.b,t.c,t.d,t.e,t.f)}function v7(e){return e==null||(lu||(lu=document.createElementNS("http://www.w3.org/2000/svg","g")),lu.setAttribute("transform",e),!(e=lu.transform.baseVal.consolidate()))?Eg:(e=e.matrix,gT(e.a,e.b,e.c,e.d,e.e,e.f))}function vT(e,t,r,s){function a(c){return c.length?c.pop()+" ":""}function o(c,u,m,h,f,j){if(c!==m||u!==h){var x=f.push("translate(",null,t,null,r);j.push({i:x-4,x:Fr(c,m)},{i:x-2,x:Fr(u,h)})}else(m||h)&&f.push("translate("+m+t+h+r)}function i(c,u,m,h){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),h.push({i:m.push(a(m)+"rotate(",null,s)-2,x:Fr(c,u)})):u&&m.push(a(m)+"rotate("+u+s)}function l(c,u,m,h){c!==u?h.push({i:m.push(a(m)+"skewX(",null,s)-2,x:Fr(c,u)}):u&&m.push(a(m)+"skewX("+u+s)}function d(c,u,m,h,f,j){if(c!==m||u!==h){var x=f.push(a(f)+"scale(",null,",",null,")");j.push({i:x-4,x:Fr(c,m)},{i:x-2,x:Fr(u,h)})}else(m!==1||h!==1)&&f.push(a(f)+"scale("+m+","+h+")")}return function(c,u){var m=[],h=[];return c=e(c),u=e(u),o(c.translateX,c.translateY,u.translateX,u.translateY,m,h),i(c.rotate,u.rotate,m,h),l(c.skewX,u.skewX,m,h),d(c.scaleX,c.scaleY,u.scaleX,u.scaleY,m,h),c=u=null,function(f){for(var j=-1,x=h.length,w;++j<x;)m[(w=h[j]).i]=w.x(f);return m.join("")}}}var y7=vT(g7,"px, ","px)","deg)"),j7=vT(v7,", ",")",")"),w7=1e-12;function SN(e){return((e=Math.exp(e))+1/e)/2}function N7(e){return((e=Math.exp(e))-1/e)/2}function b7(e){return((e=Math.exp(2*e))-1)/(e+1)}const $u=function e(t,r,s){function a(o,i){var l=o[0],d=o[1],c=o[2],u=i[0],m=i[1],h=i[2],f=u-l,j=m-d,x=f*f+j*j,w,v;if(x<w7)v=Math.log(h/c)/t,w=function(S){return[l+S*f,d+S*j,c*Math.exp(t*S*v)]};else{var g=Math.sqrt(x),y=(h*h-c*c+s*x)/(2*c*r*g),N=(h*h-c*c-s*x)/(2*h*r*g),b=Math.log(Math.sqrt(y*y+1)-y),E=Math.log(Math.sqrt(N*N+1)-N);v=(E-b)/t,w=function(S){var P=S*v,_=SN(b),T=c/(r*g)*(_*b7(t*P+b)-N7(b));return[l+T*f,d+T*j,c*_/SN(t*P+b)]}}return w.duration=v*1e3*t/Math.SQRT2,w}return a.rho=function(o){var i=Math.max(.001,+o),l=i*i,d=l*l;return e(i,l,d)},a}(Math.SQRT2,2,4);var Vi=0,Gl=0,Ol=0,yT=1e3,Ih,Xl,Lh=0,co=0,zm=0,Vc=typeof performance=="object"&&performance.now?performance:Date,jT=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Zy(){return co||(jT(S7),co=Vc.now()+zm)}function S7(){co=0}function $h(){this._call=this._time=this._next=null}$h.prototype=wT.prototype={constructor:$h,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?Zy():+r)+(t==null?0:+t),!this._next&&Xl!==this&&(Xl?Xl._next=this:Ih=this,Xl=this),this._call=e,this._time=r,Pg()},stop:function(){this._call&&(this._call=null,this._time=1/0,Pg())}};function wT(e,t,r){var s=new $h;return s.restart(e,t,r),s}function C7(){Zy(),++Vi;for(var e=Ih,t;e;)(t=co-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Vi}function CN(){co=(Lh=Vc.now())+zm,Vi=Gl=0;try{C7()}finally{Vi=0,P7(),co=0}}function E7(){var e=Vc.now(),t=e-Lh;t>yT&&(zm-=t,Lh=e)}function P7(){for(var e,t=Ih,r,s=1/0;t;)t._call?(s>t._time&&(s=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:Ih=r);Xl=e,Pg(s)}function Pg(e){if(!Vi){Gl&&(Gl=clearTimeout(Gl));var t=e-co;t>24?(e<1/0&&(Gl=setTimeout(CN,e-Vc.now()-zm)),Ol&&(Ol=clearInterval(Ol))):(Ol||(Lh=Vc.now(),Ol=setInterval(E7,yT)),Vi=1,jT(CN))}}function EN(e,t,r){var s=new $h;return t=t==null?0:+t,s.restart(a=>{s.stop(),e(a+t)},t,r),s}var k7=Vm("start","end","cancel","interrupt"),T7=[],NT=0,PN=1,kg=2,Uu=3,kN=4,Tg=5,Hu=6;function qm(e,t,r,s,a,o){var i=e.__transition;if(!i)e.__transition={};else if(r in i)return;A7(e,r,{name:t,index:s,group:a,on:k7,tween:T7,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:NT})}function ej(e,t){var r=Sr(e,t);if(r.state>NT)throw new Error("too late; already scheduled");return r}function Gr(e,t){var r=Sr(e,t);if(r.state>Uu)throw new Error("too late; already running");return r}function Sr(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function A7(e,t,r){var s=e.__transition,a;s[t]=r,r.timer=wT(o,0,r.time);function o(c){r.state=PN,r.timer.restart(i,r.delay,r.time),r.delay<=c&&i(c-r.delay)}function i(c){var u,m,h,f;if(r.state!==PN)return d();for(u in s)if(f=s[u],f.name===r.name){if(f.state===Uu)return EN(i);f.state===kN?(f.state=Hu,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete s[u]):+u<t&&(f.state=Hu,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete s[u])}if(EN(function(){r.state===Uu&&(r.state=kN,r.timer.restart(l,r.delay,r.time),l(c))}),r.state=kg,r.on.call("start",e,e.__data__,r.index,r.group),r.state===kg){for(r.state=Uu,a=new Array(h=r.tween.length),u=0,m=-1;u<h;++u)(f=r.tween[u].value.call(e,e.__data__,r.index,r.group))&&(a[++m]=f);a.length=m+1}}function l(c){for(var u=c<r.duration?r.ease.call(null,c/r.duration):(r.timer.restart(d),r.state=Tg,1),m=-1,h=a.length;++m<h;)a[m].call(e,u);r.state===Tg&&(r.on.call("end",e,e.__data__,r.index,r.group),d())}function d(){r.state=Hu,r.timer.stop(),delete s[t];for(var c in s)return;delete e.__transition}}function Vu(e,t){var r=e.__transition,s,a,o=!0,i;if(r){t=t==null?null:t+"";for(i in r){if((s=r[i]).name!==t){o=!1;continue}a=s.state>kg&&s.state<Tg,s.state=Hu,s.timer.stop(),s.on.call(a?"interrupt":"cancel",e,e.__data__,s.index,s.group),delete r[i]}o&&delete e.__transition}}function M7(e){return this.each(function(){Vu(this,e)})}function D7(e,t){var r,s;return function(){var a=Gr(this,e),o=a.tween;if(o!==r){s=r=o;for(var i=0,l=s.length;i<l;++i)if(s[i].name===t){s=s.slice(),s.splice(i,1);break}}a.tween=s}}function R7(e,t,r){var s,a;if(typeof r!="function")throw new Error;return function(){var o=Gr(this,e),i=o.tween;if(i!==s){a=(s=i).slice();for(var l={name:t,value:r},d=0,c=a.length;d<c;++d)if(a[d].name===t){a[d]=l;break}d===c&&a.push(l)}o.tween=a}}function F7(e,t){var r=this._id;if(e+="",arguments.length<2){for(var s=Sr(this.node(),r).tween,a=0,o=s.length,i;a<o;++a)if((i=s[a]).name===e)return i.value;return null}return this.each((t==null?D7:R7)(r,e,t))}function tj(e,t,r){var s=e._id;return e.each(function(){var a=Gr(this,s);(a.value||(a.value={}))[t]=r.apply(this,arguments)}),function(a){return Sr(a,s).value[t]}}function bT(e,t){var r;return(typeof t=="number"?Fr:t instanceof lo?Oh:(r=lo(t))?(t=r,Oh):xT)(e,t)}function _7(e){return function(){this.removeAttribute(e)}}function O7(e){return function(){this.removeAttributeNS(e.space,e.local)}}function I7(e,t,r){var s,a=r+"",o;return function(){var i=this.getAttribute(e);return i===a?null:i===s?o:o=t(s=i,r)}}function L7(e,t,r){var s,a=r+"",o;return function(){var i=this.getAttributeNS(e.space,e.local);return i===a?null:i===s?o:o=t(s=i,r)}}function $7(e,t,r){var s,a,o;return function(){var i,l=r(this),d;return l==null?void this.removeAttribute(e):(i=this.getAttribute(e),d=l+"",i===d?null:i===s&&d===a?o:(a=d,o=t(s=i,l)))}}function U7(e,t,r){var s,a,o;return function(){var i,l=r(this),d;return l==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),d=l+"",i===d?null:i===s&&d===a?o:(a=d,o=t(s=i,l)))}}function H7(e,t){var r=Bm(e),s=r==="transform"?j7:bT;return this.attrTween(e,typeof t=="function"?(r.local?U7:$7)(r,s,tj(this,"attr."+e,t)):t==null?(r.local?O7:_7)(r):(r.local?L7:I7)(r,s,t))}function V7(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function B7(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function z7(e,t){var r,s;function a(){var o=t.apply(this,arguments);return o!==s&&(r=(s=o)&&B7(e,o)),r}return a._value=t,a}function q7(e,t){var r,s;function a(){var o=t.apply(this,arguments);return o!==s&&(r=(s=o)&&V7(e,o)),r}return a._value=t,a}function W7(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var s=Bm(e);return this.tween(r,(s.local?z7:q7)(s,t))}function Y7(e,t){return function(){ej(this,e).delay=+t.apply(this,arguments)}}function K7(e,t){return t=+t,function(){ej(this,e).delay=t}}function G7(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Y7:K7)(t,e)):Sr(this.node(),t).delay}function X7(e,t){return function(){Gr(this,e).duration=+t.apply(this,arguments)}}function Q7(e,t){return t=+t,function(){Gr(this,e).duration=t}}function J7(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?X7:Q7)(t,e)):Sr(this.node(),t).duration}function Z7(e,t){if(typeof t!="function")throw new Error;return function(){Gr(this,e).ease=t}}function e9(e){var t=this._id;return arguments.length?this.each(Z7(t,e)):Sr(this.node(),t).ease}function t9(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;Gr(this,e).ease=r}}function n9(e){if(typeof e!="function")throw new Error;return this.each(t9(this._id,e))}function r9(e){typeof e!="function"&&(e=eT(e));for(var t=this._groups,r=t.length,s=new Array(r),a=0;a<r;++a)for(var o=t[a],i=o.length,l=s[a]=[],d,c=0;c<i;++c)(d=o[c])&&e.call(d,d.__data__,c,o)&&l.push(d);return new ws(s,this._parents,this._name,this._id)}function s9(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,s=t.length,a=r.length,o=Math.min(s,a),i=new Array(s),l=0;l<o;++l)for(var d=t[l],c=r[l],u=d.length,m=i[l]=new Array(u),h,f=0;f<u;++f)(h=d[f]||c[f])&&(m[f]=h);for(;l<s;++l)i[l]=t[l];return new ws(i,this._parents,this._name,this._id)}function a9(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function o9(e,t,r){var s,a,o=a9(t)?ej:Gr;return function(){var i=o(this,e),l=i.on;l!==s&&(a=(s=l).copy()).on(t,r),i.on=a}}function i9(e,t){var r=this._id;return arguments.length<2?Sr(this.node(),r).on.on(e):this.each(o9(r,e,t))}function l9(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function c9(){return this.on("end.remove",l9(this._id))}function d9(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Gy(e));for(var s=this._groups,a=s.length,o=new Array(a),i=0;i<a;++i)for(var l=s[i],d=l.length,c=o[i]=new Array(d),u,m,h=0;h<d;++h)(u=l[h])&&(m=e.call(u,u.__data__,h,l))&&("__data__"in u&&(m.__data__=u.__data__),c[h]=m,qm(c[h],t,r,h,c,Sr(u,r)));return new ws(o,this._parents,t,r)}function u9(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Zk(e));for(var s=this._groups,a=s.length,o=[],i=[],l=0;l<a;++l)for(var d=s[l],c=d.length,u,m=0;m<c;++m)if(u=d[m]){for(var h=e.call(u,u.__data__,m,d),f,j=Sr(u,r),x=0,w=h.length;x<w;++x)(f=h[x])&&qm(f,t,r,x,h,j);o.push(h),i.push(u)}return new ws(o,i,t,r)}var h9=gd.prototype.constructor;function m9(){return new h9(this._groups,this._parents)}function p9(e,t){var r,s,a;return function(){var o=Hi(this,e),i=(this.style.removeProperty(e),Hi(this,e));return o===i?null:o===r&&i===s?a:a=t(r=o,s=i)}}function ST(e){return function(){this.style.removeProperty(e)}}function f9(e,t,r){var s,a=r+"",o;return function(){var i=Hi(this,e);return i===a?null:i===s?o:o=t(s=i,r)}}function x9(e,t,r){var s,a,o;return function(){var i=Hi(this,e),l=r(this),d=l+"";return l==null&&(d=l=(this.style.removeProperty(e),Hi(this,e))),i===d?null:i===s&&d===a?o:(a=d,o=t(s=i,l))}}function g9(e,t){var r,s,a,o="style."+t,i="end."+o,l;return function(){var d=Gr(this,e),c=d.on,u=d.value[o]==null?l||(l=ST(t)):void 0;(c!==r||a!==u)&&(s=(r=c).copy()).on(i,a=u),d.on=s}}function v9(e,t,r){var s=(e+="")=="transform"?y7:bT;return t==null?this.styleTween(e,p9(e,s)).on("end.style."+e,ST(e)):typeof t=="function"?this.styleTween(e,x9(e,s,tj(this,"style."+e,t))).each(g9(this._id,e)):this.styleTween(e,f9(e,s,t),r).on("end.style."+e,null)}function y9(e,t,r){return function(s){this.style.setProperty(e,t.call(this,s),r)}}function j9(e,t,r){var s,a;function o(){var i=t.apply(this,arguments);return i!==a&&(s=(a=i)&&y9(e,i,r)),s}return o._value=t,o}function w9(e,t,r){var s="style."+(e+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(t==null)return this.tween(s,null);if(typeof t!="function")throw new Error;return this.tween(s,j9(e,t,r??""))}function N9(e){return function(){this.textContent=e}}function b9(e){return function(){var t=e(this);this.textContent=t??""}}function S9(e){return this.tween("text",typeof e=="function"?b9(tj(this,"text",e)):N9(e==null?"":e+""))}function C9(e){return function(t){this.textContent=e.call(this,t)}}function E9(e){var t,r;function s(){var a=e.apply(this,arguments);return a!==r&&(t=(r=a)&&C9(a)),t}return s._value=e,s}function P9(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,E9(e))}function k9(){for(var e=this._name,t=this._id,r=CT(),s=this._groups,a=s.length,o=0;o<a;++o)for(var i=s[o],l=i.length,d,c=0;c<l;++c)if(d=i[c]){var u=Sr(d,t);qm(d,e,r,c,i,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new ws(s,this._parents,e,r)}function T9(){var e,t,r=this,s=r._id,a=r.size();return new Promise(function(o,i){var l={value:i},d={value:function(){--a===0&&o()}};r.each(function(){var c=Gr(this,s),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(d)),c.on=t}),a===0&&o()})}var A9=0;function ws(e,t,r,s){this._groups=e,this._parents=t,this._name=r,this._id=s}function CT(){return++A9}var es=gd.prototype;ws.prototype={constructor:ws,select:d9,selectAll:u9,selectChild:es.selectChild,selectChildren:es.selectChildren,filter:r9,merge:s9,selection:m9,transition:k9,call:es.call,nodes:es.nodes,node:es.node,size:es.size,empty:es.empty,each:es.each,on:i9,attr:H7,attrTween:W7,style:v9,styleTween:w9,text:S9,textTween:P9,remove:c9,tween:F7,delay:G7,duration:J7,ease:e9,easeVarying:n9,end:T9,[Symbol.iterator]:es[Symbol.iterator]};function M9(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var D9={time:null,delay:0,duration:250,ease:M9};function R9(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function F9(e){var t,r;e instanceof ws?(t=e._id,e=e._name):(t=CT(),(r=D9).time=Zy(),e=e==null?null:e+"");for(var s=this._groups,a=s.length,o=0;o<a;++o)for(var i=s[o],l=i.length,d,c=0;c<l;++c)(d=i[c])&&qm(d,e,t,c,i,r||R9(d,t));return new ws(s,this._parents,e,t)}gd.prototype.interrupt=M7;gd.prototype.transition=F9;const cu=e=>()=>e;function _9(e,{sourceEvent:t,target:r,transform:s,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:s,enumerable:!0,configurable:!0},_:{value:a}})}function cs(e,t,r){this.k=e,this.x=t,this.y=r}cs.prototype={constructor:cs,scale:function(e){return e===1?this:new cs(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new cs(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Wm=new cs(1,0,0);ET.prototype=cs.prototype;function ET(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Wm;return e.__zoom}function Nf(e){e.stopImmediatePropagation()}function Il(e){e.preventDefault(),e.stopImmediatePropagation()}function O9(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function I9(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function TN(){return this.__zoom||Wm}function L9(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function $9(){return navigator.maxTouchPoints||"ontouchstart"in this}function U9(e,t,r){var s=e.invertX(t[0][0])-r[0][0],a=e.invertX(t[1][0])-r[1][0],o=e.invertY(t[0][1])-r[0][1],i=e.invertY(t[1][1])-r[1][1];return e.translate(a>s?(s+a)/2:Math.min(0,s)||Math.max(0,a),i>o?(o+i)/2:Math.min(0,o)||Math.max(0,i))}function PT(){var e=O9,t=I9,r=U9,s=L9,a=$9,o=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],l=250,d=$u,c=Vm("start","zoom","end"),u,m,h,f=500,j=150,x=0,w=10;function v(M){M.property("__zoom",TN).on("wheel.zoom",P,{passive:!1}).on("mousedown.zoom",_).on("dblclick.zoom",T).filter(a).on("touchstart.zoom",D).on("touchmove.zoom",k).on("touchend.zoom touchcancel.zoom",U).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}v.transform=function(M,$,L,I){var F=M.selection?M.selection():M;F.property("__zoom",TN),M!==F?b(M,$,L,I):F.interrupt().each(function(){E(this,arguments).event(I).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},v.scaleBy=function(M,$,L,I){v.scaleTo(M,function(){var F=this.__zoom.k,R=typeof $=="function"?$.apply(this,arguments):$;return F*R},L,I)},v.scaleTo=function(M,$,L,I){v.transform(M,function(){var F=t.apply(this,arguments),R=this.__zoom,V=L==null?N(F):typeof L=="function"?L.apply(this,arguments):L,B=R.invert(V),H=typeof $=="function"?$.apply(this,arguments):$;return r(y(g(R,H),V,B),F,i)},L,I)},v.translateBy=function(M,$,L,I){v.transform(M,function(){return r(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof L=="function"?L.apply(this,arguments):L),t.apply(this,arguments),i)},null,I)},v.translateTo=function(M,$,L,I,F){v.transform(M,function(){var R=t.apply(this,arguments),V=this.__zoom,B=I==null?N(R):typeof I=="function"?I.apply(this,arguments):I;return r(Wm.translate(B[0],B[1]).scale(V.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof L=="function"?-L.apply(this,arguments):-L),R,i)},I,F)};function g(M,$){return $=Math.max(o[0],Math.min(o[1],$)),$===M.k?M:new cs($,M.x,M.y)}function y(M,$,L){var I=$[0]-L[0]*M.k,F=$[1]-L[1]*M.k;return I===M.x&&F===M.y?M:new cs(M.k,I,F)}function N(M){return[(+M[0][0]+ +M[1][0])/2,(+M[0][1]+ +M[1][1])/2]}function b(M,$,L,I){M.on("start.zoom",function(){E(this,arguments).event(I).start()}).on("interrupt.zoom end.zoom",function(){E(this,arguments).event(I).end()}).tween("zoom",function(){var F=this,R=arguments,V=E(F,R).event(I),B=t.apply(F,R),H=L==null?N(B):typeof L=="function"?L.apply(F,R):L,q=Math.max(B[1][0]-B[0][0],B[1][1]-B[0][1]),z=F.__zoom,G=typeof $=="function"?$.apply(F,R):$,K=d(z.invert(H).concat(q/z.k),G.invert(H).concat(q/G.k));return function(Y){if(Y===1)Y=G;else{var ne=K(Y),le=q/ne[2];Y=new cs(le,H[0]-ne[0]*le,H[1]-ne[1]*le)}V.zoom(null,Y)}})}function E(M,$,L){return!L&&M.__zooming||new S(M,$)}function S(M,$){this.that=M,this.args=$,this.active=0,this.sourceEvent=null,this.extent=t.apply(M,$),this.taps=0}S.prototype={event:function(M){return M&&(this.sourceEvent=M),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(M,$){return this.mouse&&M!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&M!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&M!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(M){var $=Nn(this.that).datum();c.call(M,this.that,new _9(M,{sourceEvent:this.sourceEvent,target:v,type:M,transform:this.that.__zoom,dispatch:c}),$)}};function P(M,...$){if(!e.apply(this,arguments))return;var L=E(this,$).event(M),I=this.__zoom,F=Math.max(o[0],Math.min(o[1],I.k*Math.pow(2,s.apply(this,arguments)))),R=nr(M);if(L.wheel)(L.mouse[0][0]!==R[0]||L.mouse[0][1]!==R[1])&&(L.mouse[1]=I.invert(L.mouse[0]=R)),clearTimeout(L.wheel);else{if(I.k===F)return;L.mouse=[R,I.invert(R)],Vu(this),L.start()}Il(M),L.wheel=setTimeout(V,j),L.zoom("mouse",r(y(g(I,F),L.mouse[0],L.mouse[1]),L.extent,i));function V(){L.wheel=null,L.end()}}function _(M,...$){if(h||!e.apply(this,arguments))return;var L=M.currentTarget,I=E(this,$,!0).event(M),F=Nn(M.view).on("mousemove.zoom",H,!0).on("mouseup.zoom",q,!0),R=nr(M,L),V=M.clientX,B=M.clientY;dT(M.view),Nf(M),I.mouse=[R,this.__zoom.invert(R)],Vu(this),I.start();function H(z){if(Il(z),!I.moved){var G=z.clientX-V,K=z.clientY-B;I.moved=G*G+K*K>x}I.event(z).zoom("mouse",r(y(I.that.__zoom,I.mouse[0]=nr(z,L),I.mouse[1]),I.extent,i))}function q(z){F.on("mousemove.zoom mouseup.zoom",null),uT(z.view,I.moved),Il(z),I.event(z).end()}}function T(M,...$){if(e.apply(this,arguments)){var L=this.__zoom,I=nr(M.changedTouches?M.changedTouches[0]:M,this),F=L.invert(I),R=L.k*(M.shiftKey?.5:2),V=r(y(g(L,R),I,F),t.apply(this,$),i);Il(M),l>0?Nn(this).transition().duration(l).call(b,V,I,M):Nn(this).call(v.transform,V,I,M)}}function D(M,...$){if(e.apply(this,arguments)){var L=M.touches,I=L.length,F=E(this,$,M.changedTouches.length===I).event(M),R,V,B,H;for(Nf(M),V=0;V<I;++V)B=L[V],H=nr(B,this),H=[H,this.__zoom.invert(H),B.identifier],F.touch0?!F.touch1&&F.touch0[2]!==H[2]&&(F.touch1=H,F.taps=0):(F.touch0=H,R=!0,F.taps=1+!!u);u&&(u=clearTimeout(u)),R&&(F.taps<2&&(m=H[0],u=setTimeout(function(){u=null},f)),Vu(this),F.start())}}function k(M,...$){if(this.__zooming){var L=E(this,$).event(M),I=M.changedTouches,F=I.length,R,V,B,H;for(Il(M),R=0;R<F;++R)V=I[R],B=nr(V,this),L.touch0&&L.touch0[2]===V.identifier?L.touch0[0]=B:L.touch1&&L.touch1[2]===V.identifier&&(L.touch1[0]=B);if(V=L.that.__zoom,L.touch1){var q=L.touch0[0],z=L.touch0[1],G=L.touch1[0],K=L.touch1[1],Y=(Y=G[0]-q[0])*Y+(Y=G[1]-q[1])*Y,ne=(ne=K[0]-z[0])*ne+(ne=K[1]-z[1])*ne;V=g(V,Math.sqrt(Y/ne)),B=[(q[0]+G[0])/2,(q[1]+G[1])/2],H=[(z[0]+K[0])/2,(z[1]+K[1])/2]}else if(L.touch0)B=L.touch0[0],H=L.touch0[1];else return;L.zoom("touch",r(y(V,B,H),L.extent,i))}}function U(M,...$){if(this.__zooming){var L=E(this,$).event(M),I=M.changedTouches,F=I.length,R,V;for(Nf(M),h&&clearTimeout(h),h=setTimeout(function(){h=null},f),R=0;R<F;++R)V=I[R],L.touch0&&L.touch0[2]===V.identifier?delete L.touch0:L.touch1&&L.touch1[2]===V.identifier&&delete L.touch1;if(L.touch1&&!L.touch0&&(L.touch0=L.touch1,delete L.touch1),L.touch0)L.touch0[1]=this.__zoom.invert(L.touch0[0]);else if(L.end(),L.taps===2&&(V=nr(V,this),Math.hypot(m[0]-V[0],m[1]-V[1])<w)){var B=Nn(this).on("dblclick.zoom");B&&B.apply(this,arguments)}}}return v.wheelDelta=function(M){return arguments.length?(s=typeof M=="function"?M:cu(+M),v):s},v.filter=function(M){return arguments.length?(e=typeof M=="function"?M:cu(!!M),v):e},v.touchable=function(M){return arguments.length?(a=typeof M=="function"?M:cu(!!M),v):a},v.extent=function(M){return arguments.length?(t=typeof M=="function"?M:cu([[+M[0][0],+M[0][1]],[+M[1][0],+M[1][1]]]),v):t},v.scaleExtent=function(M){return arguments.length?(o[0]=+M[0],o[1]=+M[1],v):[o[0],o[1]]},v.translateExtent=function(M){return arguments.length?(i[0][0]=+M[0][0],i[1][0]=+M[1][0],i[0][1]=+M[0][1],i[1][1]=+M[1][1],v):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},v.constrain=function(M){return arguments.length?(r=M,v):r},v.duration=function(M){return arguments.length?(l=+M,v):l},v.interpolate=function(M){return arguments.length?(d=M,v):d},v.on=function(){var M=c.on.apply(c,arguments);return M===c?v:M},v.clickDistance=function(M){return arguments.length?(x=(M=+M)*M,v):Math.sqrt(x)},v.tapDistance=function(M){return arguments.length?(w=+M,v):w},v}const zr={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:r,targetHandle:s})=>`Couldn't create edge for ${e} handle id: "${e==="source"?r:s}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Bc=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],kT=["Enter"," ","Escape"],TT={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:r})=>`Moved selected node ${e}. New position, x: ${t}, y: ${r}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var uo;(function(e){e.Strict="strict",e.Loose="loose"})(uo||(uo={}));var Xa;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Xa||(Xa={}));var zc;(function(e){e.Partial="partial",e.Full="full"})(zc||(zc={}));const AT={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var zs;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(zs||(zs={}));var ar;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(ar||(ar={}));var je;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(je||(je={}));const AN={[je.Left]:je.Right,[je.Right]:je.Left,[je.Top]:je.Bottom,[je.Bottom]:je.Top};function MT(e){return e===null?null:e?"valid":"invalid"}const DT=e=>"id"in e&&"source"in e&&"target"in e,H9=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),nj=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),yd=(e,t=[0,0])=>{const{width:r,height:s}=Es(e),a=e.origin??t,o=r*a[0],i=s*a[1];return{x:e.position.x-o,y:e.position.y-i}},V9=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const r=e.reduce((s,a)=>{const o=typeof a=="string";let i=!t.nodeLookup&&!o?a:void 0;t.nodeLookup&&(i=o?t.nodeLookup.get(a):nj(a)?a:t.nodeLookup.get(a.id));const l=i?Uh(i,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Ym(s,l)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Km(r)},jd=(e,t={})=>{if(e.size===0)return{x:0,y:0,width:0,height:0};let r={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(s=>{if(t.filter===void 0||t.filter(s)){const a=Uh(s);r=Ym(r,a)}}),Km(r)},rj=(e,t,[r,s,a]=[0,0,1],o=!1,i=!1)=>{const l={...wd(t,[r,s,a]),width:t.width/a,height:t.height/a},d=[];for(const c of e.values()){const{measured:u,selectable:m=!0,hidden:h=!1}=c;if(i&&!m||h)continue;const f=u.width??c.width??c.initialWidth??null,j=u.height??c.height??c.initialHeight??null,x=qc(l,zi(c)),w=(f??0)*(j??0),v=o&&x>0;(!c.internals.handleBounds||v||x>=w||c.dragging)&&d.push(c)}return d},B9=(e,t)=>{const r=new Set;return e.forEach(s=>{r.add(s.id)}),t.filter(s=>r.has(s.source)||r.has(s.target))};function z9(e,t){const r=new Map,s=t!=null&&t.nodes?new Set(t.nodes.map(a=>a.id)):null;return e.forEach(a=>{a.measured.width&&a.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!a.hidden)&&(!s||s.has(a.id))&&r.set(a.id,a)}),r}async function q9({nodes:e,width:t,height:r,panZoom:s,minZoom:a,maxZoom:o},i){if(e.size===0)return Promise.resolve(!0);const l=z9(e,i),d=jd(l),c=sj(d,t,r,(i==null?void 0:i.minZoom)??a,(i==null?void 0:i.maxZoom)??o,(i==null?void 0:i.padding)??.1);return await s.setViewport(c,{duration:i==null?void 0:i.duration,ease:i==null?void 0:i.ease,interpolate:i==null?void 0:i.interpolate}),Promise.resolve(!0)}function RT({nodeId:e,nextPosition:t,nodeLookup:r,nodeOrigin:s=[0,0],nodeExtent:a,onError:o}){const i=r.get(e),l=i.parentId?r.get(i.parentId):void 0,{x:d,y:c}=l?l.internals.positionAbsolute:{x:0,y:0},u=i.origin??s;let m=i.extent||a;if(i.extent==="parent"&&!i.expandParent)if(!l)o==null||o("005",zr.error005());else{const f=l.measured.width,j=l.measured.height;f&&j&&(m=[[d,c],[d+f,c+j]])}else l&&qi(i.extent)&&(m=[[i.extent[0][0]+d,i.extent[0][1]+c],[i.extent[1][0]+d,i.extent[1][1]+c]]);const h=qi(m)?ho(t,m,i.measured):t;return(i.measured.width===void 0||i.measured.height===void 0)&&(o==null||o("015",zr.error015())),{position:{x:h.x-d+(i.measured.width??0)*u[0],y:h.y-c+(i.measured.height??0)*u[1]},positionAbsolute:h}}async function W9({nodesToRemove:e=[],edgesToRemove:t=[],nodes:r,edges:s,onBeforeDelete:a}){const o=new Set(e.map(h=>h.id)),i=[];for(const h of r){if(h.deletable===!1)continue;const f=o.has(h.id),j=!f&&h.parentId&&i.find(x=>x.id===h.parentId);(f||j)&&i.push(h)}const l=new Set(t.map(h=>h.id)),d=s.filter(h=>h.deletable!==!1),u=B9(i,d);for(const h of d)l.has(h.id)&&!u.find(j=>j.id===h.id)&&u.push(h);if(!a)return{edges:u,nodes:i};const m=await a({nodes:i,edges:u});return typeof m=="boolean"?m?{edges:u,nodes:i}:{edges:[],nodes:[]}:m}const Bi=(e,t=0,r=1)=>Math.min(Math.max(e,t),r),ho=(e={x:0,y:0},t,r)=>({x:Bi(e.x,t[0][0],t[1][0]-((r==null?void 0:r.width)??0)),y:Bi(e.y,t[0][1],t[1][1]-((r==null?void 0:r.height)??0))});function FT(e,t,r){const{width:s,height:a}=Es(r),{x:o,y:i}=r.internals.positionAbsolute;return ho(e,[[o,i],[o+s,i+a]],t)}const MN=(e,t,r)=>e<t?Bi(Math.abs(e-t),1,t)/t:e>r?-Bi(Math.abs(e-r),1,t)/t:0,_T=(e,t,r=15,s=40)=>{const a=MN(e.x,s,t.width-s)*r,o=MN(e.y,s,t.height-s)*r;return[a,o]},Ym=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Ag=({x:e,y:t,width:r,height:s})=>({x:e,y:t,x2:e+r,y2:t+s}),Km=({x:e,y:t,x2:r,y2:s})=>({x:e,y:t,width:r-e,height:s-t}),zi=(e,t=[0,0])=>{var a,o;const{x:r,y:s}=nj(e)?e.internals.positionAbsolute:yd(e,t);return{x:r,y:s,width:((a=e.measured)==null?void 0:a.width)??e.width??e.initialWidth??0,height:((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0}},Uh=(e,t=[0,0])=>{var a,o;const{x:r,y:s}=nj(e)?e.internals.positionAbsolute:yd(e,t);return{x:r,y:s,x2:r+(((a=e.measured)==null?void 0:a.width)??e.width??e.initialWidth??0),y2:s+(((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0)}},OT=(e,t)=>Km(Ym(Ag(e),Ag(t))),qc=(e,t)=>{const r=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),s=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(r*s)},DN=e=>lr(e.width)&&lr(e.height)&&lr(e.x)&&lr(e.y),lr=e=>!isNaN(e)&&isFinite(e),Y9=(e,t)=>{},Gm=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),wd=({x:e,y:t},[r,s,a],o=!1,i=[1,1])=>{const l={x:(e-r)/a,y:(t-s)/a};return o?Gm(l,i):l},Hh=({x:e,y:t},[r,s,a])=>({x:e*a+r,y:t*a+s});function Ro(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const r=parseFloat(e);if(!Number.isNaN(r))return Math.floor(r)}if(typeof e=="string"&&e.endsWith("%")){const r=parseFloat(e);if(!Number.isNaN(r))return Math.floor(t*r*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function K9(e,t,r){if(typeof e=="string"||typeof e=="number"){const s=Ro(e,r),a=Ro(e,t);return{top:s,right:a,bottom:s,left:a,x:a*2,y:s*2}}if(typeof e=="object"){const s=Ro(e.top??e.y??0,r),a=Ro(e.bottom??e.y??0,r),o=Ro(e.left??e.x??0,t),i=Ro(e.right??e.x??0,t);return{top:s,right:i,bottom:a,left:o,x:o+i,y:s+a}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function G9(e,t,r,s,a,o){const{x:i,y:l}=Hh(e,[t,r,s]),{x:d,y:c}=Hh({x:e.x+e.width,y:e.y+e.height},[t,r,s]),u=a-d,m=o-c;return{left:Math.floor(i),top:Math.floor(l),right:Math.floor(u),bottom:Math.floor(m)}}const sj=(e,t,r,s,a,o)=>{const i=K9(o,t,r),l=(t-i.x)/e.width,d=(r-i.y)/e.height,c=Math.min(l,d),u=Bi(c,s,a),m=e.x+e.width/2,h=e.y+e.height/2,f=t/2-m*u,j=r/2-h*u,x=G9(e,f,j,u,t,r),w={left:Math.min(x.left-i.left,0),top:Math.min(x.top-i.top,0),right:Math.min(x.right-i.right,0),bottom:Math.min(x.bottom-i.bottom,0)};return{x:f-w.left+w.right,y:j-w.top+w.bottom,zoom:u}},Vh=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function qi(e){return e!==void 0&&e!=="parent"}function Es(e){var t,r;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((r=e.measured)==null?void 0:r.height)??e.height??e.initialHeight??0}}function IT(e){var t,r;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((r=e.measured)==null?void 0:r.height)??e.height??e.initialHeight)!==void 0}function LT(e,t={width:0,height:0},r,s,a){const o={...e},i=s.get(r);if(i){const l=i.origin||a;o.x+=i.internals.positionAbsolute.x-(t.width??0)*l[0],o.y+=i.internals.positionAbsolute.y-(t.height??0)*l[1]}return o}function RN(e,t){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function X9(){let e,t;return{promise:new Promise((s,a)=>{e=s,t=a}),resolve:e,reject:t}}function Q9(e){return{...TT,...e||{}}}function dc(e,{snapGrid:t=[0,0],snapToGrid:r=!1,transform:s,containerBounds:a}){const{x:o,y:i}=Or(e),l=wd({x:o-((a==null?void 0:a.left)??0),y:i-((a==null?void 0:a.top)??0)},s),{x:d,y:c}=r?Gm(l,t):l;return{xSnapped:d,ySnapped:c,...l}}const aj=e=>({width:e.offsetWidth,height:e.offsetHeight}),$T=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},J9=["INPUT","SELECT","TEXTAREA"];function UT(e){var s,a;const t=((a=(s=e.composedPath)==null?void 0:s.call(e))==null?void 0:a[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:J9.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const HT=e=>"clientX"in e,Or=(e,t)=>{var o,i;const r=HT(e),s=r?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,a=r?e.clientY:(i=e.touches)==null?void 0:i[0].clientY;return{x:s-((t==null?void 0:t.left)??0),y:a-((t==null?void 0:t.top)??0)}},FN=(e,t,r,s,a)=>{const o=t.querySelectorAll(`.${e}`);return!o||!o.length?null:Array.from(o).map(i=>{const l=i.getBoundingClientRect();return{id:i.getAttribute("data-handleid"),type:e,nodeId:a,position:i.getAttribute("data-handlepos"),x:(l.left-r.left)/s,y:(l.top-r.top)/s,...aj(i)}})};function VT({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:a,sourceControlY:o,targetControlX:i,targetControlY:l}){const d=e*.125+a*.375+i*.375+r*.125,c=t*.125+o*.375+l*.375+s*.125,u=Math.abs(d-e),m=Math.abs(c-t);return[d,c,u,m]}function du(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function _N({pos:e,x1:t,y1:r,x2:s,y2:a,c:o}){switch(e){case je.Left:return[t-du(t-s,o),r];case je.Right:return[t+du(s-t,o),r];case je.Top:return[t,r-du(r-a,o)];case je.Bottom:return[t,r+du(a-r,o)]}}function oj({sourceX:e,sourceY:t,sourcePosition:r=je.Bottom,targetX:s,targetY:a,targetPosition:o=je.Top,curvature:i=.25}){const[l,d]=_N({pos:r,x1:e,y1:t,x2:s,y2:a,c:i}),[c,u]=_N({pos:o,x1:s,y1:a,x2:e,y2:t,c:i}),[m,h,f,j]=VT({sourceX:e,sourceY:t,targetX:s,targetY:a,sourceControlX:l,sourceControlY:d,targetControlX:c,targetControlY:u});return[`M${e},${t} C${l},${d} ${c},${u} ${s},${a}`,m,h,f,j]}function BT({sourceX:e,sourceY:t,targetX:r,targetY:s}){const a=Math.abs(r-e)/2,o=r<e?r+a:r-a,i=Math.abs(s-t)/2,l=s<t?s+i:s-i;return[o,l,a,i]}function Z9({sourceNode:e,targetNode:t,selected:r=!1,zIndex:s,elevateOnSelect:a=!1}){if(s!==void 0)return s;const o=a&&r?1e3:0,i=Math.max(e.parentId?e.internals.z:0,t.parentId?t.internals.z:0);return o+i}function eB({sourceNode:e,targetNode:t,width:r,height:s,transform:a}){const o=Ym(Uh(e),Uh(t));o.x===o.x2&&(o.x2+=1),o.y===o.y2&&(o.y2+=1);const i={x:-a[0]/a[2],y:-a[1]/a[2],width:r/a[2],height:s/a[2]};return qc(i,Km(o))>0}const tB=({source:e,sourceHandle:t,target:r,targetHandle:s})=>`xy-edge__${e}${t||""}-${r}${s||""}`,nB=(e,t)=>t.some(r=>r.source===e.source&&r.target===e.target&&(r.sourceHandle===e.sourceHandle||!r.sourceHandle&&!e.sourceHandle)&&(r.targetHandle===e.targetHandle||!r.targetHandle&&!e.targetHandle)),Bh=(e,t)=>{if(!e.source||!e.target)return t;let r;return DT(e)?r={...e}:r={...e,id:tB(e)},nB(r,t)?t:(r.sourceHandle===null&&delete r.sourceHandle,r.targetHandle===null&&delete r.targetHandle,t.concat(r))};function zT({sourceX:e,sourceY:t,targetX:r,targetY:s}){const[a,o,i,l]=BT({sourceX:e,sourceY:t,targetX:r,targetY:s});return[`M ${e},${t}L ${r},${s}`,a,o,i,l]}const ON={[je.Left]:{x:-1,y:0},[je.Right]:{x:1,y:0},[je.Top]:{x:0,y:-1},[je.Bottom]:{x:0,y:1}},rB=({source:e,sourcePosition:t=je.Bottom,target:r})=>t===je.Left||t===je.Right?e.x<r.x?{x:1,y:0}:{x:-1,y:0}:e.y<r.y?{x:0,y:1}:{x:0,y:-1},IN=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function sB({source:e,sourcePosition:t=je.Bottom,target:r,targetPosition:s=je.Top,center:a,offset:o,stepPosition:i}){const l=ON[t],d=ON[s],c={x:e.x+l.x*o,y:e.y+l.y*o},u={x:r.x+d.x*o,y:r.y+d.y*o},m=rB({source:c,sourcePosition:t,target:u}),h=m.x!==0?"x":"y",f=m[h];let j=[],x,w;const v={x:0,y:0},g={x:0,y:0},[,,y,N]=BT({sourceX:e.x,sourceY:e.y,targetX:r.x,targetY:r.y});if(l[h]*d[h]===-1){h==="x"?(x=a.x??c.x+(u.x-c.x)*i,w=a.y??(c.y+u.y)/2):(x=a.x??(c.x+u.x)/2,w=a.y??c.y+(u.y-c.y)*i);const E=[{x,y:c.y},{x,y:u.y}],S=[{x:c.x,y:w},{x:u.x,y:w}];l[h]===f?j=h==="x"?E:S:j=h==="x"?S:E}else{const E=[{x:c.x,y:u.y}],S=[{x:u.x,y:c.y}];if(h==="x"?j=l.x===f?S:E:j=l.y===f?E:S,t===s){const k=Math.abs(e[h]-r[h]);if(k<=o){const U=Math.min(o-1,o-k);l[h]===f?v[h]=(c[h]>e[h]?-1:1)*U:g[h]=(u[h]>r[h]?-1:1)*U}}if(t!==s){const k=h==="x"?"y":"x",U=l[h]===d[k],M=c[k]>u[k],$=c[k]<u[k];(l[h]===1&&(!U&&M||U&&$)||l[h]!==1&&(!U&&$||U&&M))&&(j=h==="x"?E:S)}const P={x:c.x+v.x,y:c.y+v.y},_={x:u.x+g.x,y:u.y+g.y},T=Math.max(Math.abs(P.x-j[0].x),Math.abs(_.x-j[0].x)),D=Math.max(Math.abs(P.y-j[0].y),Math.abs(_.y-j[0].y));T>=D?(x=(P.x+_.x)/2,w=j[0].y):(x=j[0].x,w=(P.y+_.y)/2)}return[[e,{x:c.x+v.x,y:c.y+v.y},...j,{x:u.x+g.x,y:u.y+g.y},r],x,w,y,N]}function aB(e,t,r,s){const a=Math.min(IN(e,t)/2,IN(t,r)/2,s),{x:o,y:i}=t;if(e.x===o&&o===r.x||e.y===i&&i===r.y)return`L${o} ${i}`;if(e.y===i){const c=e.x<r.x?-1:1,u=e.y<r.y?1:-1;return`L ${o+a*c},${i}Q ${o},${i} ${o},${i+a*u}`}const l=e.x<r.x?1:-1,d=e.y<r.y?-1:1;return`L ${o},${i+a*d}Q ${o},${i} ${o+a*l},${i}`}function Mg({sourceX:e,sourceY:t,sourcePosition:r=je.Bottom,targetX:s,targetY:a,targetPosition:o=je.Top,borderRadius:i=5,centerX:l,centerY:d,offset:c=20,stepPosition:u=.5}){const[m,h,f,j,x]=sB({source:{x:e,y:t},sourcePosition:r,target:{x:s,y:a},targetPosition:o,center:{x:l,y:d},offset:c,stepPosition:u});return[m.reduce((v,g,y)=>{let N="";return y>0&&y<m.length-1?N=aB(m[y-1],g,m[y+1],i):N=`${y===0?"M":"L"}${g.x} ${g.y}`,v+=N,v},""),h,f,j,x]}function LN(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function oB(e){var m;const{sourceNode:t,targetNode:r}=e;if(!LN(t)||!LN(r))return null;const s=t.internals.handleBounds||$N(t.handles),a=r.internals.handleBounds||$N(r.handles),o=UN((s==null?void 0:s.source)??[],e.sourceHandle),i=UN(e.connectionMode===uo.Strict?(a==null?void 0:a.target)??[]:((a==null?void 0:a.target)??[]).concat((a==null?void 0:a.source)??[]),e.targetHandle);if(!o||!i)return(m=e.onError)==null||m.call(e,"008",zr.error008(o?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const l=(o==null?void 0:o.position)||je.Bottom,d=(i==null?void 0:i.position)||je.Top,c=Wc(t,o,l),u=Wc(r,i,d);return{sourceX:c.x,sourceY:c.y,targetX:u.x,targetY:u.y,sourcePosition:l,targetPosition:d}}function $N(e){if(!e)return null;const t=[],r=[];for(const s of e)s.width=s.width??1,s.height=s.height??1,s.type==="source"?t.push(s):s.type==="target"&&r.push(s);return{source:t,target:r}}function Wc(e,t,r=je.Left,s=!1){const a=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,o=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:i,height:l}=t??Es(e);if(s)return{x:a+i/2,y:o+l/2};switch((t==null?void 0:t.position)??r){case je.Top:return{x:a+i/2,y:o};case je.Right:return{x:a+i,y:o+l/2};case je.Bottom:return{x:a+i/2,y:o+l};case je.Left:return{x:a,y:o+l/2}}}function UN(e,t){return e&&(t?e.find(r=>r.id===t):e[0])||null}function Dg(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(s=>`${s}=${e[s]}`).join("&")}`:""}function iB(e,{id:t,defaultColor:r,defaultMarkerStart:s,defaultMarkerEnd:a}){const o=new Set;return e.reduce((i,l)=>([l.markerStart||s,l.markerEnd||a].forEach(d=>{if(d&&typeof d=="object"){const c=Dg(d,t);o.has(c)||(i.push({id:c,color:d.color||r,...d}),o.add(c))}}),i),[]).sort((i,l)=>i.id.localeCompare(l.id))}const ij={nodeOrigin:[0,0],nodeExtent:Bc,elevateNodesOnSelect:!0,defaults:{}},lB={...ij,checkEquality:!0};function lj(e,t){const r={...e};for(const s in t)t[s]!==void 0&&(r[s]=t[s]);return r}function cB(e,t,r){const s=lj(ij,r);for(const a of e.values())if(a.parentId)cj(a,e,t,s);else{const o=yd(a,s.nodeOrigin),i=qi(a.extent)?a.extent:s.nodeExtent,l=ho(o,i,Es(a));a.internals.positionAbsolute=l}}function Rg(e,t,r,s){var d,c;const a=lj(lB,s);let o=e.length>0;const i=new Map(t),l=a!=null&&a.elevateNodesOnSelect?1e3:0;t.clear(),r.clear();for(const u of e){let m=i.get(u.id);if(a.checkEquality&&u===(m==null?void 0:m.internals.userNode))t.set(u.id,m);else{const h=yd(u,a.nodeOrigin),f=qi(u.extent)?u.extent:a.nodeExtent,j=ho(h,f,Es(u));m={...a.defaults,...u,measured:{width:(d=u.measured)==null?void 0:d.width,height:(c=u.measured)==null?void 0:c.height},internals:{positionAbsolute:j,handleBounds:u.measured?m==null?void 0:m.internals.handleBounds:void 0,z:qT(u,l),userNode:u}},t.set(u.id,m)}(m.measured===void 0||m.measured.width===void 0||m.measured.height===void 0)&&!m.hidden&&(o=!1),u.parentId&&cj(m,t,r,s)}return o}function dB(e,t){if(!e.parentId)return;const r=t.get(e.parentId);r?r.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function cj(e,t,r,s){const{elevateNodesOnSelect:a,nodeOrigin:o,nodeExtent:i}=lj(ij,s),l=e.parentId,d=t.get(l);if(!d){console.warn(`Parent node ${l} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}dB(e,r);const c=a?1e3:0,{x:u,y:m,z:h}=uB(e,d,o,i,c),{positionAbsolute:f}=e.internals,j=u!==f.x||m!==f.y;(j||h!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:j?{x:u,y:m}:f,z:h}})}function qT(e,t){return(lr(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function uB(e,t,r,s,a){const{x:o,y:i}=t.internals.positionAbsolute,l=Es(e),d=yd(e,r),c=qi(e.extent)?ho(d,e.extent,l):d;let u=ho({x:o+c.x,y:i+c.y},s,l);e.extent==="parent"&&(u=FT(u,l,t));const m=qT(e,a),h=t.internals.z??0;return{x:u.x,y:u.y,z:h>=m?h+1:m}}function dj(e,t,r,s=[0,0]){var i;const a=[],o=new Map;for(const l of e){const d=t.get(l.parentId);if(!d)continue;const c=((i=o.get(l.parentId))==null?void 0:i.expandedRect)??zi(d),u=OT(c,l.rect);o.set(l.parentId,{expandedRect:u,parent:d})}return o.size>0&&o.forEach(({expandedRect:l,parent:d},c)=>{var y;const u=d.internals.positionAbsolute,m=Es(d),h=d.origin??s,f=l.x<u.x?Math.round(Math.abs(u.x-l.x)):0,j=l.y<u.y?Math.round(Math.abs(u.y-l.y)):0,x=Math.max(m.width,Math.round(l.width)),w=Math.max(m.height,Math.round(l.height)),v=(x-m.width)*h[0],g=(w-m.height)*h[1];(f>0||j>0||v||g)&&(a.push({id:c,type:"position",position:{x:d.position.x-f+v,y:d.position.y-j+g}}),(y=r.get(c))==null||y.forEach(N=>{e.some(b=>b.id===N.id)||a.push({id:N.id,type:"position",position:{x:N.position.x+f,y:N.position.y+j}})})),(m.width<l.width||m.height<l.height||f||j)&&a.push({id:c,type:"dimensions",setAttributes:!0,dimensions:{width:x+(f?h[0]*f-v:0),height:w+(j?h[1]*j-g:0)}})}),a}function hB(e,t,r,s,a,o){const i=s==null?void 0:s.querySelector(".xyflow__viewport");let l=!1;if(!i)return{changes:[],updatedInternals:l};const d=[],c=window.getComputedStyle(i),{m22:u}=new window.DOMMatrixReadOnly(c.transform),m=[];for(const h of e.values()){const f=t.get(h.id);if(!f)continue;if(f.hidden){t.set(f.id,{...f,internals:{...f.internals,handleBounds:void 0}}),l=!0;continue}const j=aj(h.nodeElement),x=f.measured.width!==j.width||f.measured.height!==j.height;if(!!(j.width&&j.height&&(x||!f.internals.handleBounds||h.force))){const v=h.nodeElement.getBoundingClientRect(),g=qi(f.extent)?f.extent:o;let{positionAbsolute:y}=f.internals;f.parentId&&f.extent==="parent"?y=FT(y,j,t.get(f.parentId)):g&&(y=ho(y,g,j));const N={...f,measured:j,internals:{...f.internals,positionAbsolute:y,handleBounds:{source:FN("source",h.nodeElement,v,u,f.id),target:FN("target",h.nodeElement,v,u,f.id)}}};t.set(f.id,N),f.parentId&&cj(N,t,r,{nodeOrigin:a}),l=!0,x&&(d.push({id:f.id,type:"dimensions",dimensions:j}),f.expandParent&&f.parentId&&m.push({id:f.id,parentId:f.parentId,rect:zi(N,a)}))}}if(m.length>0){const h=dj(m,t,r,a);d.push(...h)}return{changes:d,updatedInternals:l}}async function mB({delta:e,panZoom:t,transform:r,translateExtent:s,width:a,height:o}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const i=await t.setViewportConstrained({x:r[0]+e.x,y:r[1]+e.y,zoom:r[2]},[[0,0],[a,o]],s),l=!!i&&(i.x!==r[0]||i.y!==r[1]||i.k!==r[2]);return Promise.resolve(l)}function HN(e,t,r,s,a,o){let i=a;const l=s.get(i)||new Map;s.set(i,l.set(r,t)),i=`${a}-${e}`;const d=s.get(i)||new Map;if(s.set(i,d.set(r,t)),o){i=`${a}-${e}-${o}`;const c=s.get(i)||new Map;s.set(i,c.set(r,t))}}function WT(e,t,r){e.clear(),t.clear();for(const s of r){const{source:a,target:o,sourceHandle:i=null,targetHandle:l=null}=s,d={edgeId:s.id,source:a,target:o,sourceHandle:i,targetHandle:l},c=`${a}-${i}--${o}-${l}`,u=`${o}-${l}--${a}-${i}`;HN("source",d,u,e,a,i),HN("target",d,c,e,o,l),t.set(s.id,s)}}function YT(e,t){if(!e.parentId)return!1;const r=t.get(e.parentId);return r?r.selected?!0:YT(r,t):!1}function VN(e,t,r){var a;let s=e;do{if((a=s==null?void 0:s.matches)!=null&&a.call(s,t))return!0;if(s===r)return!1;s=s==null?void 0:s.parentElement}while(s);return!1}function pB(e,t,r,s){const a=new Map;for(const[o,i]of e)if((i.selected||i.id===s)&&(!i.parentId||!YT(i,e))&&(i.draggable||t&&typeof i.draggable>"u")){const l=e.get(o);l&&a.set(o,{id:o,position:l.position||{x:0,y:0},distance:{x:r.x-l.internals.positionAbsolute.x,y:r.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return a}function bf({nodeId:e,dragItems:t,nodeLookup:r,dragging:s=!0}){var i,l,d;const a=[];for(const[c,u]of t){const m=(i=r.get(c))==null?void 0:i.internals.userNode;m&&a.push({...m,position:u.position,dragging:s})}if(!e)return[a[0],a];const o=(l=r.get(e))==null?void 0:l.internals.userNode;return[o?{...o,position:((d=t.get(e))==null?void 0:d.position)||o.position,dragging:s}:a[0],a]}function fB({onNodeMouseDown:e,getStoreItems:t,onDragStart:r,onDrag:s,onDragStop:a}){let o={x:null,y:null},i=0,l=new Map,d=!1,c={x:0,y:0},u=null,m=!1,h=null,f=!1,j=!1;function x({noDragClassName:v,handleSelector:g,domNode:y,isSelectable:N,nodeId:b,nodeClickDistance:E=0}){h=Nn(y);function S({x:D,y:k},U){const{nodeLookup:M,nodeExtent:$,snapGrid:L,snapToGrid:I,nodeOrigin:F,onNodeDrag:R,onSelectionDrag:V,onError:B,updateNodePositions:H}=t();o={x:D,y:k};let q=!1,z={x:0,y:0,x2:0,y2:0};if(l.size>1&&$){const G=jd(l);z=Ag(G)}for(const[G,K]of l){if(!M.has(G))continue;let Y={x:D-K.distance.x,y:k-K.distance.y};I&&(Y=Gm(Y,L));let ne=[[$[0][0],$[0][1]],[$[1][0],$[1][1]]];if(l.size>1&&$&&!K.extent){const{positionAbsolute:xe}=K.internals,me=xe.x-z.x+$[0][0],ve=xe.x+K.measured.width-z.x2+$[1][0],we=xe.y-z.y+$[0][1],Re=xe.y+K.measured.height-z.y2+$[1][1];ne=[[me,we],[ve,Re]]}const{position:le,positionAbsolute:fe}=RT({nodeId:G,nextPosition:Y,nodeLookup:M,nodeExtent:ne,nodeOrigin:F,onError:B});q=q||K.position.x!==le.x||K.position.y!==le.y,K.position=le,K.internals.positionAbsolute=fe}if(j=j||q,!!q&&(H(l,!0),U&&(s||R||!b&&V))){const[G,K]=bf({nodeId:b,dragItems:l,nodeLookup:M});s==null||s(U,l,G,K),R==null||R(U,G,K),b||V==null||V(U,K)}}async function P(){if(!u)return;const{transform:D,panBy:k,autoPanSpeed:U,autoPanOnNodeDrag:M}=t();if(!M){d=!1,cancelAnimationFrame(i);return}const[$,L]=_T(c,u,U);($!==0||L!==0)&&(o.x=(o.x??0)-$/D[2],o.y=(o.y??0)-L/D[2],await k({x:$,y:L})&&S(o,null)),i=requestAnimationFrame(P)}function _(D){var q;const{nodeLookup:k,multiSelectionActive:U,nodesDraggable:M,transform:$,snapGrid:L,snapToGrid:I,selectNodesOnDrag:F,onNodeDragStart:R,onSelectionDragStart:V,unselectNodesAndEdges:B}=t();m=!0,(!F||!N)&&!U&&b&&((q=k.get(b))!=null&&q.selected||B()),N&&F&&b&&(e==null||e(b));const H=dc(D.sourceEvent,{transform:$,snapGrid:L,snapToGrid:I,containerBounds:u});if(o=H,l=pB(k,M,H,b),l.size>0&&(r||R||!b&&V)){const[z,G]=bf({nodeId:b,dragItems:l,nodeLookup:k});r==null||r(D.sourceEvent,l,z,G),R==null||R(D.sourceEvent,z,G),b||V==null||V(D.sourceEvent,G)}}const T=hT().clickDistance(E).on("start",D=>{const{domNode:k,nodeDragThreshold:U,transform:M,snapGrid:$,snapToGrid:L}=t();u=(k==null?void 0:k.getBoundingClientRect())||null,f=!1,j=!1,U===0&&_(D),o=dc(D.sourceEvent,{transform:M,snapGrid:$,snapToGrid:L,containerBounds:u}),c=Or(D.sourceEvent,u)}).on("drag",D=>{const{autoPanOnNodeDrag:k,transform:U,snapGrid:M,snapToGrid:$,nodeDragThreshold:L,nodeLookup:I}=t(),F=dc(D.sourceEvent,{transform:U,snapGrid:M,snapToGrid:$,containerBounds:u});if((D.sourceEvent.type==="touchmove"&&D.sourceEvent.touches.length>1||b&&!I.has(b))&&(f=!0),!f){if(!d&&k&&m&&(d=!0,P()),!m){const R=F.xSnapped-(o.x??0),V=F.ySnapped-(o.y??0);Math.sqrt(R*R+V*V)>L&&_(D)}(o.x!==F.xSnapped||o.y!==F.ySnapped)&&l&&m&&(c=Or(D.sourceEvent,u),S(F,D.sourceEvent))}}).on("end",D=>{if(!(!m||f)&&(d=!1,m=!1,cancelAnimationFrame(i),l.size>0)){const{nodeLookup:k,updateNodePositions:U,onNodeDragStop:M,onSelectionDragStop:$}=t();if(j&&(U(l,!1),j=!1),a||M||!b&&$){const[L,I]=bf({nodeId:b,dragItems:l,nodeLookup:k,dragging:!1});a==null||a(D.sourceEvent,l,L,I),M==null||M(D.sourceEvent,L,I),b||$==null||$(D.sourceEvent,I)}}}).filter(D=>{const k=D.target;return!D.button&&(!v||!VN(k,`.${v}`,y))&&(!g||VN(k,g,y))});h.call(T)}function w(){h==null||h.on(".drag",null)}return{update:x,destroy:w}}function xB(e,t,r){const s=[],a={x:e.x-r,y:e.y-r,width:r*2,height:r*2};for(const o of t.values())qc(a,zi(o))>0&&s.push(o);return s}const gB=250;function vB(e,t,r,s){var l,d;let a=[],o=1/0;const i=xB(e,r,t+gB);for(const c of i){const u=[...((l=c.internals.handleBounds)==null?void 0:l.source)??[],...((d=c.internals.handleBounds)==null?void 0:d.target)??[]];for(const m of u){if(s.nodeId===m.nodeId&&s.type===m.type&&s.id===m.id)continue;const{x:h,y:f}=Wc(c,m,m.position,!0),j=Math.sqrt(Math.pow(h-e.x,2)+Math.pow(f-e.y,2));j>t||(j<o?(a=[{...m,x:h,y:f}],o=j):j===o&&a.push({...m,x:h,y:f}))}}if(!a.length)return null;if(a.length>1){const c=s.type==="source"?"target":"source";return a.find(u=>u.type===c)??a[0]}return a[0]}function KT(e,t,r,s,a,o=!1){var c,u,m;const i=s.get(e);if(!i)return null;const l=a==="strict"?(c=i.internals.handleBounds)==null?void 0:c[t]:[...((u=i.internals.handleBounds)==null?void 0:u.source)??[],...((m=i.internals.handleBounds)==null?void 0:m.target)??[]],d=(r?l==null?void 0:l.find(h=>h.id===r):l==null?void 0:l[0])??null;return d&&o?{...d,...Wc(i,d,d.position,!0)}:d}function GT(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function yB(e,t){let r=null;return t?r=!0:e&&!t&&(r=!1),r}const XT=()=>!0;function jB(e,{connectionMode:t,connectionRadius:r,handleId:s,nodeId:a,edgeUpdaterType:o,isTarget:i,domNode:l,nodeLookup:d,lib:c,autoPanOnConnect:u,flowId:m,panBy:h,cancelConnection:f,onConnectStart:j,onConnect:x,onConnectEnd:w,isValidConnection:v=XT,onReconnectEnd:g,updateConnection:y,getTransform:N,getFromHandle:b,autoPanSpeed:E,dragThreshold:S=1}){const P=$T(e.target);let _=0,T;const{x:D,y:k}=Or(e),U=P==null?void 0:P.elementFromPoint(D,k),M=GT(o,U),$=l==null?void 0:l.getBoundingClientRect();let L=!1;if(!$||!M)return;const I=KT(a,M,s,d,t);if(!I)return;let F=Or(e,$),R=!1,V=null,B=!1,H=null;function q(){if(!u||!$)return;const[xe,me]=_T(F,$,E);h({x:xe,y:me}),_=requestAnimationFrame(q)}const z={...I,nodeId:a,type:M,position:I.position},G=d.get(a);let Y={inProgress:!0,isValid:null,from:Wc(G,z,je.Left,!0),fromHandle:z,fromPosition:z.position,fromNode:G,to:F,toHandle:null,toPosition:AN[z.position],toNode:null};function ne(){L=!0,y(Y),j==null||j(e,{nodeId:a,handleId:s,handleType:M})}S===0&&ne();function le(xe){if(!L){const{x:Re,y:_e}=Or(xe),Et=Re-D,Rn=_e-k;if(!(Et*Et+Rn*Rn>S*S))return;ne()}if(!b()||!z){fe(xe);return}const me=N();F=Or(xe,$),T=vB(wd(F,me,!1,[1,1]),r,d,z),R||(q(),R=!0);const ve=QT(xe,{handle:T,connectionMode:t,fromNodeId:a,fromHandleId:s,fromType:i?"target":"source",isValidConnection:v,doc:P,lib:c,flowId:m,nodeLookup:d});H=ve.handleDomNode,V=ve.connection,B=yB(!!T,ve.isValid);const we={...Y,isValid:B,to:ve.toHandle&&B?Hh({x:ve.toHandle.x,y:ve.toHandle.y},me):F,toHandle:ve.toHandle,toPosition:B&&ve.toHandle?ve.toHandle.position:AN[z.position],toNode:ve.toHandle?d.get(ve.toHandle.nodeId):null};B&&T&&Y.toHandle&&we.toHandle&&Y.toHandle.type===we.toHandle.type&&Y.toHandle.nodeId===we.toHandle.nodeId&&Y.toHandle.id===we.toHandle.id&&Y.to.x===we.to.x&&Y.to.y===we.to.y||(y(we),Y=we)}function fe(xe){if(L){(T||H)&&V&&B&&(x==null||x(V));const{inProgress:me,...ve}=Y,we={...ve,toPosition:Y.toHandle?Y.toPosition:null};w==null||w(xe,we),o&&(g==null||g(xe,we))}f(),cancelAnimationFrame(_),R=!1,B=!1,V=null,H=null,P.removeEventListener("mousemove",le),P.removeEventListener("mouseup",fe),P.removeEventListener("touchmove",le),P.removeEventListener("touchend",fe)}P.addEventListener("mousemove",le),P.addEventListener("mouseup",fe),P.addEventListener("touchmove",le),P.addEventListener("touchend",fe)}function QT(e,{handle:t,connectionMode:r,fromNodeId:s,fromHandleId:a,fromType:o,doc:i,lib:l,flowId:d,isValidConnection:c=XT,nodeLookup:u}){const m=o==="target",h=t?i.querySelector(`.${l}-flow__handle[data-id="${d}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:f,y:j}=Or(e),x=i.elementFromPoint(f,j),w=x!=null&&x.classList.contains(`${l}-flow__handle`)?x:h,v={handleDomNode:w,isValid:!1,connection:null,toHandle:null};if(w){const g=GT(void 0,w),y=w.getAttribute("data-nodeid"),N=w.getAttribute("data-handleid"),b=w.classList.contains("connectable"),E=w.classList.contains("connectableend");if(!y||!g)return v;const S={source:m?y:s,sourceHandle:m?N:a,target:m?s:y,targetHandle:m?a:N};v.connection=S;const _=b&&E&&(r===uo.Strict?m&&g==="source"||!m&&g==="target":y!==s||N!==a);v.isValid=_&&c(S),v.toHandle=KT(y,g,N,u,r,!0)}return v}const Fg={onPointerDown:jB,isValid:QT};function wB({domNode:e,panZoom:t,getTransform:r,getViewScale:s}){const a=Nn(e);function o({translateExtent:l,width:d,height:c,zoomStep:u=10,pannable:m=!0,zoomable:h=!0,inversePan:f=!1}){const j=y=>{const N=r();if(y.sourceEvent.type!=="wheel"||!t)return;const b=-y.sourceEvent.deltaY*(y.sourceEvent.deltaMode===1?.05:y.sourceEvent.deltaMode?1:.002)*u,E=N[2]*Math.pow(2,b);t.scaleTo(E)};let x=[0,0];const w=y=>{(y.sourceEvent.type==="mousedown"||y.sourceEvent.type==="touchstart")&&(x=[y.sourceEvent.clientX??y.sourceEvent.touches[0].clientX,y.sourceEvent.clientY??y.sourceEvent.touches[0].clientY])},v=y=>{const N=r();if(y.sourceEvent.type!=="mousemove"&&y.sourceEvent.type!=="touchmove"||!t)return;const b=[y.sourceEvent.clientX??y.sourceEvent.touches[0].clientX,y.sourceEvent.clientY??y.sourceEvent.touches[0].clientY],E=[b[0]-x[0],b[1]-x[1]];x=b;const S=s()*Math.max(N[2],Math.log(N[2]))*(f?-1:1),P={x:N[0]-E[0]*S,y:N[1]-E[1]*S},_=[[0,0],[d,c]];t.setViewportConstrained({x:P.x,y:P.y,zoom:N[2]},_,l)},g=PT().on("start",w).on("zoom",m?v:null).on("zoom.wheel",h?j:null);a.call(g,{})}function i(){a.on("zoom",null)}return{update:o,destroy:i,pointer:nr}}const NB=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Xm=e=>({x:e.x,y:e.y,zoom:e.k}),Sf=({x:e,y:t,zoom:r})=>Wm.translate(e,t).scale(r),ei=(e,t)=>e.target.closest(`.${t}`),JT=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),bB=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,Cf=(e,t=0,r=bB,s=()=>{})=>{const a=typeof t=="number"&&t>0;return a||s(),a?e.transition().duration(t).ease(r).on("end",s):e},ZT=e=>{const t=e.ctrlKey&&Vh()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function SB({zoomPanValues:e,noWheelClassName:t,d3Selection:r,d3Zoom:s,panOnScrollMode:a,panOnScrollSpeed:o,zoomOnPinch:i,onPanZoomStart:l,onPanZoom:d,onPanZoomEnd:c}){return u=>{if(ei(u,t))return!1;u.preventDefault(),u.stopImmediatePropagation();const m=r.property("__zoom").k||1;if(u.ctrlKey&&i){const w=nr(u),v=ZT(u),g=m*Math.pow(2,v);s.scaleTo(r,g,w,u);return}const h=u.deltaMode===1?20:1;let f=a===Xa.Vertical?0:u.deltaX*h,j=a===Xa.Horizontal?0:u.deltaY*h;!Vh()&&u.shiftKey&&a!==Xa.Vertical&&(f=u.deltaY*h,j=0),s.translateBy(r,-(f/m)*o,-(j/m)*o,{internal:!0});const x=Xm(r.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,l==null||l(u,x)),e.isPanScrolling&&(d==null||d(u,x),e.panScrollTimeout=setTimeout(()=>{c==null||c(u,x),e.isPanScrolling=!1},150))}}function CB({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:r}){return function(s,a){const o=s.type==="wheel",i=!t&&o&&!s.ctrlKey,l=ei(s,e);if(s.ctrlKey&&o&&l&&s.preventDefault(),i||l)return null;s.preventDefault(),r.call(this,s,a)}}function EB({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:r}){return s=>{var o,i,l;if((o=s.sourceEvent)!=null&&o.internal)return;const a=Xm(s.transform);e.mouseButton=((i=s.sourceEvent)==null?void 0:i.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=a,((l=s.sourceEvent)==null?void 0:l.type)==="mousedown"&&t(!0),r&&(r==null||r(s.sourceEvent,a))}}function PB({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:r,onTransformChange:s,onPanZoom:a}){return o=>{var i,l;e.usedRightMouseButton=!!(r&&JT(t,e.mouseButton??0)),(i=o.sourceEvent)!=null&&i.sync||s([o.transform.x,o.transform.y,o.transform.k]),a&&!((l=o.sourceEvent)!=null&&l.internal)&&(a==null||a(o.sourceEvent,Xm(o.transform)))}}function kB({zoomPanValues:e,panOnDrag:t,panOnScroll:r,onDraggingChange:s,onPanZoomEnd:a,onPaneContextMenu:o}){return i=>{var l;if(!((l=i.sourceEvent)!=null&&l.internal)&&(e.isZoomingOrPanning=!1,o&&JT(t,e.mouseButton??0)&&!e.usedRightMouseButton&&i.sourceEvent&&o(i.sourceEvent),e.usedRightMouseButton=!1,s(!1),a&&NB(e.prevViewport,i.transform))){const d=Xm(i.transform);e.prevViewport=d,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{a==null||a(i.sourceEvent,d)},r?150:0)}}}function TB({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:r,panOnDrag:s,panOnScroll:a,zoomOnDoubleClick:o,userSelectionActive:i,noWheelClassName:l,noPanClassName:d,lib:c}){return u=>{var j;const m=e||t,h=r&&u.ctrlKey;if(u.button===1&&u.type==="mousedown"&&(ei(u,`${c}-flow__node`)||ei(u,`${c}-flow__edge`)))return!0;if(!s&&!m&&!a&&!o&&!r||i||ei(u,l)&&u.type==="wheel"||ei(u,d)&&(u.type!=="wheel"||a&&u.type==="wheel"&&!e)||!r&&u.ctrlKey&&u.type==="wheel")return!1;if(!r&&u.type==="touchstart"&&((j=u.touches)==null?void 0:j.length)>1)return u.preventDefault(),!1;if(!m&&!a&&!h&&u.type==="wheel"||!s&&(u.type==="mousedown"||u.type==="touchstart")||Array.isArray(s)&&!s.includes(u.button)&&u.type==="mousedown")return!1;const f=Array.isArray(s)&&s.includes(u.button)||!u.button||u.button<=1;return(!u.ctrlKey||u.type==="wheel")&&f}}function AB({domNode:e,minZoom:t,maxZoom:r,paneClickDistance:s,translateExtent:a,viewport:o,onPanZoom:i,onPanZoomStart:l,onPanZoomEnd:d,onDraggingChange:c}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},m=e.getBoundingClientRect(),h=PT().clickDistance(!lr(s)||s<0?0:s).scaleExtent([t,r]).translateExtent(a),f=Nn(e).call(h);y({x:o.x,y:o.y,zoom:Bi(o.zoom,t,r)},[[0,0],[m.width,m.height]],a);const j=f.on("wheel.zoom"),x=f.on("dblclick.zoom");h.wheelDelta(ZT);function w(k,U){return f?new Promise(M=>{h==null||h.interpolate((U==null?void 0:U.interpolate)==="linear"?cc:$u).transform(Cf(f,U==null?void 0:U.duration,U==null?void 0:U.ease,()=>M(!0)),k)}):Promise.resolve(!1)}function v({noWheelClassName:k,noPanClassName:U,onPaneContextMenu:M,userSelectionActive:$,panOnScroll:L,panOnDrag:I,panOnScrollMode:F,panOnScrollSpeed:R,preventScrolling:V,zoomOnPinch:B,zoomOnScroll:H,zoomOnDoubleClick:q,zoomActivationKeyPressed:z,lib:G,onTransformChange:K}){$&&!u.isZoomingOrPanning&&g();const ne=L&&!z&&!$?SB({zoomPanValues:u,noWheelClassName:k,d3Selection:f,d3Zoom:h,panOnScrollMode:F,panOnScrollSpeed:R,zoomOnPinch:B,onPanZoomStart:l,onPanZoom:i,onPanZoomEnd:d}):CB({noWheelClassName:k,preventScrolling:V,d3ZoomHandler:j});if(f.on("wheel.zoom",ne,{passive:!1}),!$){const fe=EB({zoomPanValues:u,onDraggingChange:c,onPanZoomStart:l});h.on("start",fe);const xe=PB({zoomPanValues:u,panOnDrag:I,onPaneContextMenu:!!M,onPanZoom:i,onTransformChange:K});h.on("zoom",xe);const me=kB({zoomPanValues:u,panOnDrag:I,panOnScroll:L,onPaneContextMenu:M,onPanZoomEnd:d,onDraggingChange:c});h.on("end",me)}const le=TB({zoomActivationKeyPressed:z,panOnDrag:I,zoomOnScroll:H,panOnScroll:L,zoomOnDoubleClick:q,zoomOnPinch:B,userSelectionActive:$,noPanClassName:U,noWheelClassName:k,lib:G});h.filter(le),q?f.on("dblclick.zoom",x):f.on("dblclick.zoom",null)}function g(){h.on("zoom",null)}async function y(k,U,M){const $=Sf(k),L=h==null?void 0:h.constrain()($,U,M);return L&&await w(L),new Promise(I=>I(L))}async function N(k,U){const M=Sf(k);return await w(M,U),new Promise($=>$(M))}function b(k){if(f){const U=Sf(k),M=f.property("__zoom");(M.k!==k.zoom||M.x!==k.x||M.y!==k.y)&&(h==null||h.transform(f,U,null,{sync:!0}))}}function E(){const k=f?ET(f.node()):{x:0,y:0,k:1};return{x:k.x,y:k.y,zoom:k.k}}function S(k,U){return f?new Promise(M=>{h==null||h.interpolate((U==null?void 0:U.interpolate)==="linear"?cc:$u).scaleTo(Cf(f,U==null?void 0:U.duration,U==null?void 0:U.ease,()=>M(!0)),k)}):Promise.resolve(!1)}function P(k,U){return f?new Promise(M=>{h==null||h.interpolate((U==null?void 0:U.interpolate)==="linear"?cc:$u).scaleBy(Cf(f,U==null?void 0:U.duration,U==null?void 0:U.ease,()=>M(!0)),k)}):Promise.resolve(!1)}function _(k){h==null||h.scaleExtent(k)}function T(k){h==null||h.translateExtent(k)}function D(k){const U=!lr(k)||k<0?0:k;h==null||h.clickDistance(U)}return{update:v,destroy:g,setViewport:N,setViewportConstrained:y,getViewport:E,scaleTo:S,scaleBy:P,setScaleExtent:_,setTranslateExtent:T,syncViewport:b,setClickDistance:D}}var Wi;(function(e){e.Line="line",e.Handle="handle"})(Wi||(Wi={}));function MB({width:e,prevWidth:t,height:r,prevHeight:s,affectsX:a,affectsY:o}){const i=e-t,l=r-s,d=[i>0?1:i<0?-1:0,l>0?1:l<0?-1:0];return i&&a&&(d[0]=d[0]*-1),l&&o&&(d[1]=d[1]*-1),d}function DB(e){const t=e.includes("right")||e.includes("left"),r=e.includes("bottom")||e.includes("top"),s=e.includes("left"),a=e.includes("top");return{isHorizontal:t,isVertical:r,affectsX:s,affectsY:a}}function Rs(e,t){return Math.max(0,t-e)}function Fs(e,t){return Math.max(0,e-t)}function uu(e,t,r){return Math.max(0,t-e,e-r)}function BN(e,t){return e?!t:t}function RB(e,t,r,s,a,o,i,l){let{affectsX:d,affectsY:c}=t;const{isHorizontal:u,isVertical:m}=t,h=u&&m,{xSnapped:f,ySnapped:j}=r,{minWidth:x,maxWidth:w,minHeight:v,maxHeight:g}=s,{x:y,y:N,width:b,height:E,aspectRatio:S}=e;let P=Math.floor(u?f-e.pointerX:0),_=Math.floor(m?j-e.pointerY:0);const T=b+(d?-P:P),D=E+(c?-_:_),k=-o[0]*b,U=-o[1]*E;let M=uu(T,x,w),$=uu(D,v,g);if(i){let F=0,R=0;d&&P<0?F=Rs(y+P+k,i[0][0]):!d&&P>0&&(F=Fs(y+T+k,i[1][0])),c&&_<0?R=Rs(N+_+U,i[0][1]):!c&&_>0&&(R=Fs(N+D+U,i[1][1])),M=Math.max(M,F),$=Math.max($,R)}if(l){let F=0,R=0;d&&P>0?F=Fs(y+P,l[0][0]):!d&&P<0&&(F=Rs(y+T,l[1][0])),c&&_>0?R=Fs(N+_,l[0][1]):!c&&_<0&&(R=Rs(N+D,l[1][1])),M=Math.max(M,F),$=Math.max($,R)}if(a){if(u){const F=uu(T/S,v,g)*S;if(M=Math.max(M,F),i){let R=0;!d&&!c||d&&!c&&h?R=Fs(N+U+T/S,i[1][1])*S:R=Rs(N+U+(d?P:-P)/S,i[0][1])*S,M=Math.max(M,R)}if(l){let R=0;!d&&!c||d&&!c&&h?R=Rs(N+T/S,l[1][1])*S:R=Fs(N+(d?P:-P)/S,l[0][1])*S,M=Math.max(M,R)}}if(m){const F=uu(D*S,x,w)/S;if($=Math.max($,F),i){let R=0;!d&&!c||c&&!d&&h?R=Fs(y+D*S+k,i[1][0])/S:R=Rs(y+(c?_:-_)*S+k,i[0][0])/S,$=Math.max($,R)}if(l){let R=0;!d&&!c||c&&!d&&h?R=Rs(y+D*S,l[1][0])/S:R=Fs(y+(c?_:-_)*S,l[0][0])/S,$=Math.max($,R)}}}_=_+(_<0?$:-$),P=P+(P<0?M:-M),a&&(h?T>D*S?_=(BN(d,c)?-P:P)/S:P=(BN(d,c)?-_:_)*S:u?(_=P/S,c=d):(P=_*S,d=c));const L=d?y+P:y,I=c?N+_:N;return{width:b+(d?-P:P),height:E+(c?-_:_),x:o[0]*P*(d?-1:1)+L,y:o[1]*_*(c?-1:1)+I}}const eA={width:0,height:0,x:0,y:0},FB={...eA,pointerX:0,pointerY:0,aspectRatio:1};function _B(e){return[[0,0],[e.measured.width,e.measured.height]]}function OB(e,t,r){const s=t.position.x+e.position.x,a=t.position.y+e.position.y,o=e.measured.width??0,i=e.measured.height??0,l=r[0]*o,d=r[1]*i;return[[s-l,a-d],[s+o-l,a+i-d]]}function IB({domNode:e,nodeId:t,getStoreItems:r,onChange:s,onEnd:a}){const o=Nn(e);function i({controlPosition:d,boundaries:c,keepAspectRatio:u,resizeDirection:m,onResizeStart:h,onResize:f,onResizeEnd:j,shouldResize:x}){let w={...eA},v={...FB};const g=DB(d);let y,N=null,b=[],E,S,P;const _=hT().on("start",T=>{const{nodeLookup:D,transform:k,snapGrid:U,snapToGrid:M,nodeOrigin:$,paneDomNode:L}=r();if(y=D.get(t),!y)return;N=(L==null?void 0:L.getBoundingClientRect())??null;const{xSnapped:I,ySnapped:F}=dc(T.sourceEvent,{transform:k,snapGrid:U,snapToGrid:M,containerBounds:N});w={width:y.measured.width??0,height:y.measured.height??0,x:y.position.x??0,y:y.position.y??0},v={...w,pointerX:I,pointerY:F,aspectRatio:w.width/w.height},E=void 0,y.parentId&&(y.extent==="parent"||y.expandParent)&&(E=D.get(y.parentId),S=E&&y.extent==="parent"?_B(E):void 0),b=[],P=void 0;for(const[R,V]of D)if(V.parentId===t&&(b.push({id:R,position:{...V.position},extent:V.extent}),V.extent==="parent"||V.expandParent)){const B=OB(V,y,V.origin??$);P?P=[[Math.min(B[0][0],P[0][0]),Math.min(B[0][1],P[0][1])],[Math.max(B[1][0],P[1][0]),Math.max(B[1][1],P[1][1])]]:P=B}h==null||h(T,{...w})}).on("drag",T=>{const{transform:D,snapGrid:k,snapToGrid:U,nodeOrigin:M}=r(),$=dc(T.sourceEvent,{transform:D,snapGrid:k,snapToGrid:U,containerBounds:N}),L=[];if(!y)return;const{x:I,y:F,width:R,height:V}=w,B={},H=y.origin??M,{width:q,height:z,x:G,y:K}=RB(v,g,$,c,u,H,S,P),Y=q!==R,ne=z!==V,le=G!==I&&Y,fe=K!==F&&ne;if(!le&&!fe&&!Y&&!ne)return;if((le||fe||H[0]===1||H[1]===1)&&(B.x=le?G:w.x,B.y=fe?K:w.y,w.x=B.x,w.y=B.y,b.length>0)){const we=G-I,Re=K-F;for(const _e of b)_e.position={x:_e.position.x-we+H[0]*(q-R),y:_e.position.y-Re+H[1]*(z-V)},L.push(_e)}if((Y||ne)&&(B.width=Y&&(!m||m==="horizontal")?q:w.width,B.height=ne&&(!m||m==="vertical")?z:w.height,w.width=B.width,w.height=B.height),E&&y.expandParent){const we=H[0]*(B.width??0);B.x&&B.x<we&&(w.x=we,v.x=v.x-(B.x-we));const Re=H[1]*(B.height??0);B.y&&B.y<Re&&(w.y=Re,v.y=v.y-(B.y-Re))}const xe=MB({width:w.width,prevWidth:R,height:w.height,prevHeight:V,affectsX:g.affectsX,affectsY:g.affectsY}),me={...w,direction:xe};(x==null?void 0:x(T,me))!==!1&&(f==null||f(T,me),s(B,L))}).on("end",T=>{j==null||j(T,{...w}),a==null||a({...w})});o.call(_)}function l(){o.on(".drag",null)}return{update:i,destroy:l}}var tA={exports:{}},nA={},rA={exports:{}},sA={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yi=p;function LB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $B=typeof Object.is=="function"?Object.is:LB,UB=Yi.useState,HB=Yi.useEffect,VB=Yi.useLayoutEffect,BB=Yi.useDebugValue;function zB(e,t){var r=t(),s=UB({inst:{value:r,getSnapshot:t}}),a=s[0].inst,o=s[1];return VB(function(){a.value=r,a.getSnapshot=t,Ef(a)&&o({inst:a})},[e,r,t]),HB(function(){return Ef(a)&&o({inst:a}),e(function(){Ef(a)&&o({inst:a})})},[e]),BB(r),r}function Ef(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!$B(e,r)}catch{return!0}}function qB(e,t){return t()}var WB=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?qB:zB;sA.useSyncExternalStore=Yi.useSyncExternalStore!==void 0?Yi.useSyncExternalStore:WB;rA.exports=sA;var YB=rA.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qm=p,KB=YB;function GB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var XB=typeof Object.is=="function"?Object.is:GB,QB=KB.useSyncExternalStore,JB=Qm.useRef,ZB=Qm.useEffect,ez=Qm.useMemo,tz=Qm.useDebugValue;nA.useSyncExternalStoreWithSelector=function(e,t,r,s,a){var o=JB(null);if(o.current===null){var i={hasValue:!1,value:null};o.current=i}else i=o.current;o=ez(function(){function d(f){if(!c){if(c=!0,u=f,f=s(f),a!==void 0&&i.hasValue){var j=i.value;if(a(j,f))return m=j}return m=f}if(j=m,XB(u,f))return j;var x=s(f);return a!==void 0&&a(j,x)?(u=f,j):(u=f,m=x)}var c=!1,u,m,h=r===void 0?null:r;return[function(){return d(t())},h===null?void 0:function(){return d(h())}]},[t,r,s,a]);var l=QB(e,o[0],o[1]);return ZB(function(){i.hasValue=!0,i.value=l},[l]),tz(l),l};tA.exports=nA;var nz=tA.exports;const rz=Jg(nz),sz={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},zN=e=>{let t;const r=new Set,s=(u,m)=>{const h=typeof u=="function"?u(t):u;if(!Object.is(h,t)){const f=t;t=m??(typeof h!="object"||h===null)?h:Object.assign({},t,h),r.forEach(j=>j(t,f))}},a=()=>t,d={setState:s,getState:a,getInitialState:()=>c,subscribe:u=>(r.add(u),()=>r.delete(u)),destroy:()=>{(sz?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},c=t=e(s,a,d);return d},az=e=>e?zN(e):zN,{useDebugValue:oz}=pe,{useSyncExternalStoreWithSelector:iz}=rz,lz=e=>e;function aA(e,t=lz,r){const s=iz(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return oz(s),s}const qN=(e,t)=>{const r=az(e),s=(a,o=t)=>aA(r,a,o);return Object.assign(s,r),s},cz=(e,t)=>e?qN(e,t):qN;function ht(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[s,a]of e)if(!Object.is(a,t.get(s)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const s of r)if(!Object.prototype.hasOwnProperty.call(t,s)||!Object.is(e[s],t[s]))return!1;return!0}const Jm=p.createContext(null),dz=Jm.Provider,oA=zr.error001();function Oe(e,t){const r=p.useContext(Jm);if(r===null)throw new Error(oA);return aA(r,e,t)}function at(){const e=p.useContext(Jm);if(e===null)throw new Error(oA);return p.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const WN={display:"none"},uz={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},iA="react-flow__node-desc",lA="react-flow__edge-desc",hz="react-flow__aria-live",mz=e=>e.ariaLiveMessage,pz=e=>e.ariaLabelConfig;function fz({rfId:e}){const t=Oe(mz);return n.jsx("div",{id:`${hz}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:uz,children:t})}function xz({rfId:e,disableKeyboardA11y:t}){const r=Oe(pz);return n.jsxs(n.Fragment,{children:[n.jsx("div",{id:`${iA}-${e}`,style:WN,children:t?r["node.a11yDescription.default"]:r["node.a11yDescription.keyboardDisabled"]}),n.jsx("div",{id:`${lA}-${e}`,style:WN,children:r["edge.a11yDescription.default"]}),!t&&n.jsx(fz,{rfId:e})]})}const Ki=p.forwardRef(({position:e="top-left",children:t,className:r,style:s,...a},o)=>{const i=`${e}`.split("-");return n.jsx("div",{className:Ct(["react-flow__panel",r,...i]),style:s,ref:o,...a,children:t})});Ki.displayName="Panel";function gz({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:n.jsx(Ki,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:n.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const vz=e=>{const t=[],r=[];for(const[,s]of e.nodeLookup)s.selected&&t.push(s.internals.userNode);for(const[,s]of e.edgeLookup)s.selected&&r.push(s);return{selectedNodes:t,selectedEdges:r}},hu=e=>e.id;function yz(e,t){return ht(e.selectedNodes.map(hu),t.selectedNodes.map(hu))&&ht(e.selectedEdges.map(hu),t.selectedEdges.map(hu))}function jz({onSelectionChange:e}){const t=at(),{selectedNodes:r,selectedEdges:s}=Oe(vz,yz);return p.useEffect(()=>{const a={nodes:r,edges:s};e==null||e(a),t.getState().onSelectionChangeHandlers.forEach(o=>o(a))},[r,s,e]),null}const wz=e=>!!e.onSelectionChangeHandlers;function Nz({onSelectionChange:e}){const t=Oe(wz);return e||t?n.jsx(jz,{onSelectionChange:e}):null}const cA=[0,0],bz={x:0,y:0,zoom:1},Sz=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance","ariaLabelConfig"],YN=[...Sz,"rfId"],Cz=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),KN={translateExtent:Bc,nodeOrigin:cA,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function Ez(e){const{setNodes:t,setEdges:r,setMinZoom:s,setMaxZoom:a,setTranslateExtent:o,setNodeExtent:i,reset:l,setDefaultNodesAndEdges:d,setPaneClickDistance:c}=Oe(Cz,ht),u=at();p.useEffect(()=>(d(e.defaultNodes,e.defaultEdges),()=>{m.current=KN,l()}),[]);const m=p.useRef(KN);return p.useEffect(()=>{for(const h of YN){const f=e[h],j=m.current[h];f!==j&&(typeof e[h]>"u"||(h==="nodes"?t(f):h==="edges"?r(f):h==="minZoom"?s(f):h==="maxZoom"?a(f):h==="translateExtent"?o(f):h==="nodeExtent"?i(f):h==="paneClickDistance"?c(f):h==="ariaLabelConfig"?u.setState({ariaLabelConfig:Q9(f)}):h==="fitView"?u.setState({fitViewQueued:f}):h==="fitViewOptions"?u.setState({fitViewOptions:f}):u.setState({[h]:f})))}m.current=e},YN.map(h=>e[h])),null}function GN(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function Pz(e){var s;const[t,r]=p.useState(e==="system"?null:e);return p.useEffect(()=>{if(e!=="system"){r(e);return}const a=GN(),o=()=>r(a!=null&&a.matches?"dark":"light");return o(),a==null||a.addEventListener("change",o),()=>{a==null||a.removeEventListener("change",o)}},[e]),t!==null?t:(s=GN())!=null&&s.matches?"dark":"light"}const XN=typeof document<"u"?document:null;function Yc(e=null,t={target:XN,actInsideInputWithModifier:!0}){const[r,s]=p.useState(!1),a=p.useRef(!1),o=p.useRef(new Set([])),[i,l]=p.useMemo(()=>{if(e!==null){const c=(Array.isArray(e)?e:[e]).filter(m=>typeof m=="string").map(m=>m.replace("+",`
`).replace(`

`,`
+`).split(`
`)),u=c.reduce((m,h)=>m.concat(...h),[]);return[c,u]}return[[],[]]},[e]);return p.useEffect(()=>{const d=(t==null?void 0:t.target)??XN,c=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const u=f=>{var w,v;if(a.current=f.ctrlKey||f.metaKey||f.shiftKey||f.altKey,(!a.current||a.current&&!c)&&UT(f))return!1;const x=JN(f.code,l);if(o.current.add(f[x]),QN(i,o.current,!1)){const g=((v=(w=f.composedPath)==null?void 0:w.call(f))==null?void 0:v[0])||f.target,y=(g==null?void 0:g.nodeName)==="BUTTON"||(g==null?void 0:g.nodeName)==="A";t.preventDefault!==!1&&(a.current||!y)&&f.preventDefault(),s(!0)}},m=f=>{const j=JN(f.code,l);QN(i,o.current,!0)?(s(!1),o.current.clear()):o.current.delete(f[j]),f.key==="Meta"&&o.current.clear(),a.current=!1},h=()=>{o.current.clear(),s(!1)};return d==null||d.addEventListener("keydown",u),d==null||d.addEventListener("keyup",m),window.addEventListener("blur",h),window.addEventListener("contextmenu",h),()=>{d==null||d.removeEventListener("keydown",u),d==null||d.removeEventListener("keyup",m),window.removeEventListener("blur",h),window.removeEventListener("contextmenu",h)}}},[e,s]),r}function QN(e,t,r){return e.filter(s=>r||s.length===t.size).some(s=>s.every(a=>t.has(a)))}function JN(e,t){return t.includes(e)?"code":"key"}const kz=()=>{const e=at();return p.useMemo(()=>({zoomIn:t=>{const{panZoom:r}=e.getState();return r?r.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:r}=e.getState();return r?r.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,r)=>{const{panZoom:s}=e.getState();return s?s.scaleTo(t,{duration:r==null?void 0:r.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,r)=>{const{transform:[s,a,o],panZoom:i}=e.getState();return i?(await i.setViewport({x:t.x??s,y:t.y??a,zoom:t.zoom??o},r),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,r,s]=e.getState().transform;return{x:t,y:r,zoom:s}},setCenter:async(t,r,s)=>e.getState().setCenter(t,r,s),fitBounds:async(t,r)=>{const{width:s,height:a,minZoom:o,maxZoom:i,panZoom:l}=e.getState(),d=sj(t,s,a,o,i,(r==null?void 0:r.padding)??.1);return l?(await l.setViewport(d,{duration:r==null?void 0:r.duration,ease:r==null?void 0:r.ease,interpolate:r==null?void 0:r.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,r={})=>{const{transform:s,snapGrid:a,snapToGrid:o,domNode:i}=e.getState();if(!i)return t;const{x:l,y:d}=i.getBoundingClientRect(),c={x:t.x-l,y:t.y-d},u=r.snapGrid??a,m=r.snapToGrid??o;return wd(c,s,m,u)},flowToScreenPosition:t=>{const{transform:r,domNode:s}=e.getState();if(!s)return t;const{x:a,y:o}=s.getBoundingClientRect(),i=Hh(t,r);return{x:i.x+a,y:i.y+o}}}),[])};function dA(e,t){const r=[],s=new Map,a=[];for(const o of e)if(o.type==="add"){a.push(o);continue}else if(o.type==="remove"||o.type==="replace")s.set(o.id,[o]);else{const i=s.get(o.id);i?i.push(o):s.set(o.id,[o])}for(const o of t){const i=s.get(o.id);if(!i){r.push(o);continue}if(i[0].type==="remove")continue;if(i[0].type==="replace"){r.push({...i[0].item});continue}const l={...o};for(const d of i)Tz(d,l);r.push(l)}return a.length&&a.forEach(o=>{o.index!==void 0?r.splice(o.index,0,{...o.item}):r.push({...o.item})}),r}function Tz(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured??(t.measured={}),t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function uA(e,t){return dA(e,t)}function hA(e,t){return dA(e,t)}function Fa(e,t){return{id:e,type:"select",selected:t}}function ti(e,t=new Set,r=!1){const s=[];for(const[a,o]of e){const i=t.has(a);!(o.selected===void 0&&!i)&&o.selected!==i&&(r&&(o.selected=i),s.push(Fa(o.id,i)))}return s}function ZN({items:e=[],lookup:t}){var a;const r=[],s=new Map(e.map(o=>[o.id,o]));for(const[o,i]of e.entries()){const l=t.get(i.id),d=((a=l==null?void 0:l.internals)==null?void 0:a.userNode)??l;d!==void 0&&d!==i&&r.push({id:i.id,item:i,type:"replace"}),d===void 0&&r.push({item:i,type:"add",index:o})}for(const[o]of t)s.get(o)===void 0&&r.push({id:o,type:"remove"});return r}function eb(e){return{id:e.id,type:"remove"}}const tb=e=>H9(e),Az=e=>DT(e);function mA(e){return p.forwardRef(e)}const Mz=typeof window<"u"?p.useLayoutEffect:p.useEffect;function nb(e){const[t,r]=p.useState(BigInt(0)),[s]=p.useState(()=>Dz(()=>r(a=>a+BigInt(1))));return Mz(()=>{const a=s.get();a.length&&(e(a),s.reset())},[t]),s}function Dz(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:r=>{t.push(r),e()}}}const pA=p.createContext(null);function Rz({children:e}){const t=at(),r=p.useCallback(l=>{const{nodes:d=[],setNodes:c,hasDefaultNodes:u,onNodesChange:m,nodeLookup:h,fitViewQueued:f}=t.getState();let j=d;for(const w of l)j=typeof w=="function"?w(j):w;const x=ZN({items:j,lookup:h});u&&c(j),x.length>0?m==null||m(x):f&&window.requestAnimationFrame(()=>{const{fitViewQueued:w,nodes:v,setNodes:g}=t.getState();w&&g(v)})},[]),s=nb(r),a=p.useCallback(l=>{const{edges:d=[],setEdges:c,hasDefaultEdges:u,onEdgesChange:m,edgeLookup:h}=t.getState();let f=d;for(const j of l)f=typeof j=="function"?j(f):j;u?c(f):m&&m(ZN({items:f,lookup:h}))},[]),o=nb(a),i=p.useMemo(()=>({nodeQueue:s,edgeQueue:o}),[]);return n.jsx(pA.Provider,{value:i,children:e})}function Fz(){const e=p.useContext(pA);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const _z=e=>!!e.panZoom;function Xr(){const e=kz(),t=at(),r=Fz(),s=Oe(_z),a=p.useMemo(()=>{const o=m=>t.getState().nodeLookup.get(m),i=m=>{r.nodeQueue.push(m)},l=m=>{r.edgeQueue.push(m)},d=m=>{var v,g;const{nodeLookup:h,nodeOrigin:f}=t.getState(),j=tb(m)?m:h.get(m.id),x=j.parentId?LT(j.position,j.measured,j.parentId,h,f):j.position,w={...j,position:x,width:((v=j.measured)==null?void 0:v.width)??j.width,height:((g=j.measured)==null?void 0:g.height)??j.height};return zi(w)},c=(m,h,f={replace:!1})=>{i(j=>j.map(x=>{if(x.id===m){const w=typeof h=="function"?h(x):h;return f.replace&&tb(w)?w:{...x,...w}}return x}))},u=(m,h,f={replace:!1})=>{l(j=>j.map(x=>{if(x.id===m){const w=typeof h=="function"?h(x):h;return f.replace&&Az(w)?w:{...x,...w}}return x}))};return{getNodes:()=>t.getState().nodes.map(m=>({...m})),getNode:m=>{var h;return(h=o(m))==null?void 0:h.internals.userNode},getInternalNode:o,getEdges:()=>{const{edges:m=[]}=t.getState();return m.map(h=>({...h}))},getEdge:m=>t.getState().edgeLookup.get(m),setNodes:i,setEdges:l,addNodes:m=>{const h=Array.isArray(m)?m:[m];r.nodeQueue.push(f=>[...f,...h])},addEdges:m=>{const h=Array.isArray(m)?m:[m];r.edgeQueue.push(f=>[...f,...h])},toObject:()=>{const{nodes:m=[],edges:h=[],transform:f}=t.getState(),[j,x,w]=f;return{nodes:m.map(v=>({...v})),edges:h.map(v=>({...v})),viewport:{x:j,y:x,zoom:w}}},deleteElements:async({nodes:m=[],edges:h=[]})=>{const{nodes:f,edges:j,onNodesDelete:x,onEdgesDelete:w,triggerNodeChanges:v,triggerEdgeChanges:g,onDelete:y,onBeforeDelete:N}=t.getState(),{nodes:b,edges:E}=await W9({nodesToRemove:m,edgesToRemove:h,nodes:f,edges:j,onBeforeDelete:N}),S=E.length>0,P=b.length>0;if(S){const _=E.map(eb);w==null||w(E),g(_)}if(P){const _=b.map(eb);x==null||x(b),v(_)}return(P||S)&&(y==null||y({nodes:b,edges:E})),{deletedNodes:b,deletedEdges:E}},getIntersectingNodes:(m,h=!0,f)=>{const j=DN(m),x=j?m:d(m),w=f!==void 0;return x?(f||t.getState().nodes).filter(v=>{const g=t.getState().nodeLookup.get(v.id);if(g&&!j&&(v.id===m.id||!g.internals.positionAbsolute))return!1;const y=zi(w?v:g),N=qc(y,x);return h&&N>0||N>=y.width*y.height||N>=x.width*x.height}):[]},isNodeIntersecting:(m,h,f=!0)=>{const x=DN(m)?m:d(m);if(!x)return!1;const w=qc(x,h);return f&&w>0||w>=x.width*x.height},updateNode:c,updateNodeData:(m,h,f={replace:!1})=>{c(m,j=>{const x=typeof h=="function"?h(j):h;return f.replace?{...j,data:x}:{...j,data:{...j.data,...x}}},f)},updateEdge:u,updateEdgeData:(m,h,f={replace:!1})=>{u(m,j=>{const x=typeof h=="function"?h(j):h;return f.replace?{...j,data:x}:{...j,data:{...j.data,...x}}},f)},getNodesBounds:m=>{const{nodeLookup:h,nodeOrigin:f}=t.getState();return V9(m,{nodeLookup:h,nodeOrigin:f})},getHandleConnections:({type:m,id:h,nodeId:f})=>{var j;return Array.from(((j=t.getState().connectionLookup.get(`${f}-${m}${h?`-${h}`:""}`))==null?void 0:j.values())??[])},getNodeConnections:({type:m,handleId:h,nodeId:f})=>{var j;return Array.from(((j=t.getState().connectionLookup.get(`${f}${m?h?`-${m}-${h}`:`-${m}`:""}`))==null?void 0:j.values())??[])},fitView:async m=>{const h=t.getState().fitViewResolver??X9();return t.setState({fitViewQueued:!0,fitViewOptions:m,fitViewResolver:h}),r.nodeQueue.push(f=>[...f]),h.promise}}},[]);return p.useMemo(()=>({...a,...e,viewportInitialized:s}),[s])}const rb=e=>e.selected,Oz=typeof window<"u"?window:void 0;function Iz({deleteKeyCode:e,multiSelectionKeyCode:t}){const r=at(),{deleteElements:s}=Xr(),a=Yc(e,{actInsideInputWithModifier:!1}),o=Yc(t,{target:Oz});p.useEffect(()=>{if(a){const{edges:i,nodes:l}=r.getState();s({nodes:l.filter(rb),edges:i.filter(rb)}),r.setState({nodesSelectionActive:!1})}},[a]),p.useEffect(()=>{r.setState({multiSelectionActive:o})},[o])}function Lz(e){const t=at();p.useEffect(()=>{const r=()=>{var a,o;if(!e.current)return!1;const s=aj(e.current);(s.height===0||s.width===0)&&((o=(a=t.getState()).onError)==null||o.call(a,"004",zr.error004())),t.setState({width:s.width||500,height:s.height||500})};if(e.current){r(),window.addEventListener("resize",r);const s=new ResizeObserver(()=>r());return s.observe(e.current),()=>{window.removeEventListener("resize",r),s&&e.current&&s.unobserve(e.current)}}},[])}const Zm={position:"absolute",width:"100%",height:"100%",top:0,left:0},$z=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib});function Uz({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:r=!0,panOnScroll:s=!1,panOnScrollSpeed:a=.5,panOnScrollMode:o=Xa.Free,zoomOnDoubleClick:i=!0,panOnDrag:l=!0,defaultViewport:d,translateExtent:c,minZoom:u,maxZoom:m,zoomActivationKeyCode:h,preventScrolling:f=!0,children:j,noWheelClassName:x,noPanClassName:w,onViewportChange:v,isControlledViewport:g,paneClickDistance:y}){const N=at(),b=p.useRef(null),{userSelectionActive:E,lib:S}=Oe($z,ht),P=Yc(h),_=p.useRef();Lz(b);const T=p.useCallback(D=>{v==null||v({x:D[0],y:D[1],zoom:D[2]}),g||N.setState({transform:D})},[v,g]);return p.useEffect(()=>{if(b.current){_.current=AB({domNode:b.current,minZoom:u,maxZoom:m,translateExtent:c,viewport:d,paneClickDistance:y,onDraggingChange:M=>N.setState({paneDragging:M}),onPanZoomStart:(M,$)=>{const{onViewportChangeStart:L,onMoveStart:I}=N.getState();I==null||I(M,$),L==null||L($)},onPanZoom:(M,$)=>{const{onViewportChange:L,onMove:I}=N.getState();I==null||I(M,$),L==null||L($)},onPanZoomEnd:(M,$)=>{const{onViewportChangeEnd:L,onMoveEnd:I}=N.getState();I==null||I(M,$),L==null||L($)}});const{x:D,y:k,zoom:U}=_.current.getViewport();return N.setState({panZoom:_.current,transform:[D,k,U],domNode:b.current.closest(".react-flow")}),()=>{var M;(M=_.current)==null||M.destroy()}}},[]),p.useEffect(()=>{var D;(D=_.current)==null||D.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:r,panOnScroll:s,panOnScrollSpeed:a,panOnScrollMode:o,zoomOnDoubleClick:i,panOnDrag:l,zoomActivationKeyPressed:P,preventScrolling:f,noPanClassName:w,userSelectionActive:E,noWheelClassName:x,lib:S,onTransformChange:T})},[e,t,r,s,a,o,i,l,P,f,w,E,x,S,T]),n.jsx("div",{className:"react-flow__renderer",ref:b,style:Zm,children:j})}const Hz=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function Vz(){const{userSelectionActive:e,userSelectionRect:t}=Oe(Hz,ht);return e&&t?n.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const Pf=(e,t)=>r=>{r.target===t.current&&(e==null||e(r))},Bz=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function zz({isSelecting:e,selectionKeyPressed:t,selectionMode:r=zc.Full,panOnDrag:s,selectionOnDrag:a,onSelectionStart:o,onSelectionEnd:i,onPaneClick:l,onPaneContextMenu:d,onPaneScroll:c,onPaneMouseEnter:u,onPaneMouseMove:m,onPaneMouseLeave:h,children:f}){const j=at(),{userSelectionActive:x,elementsSelectable:w,dragging:v,connectionInProgress:g}=Oe(Bz,ht),y=w&&(e||x),N=p.useRef(null),b=p.useRef(),E=p.useRef(new Set),S=p.useRef(new Set),P=p.useRef(!1),_=p.useRef(!1),T=I=>{if(P.current||g){P.current=!1;return}l==null||l(I),j.getState().resetSelectedElements(),j.setState({nodesSelectionActive:!1})},D=I=>{if(Array.isArray(s)&&(s!=null&&s.includes(2))){I.preventDefault();return}d==null||d(I)},k=c?I=>c(I):void 0,U=I=>{var H,q;const{resetSelectedElements:F,domNode:R}=j.getState();if(b.current=R==null?void 0:R.getBoundingClientRect(),!w||!e||I.button!==0||I.target!==N.current||!b.current)return;(q=(H=I.target)==null?void 0:H.setPointerCapture)==null||q.call(H,I.pointerId),_.current=!0,P.current=!1;const{x:V,y:B}=Or(I.nativeEvent,b.current);F(),j.setState({userSelectionRect:{width:0,height:0,startX:V,startY:B,x:V,y:B}}),o==null||o(I)},M=I=>{const{userSelectionRect:F,transform:R,nodeLookup:V,edgeLookup:B,connectionLookup:H,triggerNodeChanges:q,triggerEdgeChanges:z,defaultEdgeOptions:G}=j.getState();if(!b.current||!F)return;P.current=!0;const{x:K,y:Y}=Or(I.nativeEvent,b.current),{startX:ne,startY:le}=F,fe={startX:ne,startY:le,x:K<ne?K:ne,y:Y<le?Y:le,width:Math.abs(K-ne),height:Math.abs(Y-le)},xe=E.current,me=S.current;E.current=new Set(rj(V,fe,R,r===zc.Partial,!0).map(we=>we.id)),S.current=new Set;const ve=(G==null?void 0:G.selectable)??!0;for(const we of E.current){const Re=H.get(we);if(Re)for(const{edgeId:_e}of Re.values()){const Et=B.get(_e);Et&&(Et.selectable??ve)&&S.current.add(_e)}}if(!RN(xe,E.current)){const we=ti(V,E.current,!0);q(we)}if(!RN(me,S.current)){const we=ti(B,S.current);z(we)}j.setState({userSelectionRect:fe,userSelectionActive:!0,nodesSelectionActive:!1})},$=I=>{var R,V;if(I.button!==0||!_.current)return;(V=(R=I.target)==null?void 0:R.releasePointerCapture)==null||V.call(R,I.pointerId);const{userSelectionRect:F}=j.getState();!x&&F&&I.target===N.current&&(T==null||T(I)),j.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:E.current.size>0}),i==null||i(I),(t||a)&&(P.current=!1),_.current=!1},L=s===!0||Array.isArray(s)&&s.includes(0);return n.jsxs("div",{className:Ct(["react-flow__pane",{draggable:L,dragging:v,selection:e}]),onClick:y?void 0:Pf(T,N),onContextMenu:Pf(D,N),onWheel:Pf(k,N),onPointerEnter:y?void 0:u,onPointerDown:y?U:m,onPointerMove:y?M:m,onPointerUp:y?$:void 0,onPointerLeave:h,ref:N,style:Zm,children:[f,n.jsx(Vz,{})]})}function _g({id:e,store:t,unselect:r=!1,nodeRef:s}){const{addSelectedNodes:a,unselectNodesAndEdges:o,multiSelectionActive:i,nodeLookup:l,onError:d}=t.getState(),c=l.get(e);if(!c){d==null||d("012",zr.error012(e));return}t.setState({nodesSelectionActive:!1}),c.selected?(r||c.selected&&i)&&(o({nodes:[c],edges:[]}),requestAnimationFrame(()=>{var u;return(u=s==null?void 0:s.current)==null?void 0:u.blur()})):a([e])}function fA({nodeRef:e,disabled:t=!1,noDragClassName:r,handleSelector:s,nodeId:a,isSelectable:o,nodeClickDistance:i}){const l=at(),[d,c]=p.useState(!1),u=p.useRef();return p.useEffect(()=>{u.current=fB({getStoreItems:()=>l.getState(),onNodeMouseDown:m=>{_g({id:m,store:l,nodeRef:e})},onDragStart:()=>{c(!0)},onDragStop:()=>{c(!1)}})},[]),p.useEffect(()=>{var m,h;if(t)(m=u.current)==null||m.destroy();else if(e.current)return(h=u.current)==null||h.update({noDragClassName:r,handleSelector:s,domNode:e.current,isSelectable:o,nodeId:a,nodeClickDistance:i}),()=>{var f;(f=u.current)==null||f.destroy()}},[r,s,t,o,e,a]),d}const qz=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function xA(){const e=at();return p.useCallback(r=>{const{nodeExtent:s,snapToGrid:a,snapGrid:o,nodesDraggable:i,onError:l,updateNodePositions:d,nodeLookup:c,nodeOrigin:u}=e.getState(),m=new Map,h=qz(i),f=a?o[0]:5,j=a?o[1]:5,x=r.direction.x*f*r.factor,w=r.direction.y*j*r.factor;for(const[,v]of c){if(!h(v))continue;let g={x:v.internals.positionAbsolute.x+x,y:v.internals.positionAbsolute.y+w};a&&(g=Gm(g,o));const{position:y,positionAbsolute:N}=RT({nodeId:v.id,nextPosition:g,nodeLookup:c,nodeExtent:s,nodeOrigin:u,onError:l});v.position=y,v.internals.positionAbsolute=N,m.set(v.id,v)}d(m)},[])}const uj=p.createContext(null),Wz=uj.Provider;uj.Consumer;const gA=()=>p.useContext(uj),Yz=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),Kz=(e,t,r)=>s=>{const{connectionClickStartHandle:a,connectionMode:o,connection:i}=s,{fromHandle:l,toHandle:d,isValid:c}=i,u=(d==null?void 0:d.nodeId)===e&&(d==null?void 0:d.id)===t&&(d==null?void 0:d.type)===r;return{connectingFrom:(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===t&&(l==null?void 0:l.type)===r,connectingTo:u,clickConnecting:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===r,isPossibleEndHandle:o===uo.Strict?(l==null?void 0:l.type)!==r:e!==(l==null?void 0:l.nodeId)||t!==(l==null?void 0:l.id),connectionInProcess:!!l,clickConnectionInProcess:!!a,valid:u&&c}};function Gz({type:e="source",position:t=je.Top,isValidConnection:r,isConnectable:s=!0,isConnectableStart:a=!0,isConnectableEnd:o=!0,id:i,onConnect:l,children:d,className:c,onMouseDown:u,onTouchStart:m,...h},f){var $,L;const j=i||null,x=e==="target",w=at(),v=gA(),{connectOnClick:g,noPanClassName:y,rfId:N}=Oe(Yz,ht),{connectingFrom:b,connectingTo:E,clickConnecting:S,isPossibleEndHandle:P,connectionInProcess:_,clickConnectionInProcess:T,valid:D}=Oe(Kz(v,j,e),ht);v||(L=($=w.getState()).onError)==null||L.call($,"010",zr.error010());const k=I=>{const{defaultEdgeOptions:F,onConnect:R,hasDefaultEdges:V}=w.getState(),B={...F,...I};if(V){const{edges:H,setEdges:q}=w.getState();q(Bh(B,H))}R==null||R(B),l==null||l(B)},U=I=>{if(!v)return;const F=HT(I.nativeEvent);if(a&&(F&&I.button===0||!F)){const R=w.getState();Fg.onPointerDown(I.nativeEvent,{autoPanOnConnect:R.autoPanOnConnect,connectionMode:R.connectionMode,connectionRadius:R.connectionRadius,domNode:R.domNode,nodeLookup:R.nodeLookup,lib:R.lib,isTarget:x,handleId:j,nodeId:v,flowId:R.rfId,panBy:R.panBy,cancelConnection:R.cancelConnection,onConnectStart:R.onConnectStart,onConnectEnd:R.onConnectEnd,updateConnection:R.updateConnection,onConnect:k,isValidConnection:r||R.isValidConnection,getTransform:()=>w.getState().transform,getFromHandle:()=>w.getState().connection.fromHandle,autoPanSpeed:R.autoPanSpeed,dragThreshold:R.connectionDragThreshold})}F?u==null||u(I):m==null||m(I)},M=I=>{const{onClickConnectStart:F,onClickConnectEnd:R,connectionClickStartHandle:V,connectionMode:B,isValidConnection:H,lib:q,rfId:z,nodeLookup:G,connection:K}=w.getState();if(!v||!V&&!a)return;if(!V){F==null||F(I.nativeEvent,{nodeId:v,handleId:j,handleType:e}),w.setState({connectionClickStartHandle:{nodeId:v,type:e,id:j}});return}const Y=$T(I.target),ne=r||H,{connection:le,isValid:fe}=Fg.isValid(I.nativeEvent,{handle:{nodeId:v,id:j,type:e},connectionMode:B,fromNodeId:V.nodeId,fromHandleId:V.id||null,fromType:V.type,isValidConnection:ne,flowId:z,doc:Y,lib:q,nodeLookup:G});fe&&le&&k(le);const xe=structuredClone(K);delete xe.inProgress,xe.toPosition=xe.toHandle?xe.toHandle.position:null,R==null||R(I,xe),w.setState({connectionClickStartHandle:null})};return n.jsx("div",{"data-handleid":j,"data-nodeid":v,"data-handlepos":t,"data-id":`${N}-${v}-${j}-${e}`,className:Ct(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",y,c,{source:!x,target:x,connectable:s,connectablestart:a,connectableend:o,clickconnecting:S,connectingfrom:b,connectingto:E,valid:D,connectionindicator:s&&(!_||P)&&(_||T?o:a)}]),onMouseDown:U,onTouchStart:U,onClick:g?M:void 0,ref:f,...h,children:d})}const yt=p.memo(mA(Gz));function Xz({data:e,isConnectable:t,sourcePosition:r=je.Bottom}){return n.jsxs(n.Fragment,{children:[e==null?void 0:e.label,n.jsx(yt,{type:"source",position:r,isConnectable:t})]})}function Qz({data:e,isConnectable:t,targetPosition:r=je.Top,sourcePosition:s=je.Bottom}){return n.jsxs(n.Fragment,{children:[n.jsx(yt,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label,n.jsx(yt,{type:"source",position:s,isConnectable:t})]})}function Jz(){return null}function Zz({data:e,isConnectable:t,targetPosition:r=je.Top}){return n.jsxs(n.Fragment,{children:[n.jsx(yt,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label]})}const zh={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},sb={input:Xz,default:Qz,output:Zz,group:Jz};function eq(e){var t,r,s,a;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((r=e.style)==null?void 0:r.height)}:{width:e.width??((s=e.style)==null?void 0:s.width),height:e.height??((a=e.style)==null?void 0:a.height)}}const tq=e=>{const{width:t,height:r,x:s,y:a}=jd(e.nodeLookup,{filter:o=>!!o.selected});return{width:lr(t)?t:null,height:lr(r)?r:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${s}px,${a}px)`}};function nq({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:r}){const s=at(),{width:a,height:o,transformString:i,userSelectionActive:l}=Oe(tq,ht),d=xA(),c=p.useRef(null);if(p.useEffect(()=>{var h;r||(h=c.current)==null||h.focus({preventScroll:!0})},[r]),fA({nodeRef:c}),l||!a||!o)return null;const u=e?h=>{const f=s.getState().nodes.filter(j=>j.selected);e(h,f)}:void 0,m=h=>{Object.prototype.hasOwnProperty.call(zh,h.key)&&(h.preventDefault(),d({direction:zh[h.key],factor:h.shiftKey?4:1}))};return n.jsx("div",{className:Ct(["react-flow__nodesselection","react-flow__container",t]),style:{transform:i},children:n.jsx("div",{ref:c,className:"react-flow__nodesselection-rect",onContextMenu:u,tabIndex:r?void 0:-1,onKeyDown:r?void 0:m,style:{width:a,height:o}})})}const ab=typeof window<"u"?window:void 0,rq=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function vA({children:e,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:s,onPaneMouseLeave:a,onPaneContextMenu:o,onPaneScroll:i,paneClickDistance:l,deleteKeyCode:d,selectionKeyCode:c,selectionOnDrag:u,selectionMode:m,onSelectionStart:h,onSelectionEnd:f,multiSelectionKeyCode:j,panActivationKeyCode:x,zoomActivationKeyCode:w,elementsSelectable:v,zoomOnScroll:g,zoomOnPinch:y,panOnScroll:N,panOnScrollSpeed:b,panOnScrollMode:E,zoomOnDoubleClick:S,panOnDrag:P,defaultViewport:_,translateExtent:T,minZoom:D,maxZoom:k,preventScrolling:U,onSelectionContextMenu:M,noWheelClassName:$,noPanClassName:L,disableKeyboardA11y:I,onViewportChange:F,isControlledViewport:R}){const{nodesSelectionActive:V,userSelectionActive:B}=Oe(rq),H=Yc(c,{target:ab}),q=Yc(x,{target:ab}),z=q||P,G=q||N,K=u&&z!==!0,Y=H||B||K;return Iz({deleteKeyCode:d,multiSelectionKeyCode:j}),n.jsx(Uz,{onPaneContextMenu:o,elementsSelectable:v,zoomOnScroll:g,zoomOnPinch:y,panOnScroll:G,panOnScrollSpeed:b,panOnScrollMode:E,zoomOnDoubleClick:S,panOnDrag:!H&&z,defaultViewport:_,translateExtent:T,minZoom:D,maxZoom:k,zoomActivationKeyCode:w,preventScrolling:U,noWheelClassName:$,noPanClassName:L,onViewportChange:F,isControlledViewport:R,paneClickDistance:l,children:n.jsxs(zz,{onSelectionStart:h,onSelectionEnd:f,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:s,onPaneMouseLeave:a,onPaneContextMenu:o,onPaneScroll:i,panOnDrag:z,isSelecting:!!Y,selectionMode:m,selectionKeyPressed:H,selectionOnDrag:K,children:[e,V&&n.jsx(nq,{onSelectionContextMenu:M,noPanClassName:L,disableKeyboardA11y:I})]})})}vA.displayName="FlowRenderer";const sq=p.memo(vA),aq=e=>t=>e?rj(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(r=>r.id):Array.from(t.nodeLookup.keys());function oq(e){return Oe(p.useCallback(aq(e),[e]),ht)}const iq=e=>e.updateNodeInternals;function lq(){const e=Oe(iq),[t]=p.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(r=>{const s=new Map;r.forEach(a=>{const o=a.target.getAttribute("data-id");s.set(o,{id:o,nodeElement:a.target,force:!0})}),e(s)}));return p.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function cq({node:e,nodeType:t,hasDimensions:r,resizeObserver:s}){const a=at(),o=p.useRef(null),i=p.useRef(null),l=p.useRef(e.sourcePosition),d=p.useRef(e.targetPosition),c=p.useRef(t),u=r&&!!e.internals.handleBounds;return p.useEffect(()=>{o.current&&!e.hidden&&(!u||i.current!==o.current)&&(i.current&&(s==null||s.unobserve(i.current)),s==null||s.observe(o.current),i.current=o.current)},[u,e.hidden]),p.useEffect(()=>()=>{i.current&&(s==null||s.unobserve(i.current),i.current=null)},[]),p.useEffect(()=>{if(o.current){const m=c.current!==t,h=l.current!==e.sourcePosition,f=d.current!==e.targetPosition;(m||h||f)&&(c.current=t,l.current=e.sourcePosition,d.current=e.targetPosition,a.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:o.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),o}function dq({id:e,onClick:t,onMouseEnter:r,onMouseMove:s,onMouseLeave:a,onContextMenu:o,onDoubleClick:i,nodesDraggable:l,elementsSelectable:d,nodesConnectable:c,nodesFocusable:u,resizeObserver:m,noDragClassName:h,noPanClassName:f,disableKeyboardA11y:j,rfId:x,nodeTypes:w,nodeClickDistance:v,onError:g}){const{node:y,internals:N,isParent:b}=Oe(ne=>{const le=ne.nodeLookup.get(e),fe=ne.parentLookup.has(e);return{node:le,internals:le.internals,isParent:fe}},ht);let E=y.type||"default",S=(w==null?void 0:w[E])||sb[E];S===void 0&&(g==null||g("003",zr.error003(E)),E="default",S=(w==null?void 0:w.default)||sb.default);const P=!!(y.draggable||l&&typeof y.draggable>"u"),_=!!(y.selectable||d&&typeof y.selectable>"u"),T=!!(y.connectable||c&&typeof y.connectable>"u"),D=!!(y.focusable||u&&typeof y.focusable>"u"),k=at(),U=IT(y),M=cq({node:y,nodeType:E,hasDimensions:U,resizeObserver:m}),$=fA({nodeRef:M,disabled:y.hidden||!P,noDragClassName:h,handleSelector:y.dragHandle,nodeId:e,isSelectable:_,nodeClickDistance:v}),L=xA();if(y.hidden)return null;const I=Es(y),F=eq(y),R=_||P||t||r||s||a,V=r?ne=>r(ne,{...N.userNode}):void 0,B=s?ne=>s(ne,{...N.userNode}):void 0,H=a?ne=>a(ne,{...N.userNode}):void 0,q=o?ne=>o(ne,{...N.userNode}):void 0,z=i?ne=>i(ne,{...N.userNode}):void 0,G=ne=>{const{selectNodesOnDrag:le,nodeDragThreshold:fe}=k.getState();_&&(!le||!P||fe>0)&&_g({id:e,store:k,nodeRef:M}),t&&t(ne,{...N.userNode})},K=ne=>{if(!(UT(ne.nativeEvent)||j)){if(kT.includes(ne.key)&&_){const le=ne.key==="Escape";_g({id:e,store:k,unselect:le,nodeRef:M})}else if(P&&y.selected&&Object.prototype.hasOwnProperty.call(zh,ne.key)){ne.preventDefault();const{ariaLabelConfig:le}=k.getState();k.setState({ariaLiveMessage:le["node.a11yDescription.ariaLiveMessage"]({direction:ne.key.replace("Arrow","").toLowerCase(),x:~~N.positionAbsolute.x,y:~~N.positionAbsolute.y})}),L({direction:zh[ne.key],factor:ne.shiftKey?4:1})}}},Y=()=>{var we;if(j||!((we=M.current)!=null&&we.matches(":focus-visible")))return;const{transform:ne,width:le,height:fe,autoPanOnNodeFocus:xe,setCenter:me}=k.getState();if(!xe)return;rj(new Map([[e,y]]),{x:0,y:0,width:le,height:fe},ne,!0).length>0||me(y.position.x+I.width/2,y.position.y+I.height/2,{zoom:ne[2]})};return n.jsx("div",{className:Ct(["react-flow__node",`react-flow__node-${E}`,{[f]:P},y.className,{selected:y.selected,selectable:_,parent:b,draggable:P,dragging:$}]),ref:M,style:{zIndex:N.z,transform:`translate(${N.positionAbsolute.x}px,${N.positionAbsolute.y}px)`,pointerEvents:R?"all":"none",visibility:U?"visible":"hidden",...y.style,...F},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:V,onMouseMove:B,onMouseLeave:H,onContextMenu:q,onClick:G,onDoubleClick:z,onKeyDown:D?K:void 0,tabIndex:D?0:void 0,onFocus:D?Y:void 0,role:y.ariaRole??(D?"group":void 0),"aria-roledescription":"node","aria-describedby":j?void 0:`${iA}-${x}`,"aria-label":y.ariaLabel,...y.domAttributes,children:n.jsx(Wz,{value:e,children:n.jsx(S,{id:e,data:y.data,type:E,positionAbsoluteX:N.positionAbsolute.x,positionAbsoluteY:N.positionAbsolute.y,selected:y.selected??!1,selectable:_,draggable:P,deletable:y.deletable??!0,isConnectable:T,sourcePosition:y.sourcePosition,targetPosition:y.targetPosition,dragging:$,dragHandle:y.dragHandle,zIndex:N.z,parentId:y.parentId,...I})})})}const uq=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function yA(e){const{nodesDraggable:t,nodesConnectable:r,nodesFocusable:s,elementsSelectable:a,onError:o}=Oe(uq,ht),i=oq(e.onlyRenderVisibleElements),l=lq();return n.jsx("div",{className:"react-flow__nodes",style:Zm,children:i.map(d=>n.jsx(dq,{id:d,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:l,nodesDraggable:t,nodesConnectable:r,nodesFocusable:s,elementsSelectable:a,nodeClickDistance:e.nodeClickDistance,onError:o},d))})}yA.displayName="NodeRenderer";const hq=p.memo(yA);function mq(e){return Oe(p.useCallback(r=>{if(!e)return r.edges.map(a=>a.id);const s=[];if(r.width&&r.height)for(const a of r.edges){const o=r.nodeLookup.get(a.source),i=r.nodeLookup.get(a.target);o&&i&&eB({sourceNode:o,targetNode:i,width:r.width,height:r.height,transform:r.transform})&&s.push(a.id)}return s},[e]),ht)}const pq=({color:e="none",strokeWidth:t=1})=>n.jsx("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),fq=({color:e="none",strokeWidth:t=1})=>n.jsx("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),ob={[ar.Arrow]:pq,[ar.ArrowClosed]:fq};function xq(e){const t=at();return p.useMemo(()=>{var a,o;return Object.prototype.hasOwnProperty.call(ob,e)?ob[e]:((o=(a=t.getState()).onError)==null||o.call(a,"009",zr.error009(e)),null)},[e])}const gq=({id:e,type:t,color:r,width:s=12.5,height:a=12.5,markerUnits:o="strokeWidth",strokeWidth:i,orient:l="auto-start-reverse"})=>{const d=xq(t);return d?n.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${s}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:l,refX:"0",refY:"0",children:n.jsx(d,{color:r,strokeWidth:i})}):null},jA=({defaultColor:e,rfId:t})=>{const r=Oe(o=>o.edges),s=Oe(o=>o.defaultEdgeOptions),a=p.useMemo(()=>iB(r,{id:t,defaultColor:e,defaultMarkerStart:s==null?void 0:s.markerStart,defaultMarkerEnd:s==null?void 0:s.markerEnd}),[r,s,t,e]);return a.length?n.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:n.jsx("defs",{children:a.map(o=>n.jsx(gq,{id:o.id,type:o.type,color:o.color,width:o.width,height:o.height,markerUnits:o.markerUnits,strokeWidth:o.strokeWidth,orient:o.orient},o.id))})}):null};jA.displayName="MarkerDefinitions";var vq=p.memo(jA);function wA({x:e,y:t,label:r,labelStyle:s,labelShowBg:a=!0,labelBgStyle:o,labelBgPadding:i=[2,4],labelBgBorderRadius:l=2,children:d,className:c,...u}){const[m,h]=p.useState({x:1,y:0,width:0,height:0}),f=Ct(["react-flow__edge-textwrapper",c]),j=p.useRef(null);return p.useEffect(()=>{if(j.current){const x=j.current.getBBox();h({x:x.x,y:x.y,width:x.width,height:x.height})}},[r]),r?n.jsxs("g",{transform:`translate(${e-m.width/2} ${t-m.height/2})`,className:f,visibility:m.width?"visible":"hidden",...u,children:[a&&n.jsx("rect",{width:m.width+2*i[0],x:-i[0],y:-i[1],height:m.height+2*i[1],className:"react-flow__edge-textbg",style:o,rx:l,ry:l}),n.jsx("text",{className:"react-flow__edge-text",y:m.height/2,dy:"0.3em",ref:j,style:s,children:r}),d]}):null}wA.displayName="EdgeText";const yq=p.memo(wA);function Nd({path:e,labelX:t,labelY:r,label:s,labelStyle:a,labelShowBg:o,labelBgStyle:i,labelBgPadding:l,labelBgBorderRadius:d,interactionWidth:c=20,...u}){return n.jsxs(n.Fragment,{children:[n.jsx("path",{...u,d:e,fill:"none",className:Ct(["react-flow__edge-path",u.className])}),c&&n.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:c,className:"react-flow__edge-interaction"}),s&&lr(t)&&lr(r)?n.jsx(yq,{x:t,y:r,label:s,labelStyle:a,labelShowBg:o,labelBgStyle:i,labelBgPadding:l,labelBgBorderRadius:d}):null]})}function ib({pos:e,x1:t,y1:r,x2:s,y2:a}){return e===je.Left||e===je.Right?[.5*(t+s),r]:[t,.5*(r+a)]}function NA({sourceX:e,sourceY:t,sourcePosition:r=je.Bottom,targetX:s,targetY:a,targetPosition:o=je.Top}){const[i,l]=ib({pos:r,x1:e,y1:t,x2:s,y2:a}),[d,c]=ib({pos:o,x1:s,y1:a,x2:e,y2:t}),[u,m,h,f]=VT({sourceX:e,sourceY:t,targetX:s,targetY:a,sourceControlX:i,sourceControlY:l,targetControlX:d,targetControlY:c});return[`M${e},${t} C${i},${l} ${d},${c} ${s},${a}`,u,m,h,f]}function bA(e){return p.memo(({id:t,sourceX:r,sourceY:s,targetX:a,targetY:o,sourcePosition:i,targetPosition:l,label:d,labelStyle:c,labelShowBg:u,labelBgStyle:m,labelBgPadding:h,labelBgBorderRadius:f,style:j,markerEnd:x,markerStart:w,interactionWidth:v})=>{const[g,y,N]=NA({sourceX:r,sourceY:s,sourcePosition:i,targetX:a,targetY:o,targetPosition:l}),b=e.isInternal?void 0:t;return n.jsx(Nd,{id:b,path:g,labelX:y,labelY:N,label:d,labelStyle:c,labelShowBg:u,labelBgStyle:m,labelBgPadding:h,labelBgBorderRadius:f,style:j,markerEnd:x,markerStart:w,interactionWidth:v})})}const jq=bA({isInternal:!1}),SA=bA({isInternal:!0});jq.displayName="SimpleBezierEdge";SA.displayName="SimpleBezierEdgeInternal";function CA(e){return p.memo(({id:t,sourceX:r,sourceY:s,targetX:a,targetY:o,label:i,labelStyle:l,labelShowBg:d,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:m,style:h,sourcePosition:f=je.Bottom,targetPosition:j=je.Top,markerEnd:x,markerStart:w,pathOptions:v,interactionWidth:g})=>{const[y,N,b]=Mg({sourceX:r,sourceY:s,sourcePosition:f,targetX:a,targetY:o,targetPosition:j,borderRadius:v==null?void 0:v.borderRadius,offset:v==null?void 0:v.offset,stepPosition:v==null?void 0:v.stepPosition}),E=e.isInternal?void 0:t;return n.jsx(Nd,{id:E,path:y,labelX:N,labelY:b,label:i,labelStyle:l,labelShowBg:d,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:m,style:h,markerEnd:x,markerStart:w,interactionWidth:g})})}const EA=CA({isInternal:!1}),PA=CA({isInternal:!0});EA.displayName="SmoothStepEdge";PA.displayName="SmoothStepEdgeInternal";function kA(e){return p.memo(({id:t,...r})=>{var a;const s=e.isInternal?void 0:t;return n.jsx(EA,{...r,id:s,pathOptions:p.useMemo(()=>{var o;return{borderRadius:0,offset:(o=r.pathOptions)==null?void 0:o.offset}},[(a=r.pathOptions)==null?void 0:a.offset])})})}const wq=kA({isInternal:!1}),TA=kA({isInternal:!0});wq.displayName="StepEdge";TA.displayName="StepEdgeInternal";function AA(e){return p.memo(({id:t,sourceX:r,sourceY:s,targetX:a,targetY:o,label:i,labelStyle:l,labelShowBg:d,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:m,style:h,markerEnd:f,markerStart:j,interactionWidth:x})=>{const[w,v,g]=zT({sourceX:r,sourceY:s,targetX:a,targetY:o}),y=e.isInternal?void 0:t;return n.jsx(Nd,{id:y,path:w,labelX:v,labelY:g,label:i,labelStyle:l,labelShowBg:d,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:m,style:h,markerEnd:f,markerStart:j,interactionWidth:x})})}const Nq=AA({isInternal:!1}),MA=AA({isInternal:!0});Nq.displayName="StraightEdge";MA.displayName="StraightEdgeInternal";function DA(e){return p.memo(({id:t,sourceX:r,sourceY:s,targetX:a,targetY:o,sourcePosition:i=je.Bottom,targetPosition:l=je.Top,label:d,labelStyle:c,labelShowBg:u,labelBgStyle:m,labelBgPadding:h,labelBgBorderRadius:f,style:j,markerEnd:x,markerStart:w,pathOptions:v,interactionWidth:g})=>{const[y,N,b]=oj({sourceX:r,sourceY:s,sourcePosition:i,targetX:a,targetY:o,targetPosition:l,curvature:v==null?void 0:v.curvature}),E=e.isInternal?void 0:t;return n.jsx(Nd,{id:E,path:y,labelX:N,labelY:b,label:d,labelStyle:c,labelShowBg:u,labelBgStyle:m,labelBgPadding:h,labelBgBorderRadius:f,style:j,markerEnd:x,markerStart:w,interactionWidth:g})})}const bq=DA({isInternal:!1}),RA=DA({isInternal:!0});bq.displayName="BezierEdge";RA.displayName="BezierEdgeInternal";const lb={default:RA,straight:MA,step:TA,smoothstep:PA,simplebezier:SA},cb={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},Sq=(e,t,r)=>r===je.Left?e-t:r===je.Right?e+t:e,Cq=(e,t,r)=>r===je.Top?e-t:r===je.Bottom?e+t:e,db="react-flow__edgeupdater";function ub({position:e,centerX:t,centerY:r,radius:s=10,onMouseDown:a,onMouseEnter:o,onMouseOut:i,type:l}){return n.jsx("circle",{onMouseDown:a,onMouseEnter:o,onMouseOut:i,className:Ct([db,`${db}-${l}`]),cx:Sq(t,s,e),cy:Cq(r,s,e),r:s,stroke:"transparent",fill:"transparent"})}function Eq({isReconnectable:e,reconnectRadius:t,edge:r,sourceX:s,sourceY:a,targetX:o,targetY:i,sourcePosition:l,targetPosition:d,onReconnect:c,onReconnectStart:u,onReconnectEnd:m,setReconnecting:h,setUpdateHover:f}){const j=at(),x=(N,b)=>{if(N.button!==0)return;const{autoPanOnConnect:E,domNode:S,isValidConnection:P,connectionMode:_,connectionRadius:T,lib:D,onConnectStart:k,onConnectEnd:U,cancelConnection:M,nodeLookup:$,rfId:L,panBy:I,updateConnection:F}=j.getState(),R=b.type==="target",V=(q,z)=>{h(!1),m==null||m(q,r,b.type,z)},B=q=>c==null?void 0:c(r,q),H=(q,z)=>{h(!0),u==null||u(N,r,b.type),k==null||k(q,z)};Fg.onPointerDown(N.nativeEvent,{autoPanOnConnect:E,connectionMode:_,connectionRadius:T,domNode:S,handleId:b.id,nodeId:b.nodeId,nodeLookup:$,isTarget:R,edgeUpdaterType:b.type,lib:D,flowId:L,cancelConnection:M,panBy:I,isValidConnection:P,onConnect:B,onConnectStart:H,onConnectEnd:U,onReconnectEnd:V,updateConnection:F,getTransform:()=>j.getState().transform,getFromHandle:()=>j.getState().connection.fromHandle,dragThreshold:j.getState().connectionDragThreshold})},w=N=>x(N,{nodeId:r.target,id:r.targetHandle??null,type:"target"}),v=N=>x(N,{nodeId:r.source,id:r.sourceHandle??null,type:"source"}),g=()=>f(!0),y=()=>f(!1);return n.jsxs(n.Fragment,{children:[(e===!0||e==="source")&&n.jsx(ub,{position:l,centerX:s,centerY:a,radius:t,onMouseDown:w,onMouseEnter:g,onMouseOut:y,type:"source"}),(e===!0||e==="target")&&n.jsx(ub,{position:d,centerX:o,centerY:i,radius:t,onMouseDown:v,onMouseEnter:g,onMouseOut:y,type:"target"})]})}function Pq({id:e,edgesFocusable:t,edgesReconnectable:r,elementsSelectable:s,onClick:a,onDoubleClick:o,onContextMenu:i,onMouseEnter:l,onMouseMove:d,onMouseLeave:c,reconnectRadius:u,onReconnect:m,onReconnectStart:h,onReconnectEnd:f,rfId:j,edgeTypes:x,noPanClassName:w,onError:v,disableKeyboardA11y:g}){let y=Oe(me=>me.edgeLookup.get(e));const N=Oe(me=>me.defaultEdgeOptions);y=N?{...N,...y}:y;let b=y.type||"default",E=(x==null?void 0:x[b])||lb[b];E===void 0&&(v==null||v("011",zr.error011(b)),b="default",E=(x==null?void 0:x.default)||lb.default);const S=!!(y.focusable||t&&typeof y.focusable>"u"),P=typeof m<"u"&&(y.reconnectable||r&&typeof y.reconnectable>"u"),_=!!(y.selectable||s&&typeof y.selectable>"u"),T=p.useRef(null),[D,k]=p.useState(!1),[U,M]=p.useState(!1),$=at(),{zIndex:L,sourceX:I,sourceY:F,targetX:R,targetY:V,sourcePosition:B,targetPosition:H}=Oe(p.useCallback(me=>{const ve=me.nodeLookup.get(y.source),we=me.nodeLookup.get(y.target);if(!ve||!we)return{zIndex:y.zIndex,...cb};const Re=oB({id:e,sourceNode:ve,targetNode:we,sourceHandle:y.sourceHandle||null,targetHandle:y.targetHandle||null,connectionMode:me.connectionMode,onError:v});return{zIndex:Z9({selected:y.selected,zIndex:y.zIndex,sourceNode:ve,targetNode:we,elevateOnSelect:me.elevateEdgesOnSelect}),...Re||cb}},[y.source,y.target,y.sourceHandle,y.targetHandle,y.selected,y.zIndex]),ht),q=p.useMemo(()=>y.markerStart?`url('#${Dg(y.markerStart,j)}')`:void 0,[y.markerStart,j]),z=p.useMemo(()=>y.markerEnd?`url('#${Dg(y.markerEnd,j)}')`:void 0,[y.markerEnd,j]);if(y.hidden||I===null||F===null||R===null||V===null)return null;const G=me=>{var _e;const{addSelectedEdges:ve,unselectNodesAndEdges:we,multiSelectionActive:Re}=$.getState();_&&($.setState({nodesSelectionActive:!1}),y.selected&&Re?(we({nodes:[],edges:[y]}),(_e=T.current)==null||_e.blur()):ve([e])),a&&a(me,y)},K=o?me=>{o(me,{...y})}:void 0,Y=i?me=>{i(me,{...y})}:void 0,ne=l?me=>{l(me,{...y})}:void 0,le=d?me=>{d(me,{...y})}:void 0,fe=c?me=>{c(me,{...y})}:void 0,xe=me=>{var ve;if(!g&&kT.includes(me.key)&&_){const{unselectNodesAndEdges:we,addSelectedEdges:Re}=$.getState();me.key==="Escape"?((ve=T.current)==null||ve.blur(),we({edges:[y]})):Re([e])}};return n.jsx("svg",{style:{zIndex:L},children:n.jsxs("g",{className:Ct(["react-flow__edge",`react-flow__edge-${b}`,y.className,w,{selected:y.selected,animated:y.animated,inactive:!_&&!a,updating:D,selectable:_}]),onClick:G,onDoubleClick:K,onContextMenu:Y,onMouseEnter:ne,onMouseMove:le,onMouseLeave:fe,onKeyDown:S?xe:void 0,tabIndex:S?0:void 0,role:y.ariaRole??(S?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":y.ariaLabel===null?void 0:y.ariaLabel||`Edge from ${y.source} to ${y.target}`,"aria-describedby":S?`${lA}-${j}`:void 0,ref:T,...y.domAttributes,children:[!U&&n.jsx(E,{id:e,source:y.source,target:y.target,type:y.type,selected:y.selected,animated:y.animated,selectable:_,deletable:y.deletable??!0,label:y.label,labelStyle:y.labelStyle,labelShowBg:y.labelShowBg,labelBgStyle:y.labelBgStyle,labelBgPadding:y.labelBgPadding,labelBgBorderRadius:y.labelBgBorderRadius,sourceX:I,sourceY:F,targetX:R,targetY:V,sourcePosition:B,targetPosition:H,data:y.data,style:y.style,sourceHandleId:y.sourceHandle,targetHandleId:y.targetHandle,markerStart:q,markerEnd:z,pathOptions:"pathOptions"in y?y.pathOptions:void 0,interactionWidth:y.interactionWidth}),P&&n.jsx(Eq,{edge:y,isReconnectable:P,reconnectRadius:u,onReconnect:m,onReconnectStart:h,onReconnectEnd:f,sourceX:I,sourceY:F,targetX:R,targetY:V,sourcePosition:B,targetPosition:H,setUpdateHover:k,setReconnecting:M})]})})}const kq=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function FA({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:r,edgeTypes:s,noPanClassName:a,onReconnect:o,onEdgeContextMenu:i,onEdgeMouseEnter:l,onEdgeMouseMove:d,onEdgeMouseLeave:c,onEdgeClick:u,reconnectRadius:m,onEdgeDoubleClick:h,onReconnectStart:f,onReconnectEnd:j,disableKeyboardA11y:x}){const{edgesFocusable:w,edgesReconnectable:v,elementsSelectable:g,onError:y}=Oe(kq,ht),N=mq(t);return n.jsxs("div",{className:"react-flow__edges",children:[n.jsx(vq,{defaultColor:e,rfId:r}),N.map(b=>n.jsx(Pq,{id:b,edgesFocusable:w,edgesReconnectable:v,elementsSelectable:g,noPanClassName:a,onReconnect:o,onContextMenu:i,onMouseEnter:l,onMouseMove:d,onMouseLeave:c,onClick:u,reconnectRadius:m,onDoubleClick:h,onReconnectStart:f,onReconnectEnd:j,rfId:r,onError:y,edgeTypes:s,disableKeyboardA11y:x},b))]})}FA.displayName="EdgeRenderer";const Tq=p.memo(FA),Aq=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function Mq({children:e}){const t=Oe(Aq);return n.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function Dq(e){const t=Xr(),r=p.useRef(!1);p.useEffect(()=>{!r.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),r.current=!0)},[e,t.viewportInitialized])}const Rq=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function Fq(e){const t=Oe(Rq),r=at();return p.useEffect(()=>{e&&(t==null||t(e),r.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function _q(e){return e.connection.inProgress?{...e.connection,to:wd(e.connection.to,e.transform)}:{...e.connection}}function Oq(e){return _q}function Iq(e){const t=Oq();return Oe(t,ht)}const Lq=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function $q({containerStyle:e,style:t,type:r,component:s}){const{nodesConnectable:a,width:o,height:i,isValid:l,inProgress:d}=Oe(Lq,ht);return!(o&&a&&d)?null:n.jsx("svg",{style:e,width:o,height:i,className:"react-flow__connectionline react-flow__container",children:n.jsx("g",{className:Ct(["react-flow__connection",MT(l)]),children:n.jsx(_A,{style:t,type:r,CustomComponent:s,isValid:l})})})}const _A=({style:e,type:t=zs.Bezier,CustomComponent:r,isValid:s})=>{const{inProgress:a,from:o,fromNode:i,fromHandle:l,fromPosition:d,to:c,toNode:u,toHandle:m,toPosition:h}=Iq();if(!a)return;if(r)return n.jsx(r,{connectionLineType:t,connectionLineStyle:e,fromNode:i,fromHandle:l,fromX:o.x,fromY:o.y,toX:c.x,toY:c.y,fromPosition:d,toPosition:h,connectionStatus:MT(s),toNode:u,toHandle:m});let f="";const j={sourceX:o.x,sourceY:o.y,sourcePosition:d,targetX:c.x,targetY:c.y,targetPosition:h};switch(t){case zs.Bezier:[f]=oj(j);break;case zs.SimpleBezier:[f]=NA(j);break;case zs.Step:[f]=Mg({...j,borderRadius:0});break;case zs.SmoothStep:[f]=Mg(j);break;default:[f]=zT(j)}return n.jsx("path",{d:f,fill:"none",className:"react-flow__connection-path",style:e})};_A.displayName="ConnectionLine";const Uq={};function hb(e=Uq){p.useRef(e),at(),p.useEffect(()=>{},[e])}function Hq(){at(),p.useRef(!1),p.useEffect(()=>{},[])}function OA({nodeTypes:e,edgeTypes:t,onInit:r,onNodeClick:s,onEdgeClick:a,onNodeDoubleClick:o,onEdgeDoubleClick:i,onNodeMouseEnter:l,onNodeMouseMove:d,onNodeMouseLeave:c,onNodeContextMenu:u,onSelectionContextMenu:m,onSelectionStart:h,onSelectionEnd:f,connectionLineType:j,connectionLineStyle:x,connectionLineComponent:w,connectionLineContainerStyle:v,selectionKeyCode:g,selectionOnDrag:y,selectionMode:N,multiSelectionKeyCode:b,panActivationKeyCode:E,zoomActivationKeyCode:S,deleteKeyCode:P,onlyRenderVisibleElements:_,elementsSelectable:T,defaultViewport:D,translateExtent:k,minZoom:U,maxZoom:M,preventScrolling:$,defaultMarkerColor:L,zoomOnScroll:I,zoomOnPinch:F,panOnScroll:R,panOnScrollSpeed:V,panOnScrollMode:B,zoomOnDoubleClick:H,panOnDrag:q,onPaneClick:z,onPaneMouseEnter:G,onPaneMouseMove:K,onPaneMouseLeave:Y,onPaneScroll:ne,onPaneContextMenu:le,paneClickDistance:fe,nodeClickDistance:xe,onEdgeContextMenu:me,onEdgeMouseEnter:ve,onEdgeMouseMove:we,onEdgeMouseLeave:Re,reconnectRadius:_e,onReconnect:Et,onReconnectStart:Rn,onReconnectEnd:We,noDragClassName:Gn,noWheelClassName:Co,noPanClassName:Aa,disableKeyboardA11y:Cr,nodeExtent:wl,rfId:Ma,viewport:Er,onViewportChange:Fn}){return hb(e),hb(t),Hq(),Dq(r),Fq(Er),n.jsx(sq,{onPaneClick:z,onPaneMouseEnter:G,onPaneMouseMove:K,onPaneMouseLeave:Y,onPaneContextMenu:le,onPaneScroll:ne,paneClickDistance:fe,deleteKeyCode:P,selectionKeyCode:g,selectionOnDrag:y,selectionMode:N,onSelectionStart:h,onSelectionEnd:f,multiSelectionKeyCode:b,panActivationKeyCode:E,zoomActivationKeyCode:S,elementsSelectable:T,zoomOnScroll:I,zoomOnPinch:F,zoomOnDoubleClick:H,panOnScroll:R,panOnScrollSpeed:V,panOnScrollMode:B,panOnDrag:q,defaultViewport:D,translateExtent:k,minZoom:U,maxZoom:M,onSelectionContextMenu:m,preventScrolling:$,noDragClassName:Gn,noWheelClassName:Co,noPanClassName:Aa,disableKeyboardA11y:Cr,onViewportChange:Fn,isControlledViewport:!!Er,children:n.jsxs(Mq,{children:[n.jsx(Tq,{edgeTypes:t,onEdgeClick:a,onEdgeDoubleClick:i,onReconnect:Et,onReconnectStart:Rn,onReconnectEnd:We,onlyRenderVisibleElements:_,onEdgeContextMenu:me,onEdgeMouseEnter:ve,onEdgeMouseMove:we,onEdgeMouseLeave:Re,reconnectRadius:_e,defaultMarkerColor:L,noPanClassName:Aa,disableKeyboardA11y:Cr,rfId:Ma}),n.jsx($q,{style:x,type:j,component:w,containerStyle:v}),n.jsx("div",{className:"react-flow__edgelabel-renderer"}),n.jsx(hq,{nodeTypes:e,onNodeClick:s,onNodeDoubleClick:o,onNodeMouseEnter:l,onNodeMouseMove:d,onNodeMouseLeave:c,onNodeContextMenu:u,nodeClickDistance:xe,onlyRenderVisibleElements:_,noPanClassName:Aa,noDragClassName:Gn,disableKeyboardA11y:Cr,nodeExtent:wl,rfId:Ma}),n.jsx("div",{className:"react-flow__viewport-portal"})]})})}OA.displayName="GraphView";const Vq=p.memo(OA),mb=({nodes:e,edges:t,defaultNodes:r,defaultEdges:s,width:a,height:o,fitView:i,fitViewOptions:l,minZoom:d=.5,maxZoom:c=2,nodeOrigin:u,nodeExtent:m}={})=>{const h=new Map,f=new Map,j=new Map,x=new Map,w=s??t??[],v=r??e??[],g=u??[0,0],y=m??Bc;WT(j,x,w);const N=Rg(v,h,f,{nodeOrigin:g,nodeExtent:y,elevateNodesOnSelect:!1});let b=[0,0,1];if(i&&a&&o){const E=jd(h,{filter:T=>!!((T.width||T.initialWidth)&&(T.height||T.initialHeight))}),{x:S,y:P,zoom:_}=sj(E,a,o,d,c,(l==null?void 0:l.padding)??.1);b=[S,P,_]}return{rfId:"1",width:0,height:0,transform:b,nodes:v,nodesInitialized:N,nodeLookup:h,parentLookup:f,edges:w,edgeLookup:x,connectionLookup:j,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:r!==void 0,hasDefaultEdges:s!==void 0,panZoom:null,minZoom:d,maxZoom:c,translateExtent:Bc,nodeExtent:y,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:uo.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:g,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:i??!1,fitViewOptions:l,fitViewResolver:null,connection:{...AT},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:Y9,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:TT}},Bq=({nodes:e,edges:t,defaultNodes:r,defaultEdges:s,width:a,height:o,fitView:i,fitViewOptions:l,minZoom:d,maxZoom:c,nodeOrigin:u,nodeExtent:m})=>cz((h,f)=>{async function j(){const{nodeLookup:x,panZoom:w,fitViewOptions:v,fitViewResolver:g,width:y,height:N,minZoom:b,maxZoom:E}=f();w&&(await q9({nodes:x,width:y,height:N,panZoom:w,minZoom:b,maxZoom:E},v),g==null||g.resolve(!0),h({fitViewResolver:null}))}return{...mb({nodes:e,edges:t,width:a,height:o,fitView:i,fitViewOptions:l,minZoom:d,maxZoom:c,nodeOrigin:u,nodeExtent:m,defaultNodes:r,defaultEdges:s}),setNodes:x=>{const{nodeLookup:w,parentLookup:v,nodeOrigin:g,elevateNodesOnSelect:y,fitViewQueued:N}=f(),b=Rg(x,w,v,{nodeOrigin:g,nodeExtent:m,elevateNodesOnSelect:y,checkEquality:!0});N&&b?(j(),h({nodes:x,nodesInitialized:b,fitViewQueued:!1,fitViewOptions:void 0})):h({nodes:x,nodesInitialized:b})},setEdges:x=>{const{connectionLookup:w,edgeLookup:v}=f();WT(w,v,x),h({edges:x})},setDefaultNodesAndEdges:(x,w)=>{if(x){const{setNodes:v}=f();v(x),h({hasDefaultNodes:!0})}if(w){const{setEdges:v}=f();v(w),h({hasDefaultEdges:!0})}},updateNodeInternals:x=>{const{triggerNodeChanges:w,nodeLookup:v,parentLookup:g,domNode:y,nodeOrigin:N,nodeExtent:b,debug:E,fitViewQueued:S}=f(),{changes:P,updatedInternals:_}=hB(x,v,g,y,N,b);_&&(cB(v,g,{nodeOrigin:N,nodeExtent:b}),S?(j(),h({fitViewQueued:!1,fitViewOptions:void 0})):h({}),(P==null?void 0:P.length)>0&&(E&&console.log("React Flow: trigger node changes",P),w==null||w(P)))},updateNodePositions:(x,w=!1)=>{const v=[],g=[],{nodeLookup:y,triggerNodeChanges:N}=f();for(const[b,E]of x){const S=y.get(b),P=!!(S!=null&&S.expandParent&&(S!=null&&S.parentId)&&(E!=null&&E.position)),_={id:b,type:"position",position:P?{x:Math.max(0,E.position.x),y:Math.max(0,E.position.y)}:E.position,dragging:w};P&&S.parentId&&v.push({id:b,parentId:S.parentId,rect:{...E.internals.positionAbsolute,width:E.measured.width??0,height:E.measured.height??0}}),g.push(_)}if(v.length>0){const{parentLookup:b,nodeOrigin:E}=f(),S=dj(v,y,b,E);g.push(...S)}N(g)},triggerNodeChanges:x=>{const{onNodesChange:w,setNodes:v,nodes:g,hasDefaultNodes:y,debug:N}=f();if(x!=null&&x.length){if(y){const b=uA(x,g);v(b)}N&&console.log("React Flow: trigger node changes",x),w==null||w(x)}},triggerEdgeChanges:x=>{const{onEdgesChange:w,setEdges:v,edges:g,hasDefaultEdges:y,debug:N}=f();if(x!=null&&x.length){if(y){const b=hA(x,g);v(b)}N&&console.log("React Flow: trigger edge changes",x),w==null||w(x)}},addSelectedNodes:x=>{const{multiSelectionActive:w,edgeLookup:v,nodeLookup:g,triggerNodeChanges:y,triggerEdgeChanges:N}=f();if(w){const b=x.map(E=>Fa(E,!0));y(b);return}y(ti(g,new Set([...x]),!0)),N(ti(v))},addSelectedEdges:x=>{const{multiSelectionActive:w,edgeLookup:v,nodeLookup:g,triggerNodeChanges:y,triggerEdgeChanges:N}=f();if(w){const b=x.map(E=>Fa(E,!0));N(b);return}N(ti(v,new Set([...x]))),y(ti(g,new Set,!0))},unselectNodesAndEdges:({nodes:x,edges:w}={})=>{const{edges:v,nodes:g,nodeLookup:y,triggerNodeChanges:N,triggerEdgeChanges:b}=f(),E=x||g,S=w||v,P=E.map(T=>{const D=y.get(T.id);return D&&(D.selected=!1),Fa(T.id,!1)}),_=S.map(T=>Fa(T.id,!1));N(P),b(_)},setMinZoom:x=>{const{panZoom:w,maxZoom:v}=f();w==null||w.setScaleExtent([x,v]),h({minZoom:x})},setMaxZoom:x=>{const{panZoom:w,minZoom:v}=f();w==null||w.setScaleExtent([v,x]),h({maxZoom:x})},setTranslateExtent:x=>{var w;(w=f().panZoom)==null||w.setTranslateExtent(x),h({translateExtent:x})},setPaneClickDistance:x=>{var w;(w=f().panZoom)==null||w.setClickDistance(x)},resetSelectedElements:()=>{const{edges:x,nodes:w,triggerNodeChanges:v,triggerEdgeChanges:g,elementsSelectable:y}=f();if(!y)return;const N=w.reduce((E,S)=>S.selected?[...E,Fa(S.id,!1)]:E,[]),b=x.reduce((E,S)=>S.selected?[...E,Fa(S.id,!1)]:E,[]);v(N),g(b)},setNodeExtent:x=>{const{nodes:w,nodeLookup:v,parentLookup:g,nodeOrigin:y,elevateNodesOnSelect:N,nodeExtent:b}=f();x[0][0]===b[0][0]&&x[0][1]===b[0][1]&&x[1][0]===b[1][0]&&x[1][1]===b[1][1]||(Rg(w,v,g,{nodeOrigin:y,nodeExtent:x,elevateNodesOnSelect:N,checkEquality:!1}),h({nodeExtent:x}))},panBy:x=>{const{transform:w,width:v,height:g,panZoom:y,translateExtent:N}=f();return mB({delta:x,panZoom:y,transform:w,translateExtent:N,width:v,height:g})},setCenter:async(x,w,v)=>{const{width:g,height:y,maxZoom:N,panZoom:b}=f();if(!b)return Promise.resolve(!1);const E=typeof(v==null?void 0:v.zoom)<"u"?v.zoom:N;return await b.setViewport({x:g/2-x*E,y:y/2-w*E,zoom:E},{duration:v==null?void 0:v.duration,ease:v==null?void 0:v.ease,interpolate:v==null?void 0:v.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{h({connection:{...AT}})},updateConnection:x=>{h({connection:x})},reset:()=>h({...mb()})}},Object.is);function zq({initialNodes:e,initialEdges:t,defaultNodes:r,defaultEdges:s,initialWidth:a,initialHeight:o,initialMinZoom:i,initialMaxZoom:l,initialFitViewOptions:d,fitView:c,nodeOrigin:u,nodeExtent:m,children:h}){const[f]=p.useState(()=>Bq({nodes:e,edges:t,defaultNodes:r,defaultEdges:s,width:a,height:o,fitView:c,minZoom:i,maxZoom:l,fitViewOptions:d,nodeOrigin:u,nodeExtent:m}));return n.jsx(dz,{value:f,children:n.jsx(Rz,{children:h})})}function qq({children:e,nodes:t,edges:r,defaultNodes:s,defaultEdges:a,width:o,height:i,fitView:l,fitViewOptions:d,minZoom:c,maxZoom:u,nodeOrigin:m,nodeExtent:h}){return p.useContext(Jm)?n.jsx(n.Fragment,{children:e}):n.jsx(zq,{initialNodes:t,initialEdges:r,defaultNodes:s,defaultEdges:a,initialWidth:o,initialHeight:i,fitView:l,initialFitViewOptions:d,initialMinZoom:c,initialMaxZoom:u,nodeOrigin:m,nodeExtent:h,children:e})}const Wq={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function Yq({nodes:e,edges:t,defaultNodes:r,defaultEdges:s,className:a,nodeTypes:o,edgeTypes:i,onNodeClick:l,onEdgeClick:d,onInit:c,onMove:u,onMoveStart:m,onMoveEnd:h,onConnect:f,onConnectStart:j,onConnectEnd:x,onClickConnectStart:w,onClickConnectEnd:v,onNodeMouseEnter:g,onNodeMouseMove:y,onNodeMouseLeave:N,onNodeContextMenu:b,onNodeDoubleClick:E,onNodeDragStart:S,onNodeDrag:P,onNodeDragStop:_,onNodesDelete:T,onEdgesDelete:D,onDelete:k,onSelectionChange:U,onSelectionDragStart:M,onSelectionDrag:$,onSelectionDragStop:L,onSelectionContextMenu:I,onSelectionStart:F,onSelectionEnd:R,onBeforeDelete:V,connectionMode:B,connectionLineType:H=zs.Bezier,connectionLineStyle:q,connectionLineComponent:z,connectionLineContainerStyle:G,deleteKeyCode:K="Backspace",selectionKeyCode:Y="Shift",selectionOnDrag:ne=!1,selectionMode:le=zc.Full,panActivationKeyCode:fe="Space",multiSelectionKeyCode:xe=Vh()?"Meta":"Control",zoomActivationKeyCode:me=Vh()?"Meta":"Control",snapToGrid:ve,snapGrid:we,onlyRenderVisibleElements:Re=!1,selectNodesOnDrag:_e,nodesDraggable:Et,autoPanOnNodeFocus:Rn,nodesConnectable:We,nodesFocusable:Gn,nodeOrigin:Co=cA,edgesFocusable:Aa,edgesReconnectable:Cr,elementsSelectable:wl=!0,defaultViewport:Ma=bz,minZoom:Er=.5,maxZoom:Fn=2,translateExtent:Nl=Bc,preventScrolling:Ts=!0,nodeExtent:Eo,defaultMarkerColor:gp="#b1b1b7",zoomOnScroll:Td=!0,zoomOnPinch:Ad=!0,panOnScroll:vp=!1,panOnScrollSpeed:bl=.5,panOnScrollMode:Pr=Xa.Free,zoomOnDoubleClick:yp=!0,panOnDrag:ke=!0,onPaneClick:Ye,onPaneMouseEnter:ze,onPaneMouseMove:_n,onPaneMouseLeave:On,onPaneScroll:Po,onPaneContextMenu:jp,paneClickDistance:Gj=0,nodeClickDistance:E4=0,children:P4,onReconnect:k4,onReconnectStart:T4,onReconnectEnd:A4,onEdgeContextMenu:M4,onEdgeDoubleClick:D4,onEdgeMouseEnter:R4,onEdgeMouseMove:F4,onEdgeMouseLeave:_4,reconnectRadius:O4=10,onNodesChange:I4,onEdgesChange:L4,noDragClassName:$4="nodrag",noWheelClassName:U4="nowheel",noPanClassName:Xj="nopan",fitView:Qj,fitViewOptions:Jj,connectOnClick:H4,attributionPosition:V4,proOptions:B4,defaultEdgeOptions:z4,elevateNodesOnSelect:q4,elevateEdgesOnSelect:W4,disableKeyboardA11y:Zj=!1,autoPanOnConnect:Y4,autoPanOnNodeDrag:K4,autoPanSpeed:G4,connectionRadius:X4,isValidConnection:Q4,onError:J4,style:Z4,id:e0,nodeDragThreshold:eR,connectionDragThreshold:tR,viewport:nR,onViewportChange:rR,width:sR,height:aR,colorMode:oR="light",debug:iR,onScroll:Md,ariaLabelConfig:lR,...cR},dR){const wp=e0||"1",uR=Pz(oR),hR=p.useCallback(t0=>{t0.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Md==null||Md(t0)},[Md]);return n.jsx("div",{"data-testid":"rf__wrapper",...cR,onScroll:hR,style:{...Z4,...Wq},ref:dR,className:Ct(["react-flow",a,uR]),id:e0,role:"application",children:n.jsxs(qq,{nodes:e,edges:t,width:sR,height:aR,fitView:Qj,fitViewOptions:Jj,minZoom:Er,maxZoom:Fn,nodeOrigin:Co,nodeExtent:Eo,children:[n.jsx(Vq,{onInit:c,onNodeClick:l,onEdgeClick:d,onNodeMouseEnter:g,onNodeMouseMove:y,onNodeMouseLeave:N,onNodeContextMenu:b,onNodeDoubleClick:E,nodeTypes:o,edgeTypes:i,connectionLineType:H,connectionLineStyle:q,connectionLineComponent:z,connectionLineContainerStyle:G,selectionKeyCode:Y,selectionOnDrag:ne,selectionMode:le,deleteKeyCode:K,multiSelectionKeyCode:xe,panActivationKeyCode:fe,zoomActivationKeyCode:me,onlyRenderVisibleElements:Re,defaultViewport:Ma,translateExtent:Nl,minZoom:Er,maxZoom:Fn,preventScrolling:Ts,zoomOnScroll:Td,zoomOnPinch:Ad,zoomOnDoubleClick:yp,panOnScroll:vp,panOnScrollSpeed:bl,panOnScrollMode:Pr,panOnDrag:ke,onPaneClick:Ye,onPaneMouseEnter:ze,onPaneMouseMove:_n,onPaneMouseLeave:On,onPaneScroll:Po,onPaneContextMenu:jp,paneClickDistance:Gj,nodeClickDistance:E4,onSelectionContextMenu:I,onSelectionStart:F,onSelectionEnd:R,onReconnect:k4,onReconnectStart:T4,onReconnectEnd:A4,onEdgeContextMenu:M4,onEdgeDoubleClick:D4,onEdgeMouseEnter:R4,onEdgeMouseMove:F4,onEdgeMouseLeave:_4,reconnectRadius:O4,defaultMarkerColor:gp,noDragClassName:$4,noWheelClassName:U4,noPanClassName:Xj,rfId:wp,disableKeyboardA11y:Zj,nodeExtent:Eo,viewport:nR,onViewportChange:rR}),n.jsx(Ez,{nodes:e,edges:t,defaultNodes:r,defaultEdges:s,onConnect:f,onConnectStart:j,onConnectEnd:x,onClickConnectStart:w,onClickConnectEnd:v,nodesDraggable:Et,autoPanOnNodeFocus:Rn,nodesConnectable:We,nodesFocusable:Gn,edgesFocusable:Aa,edgesReconnectable:Cr,elementsSelectable:wl,elevateNodesOnSelect:q4,elevateEdgesOnSelect:W4,minZoom:Er,maxZoom:Fn,nodeExtent:Eo,onNodesChange:I4,onEdgesChange:L4,snapToGrid:ve,snapGrid:we,connectionMode:B,translateExtent:Nl,connectOnClick:H4,defaultEdgeOptions:z4,fitView:Qj,fitViewOptions:Jj,onNodesDelete:T,onEdgesDelete:D,onDelete:k,onNodeDragStart:S,onNodeDrag:P,onNodeDragStop:_,onSelectionDrag:$,onSelectionDragStart:M,onSelectionDragStop:L,onMove:u,onMoveStart:m,onMoveEnd:h,noPanClassName:Xj,nodeOrigin:Co,rfId:wp,autoPanOnConnect:Y4,autoPanOnNodeDrag:K4,autoPanSpeed:G4,onError:J4,connectionRadius:X4,isValidConnection:Q4,selectNodesOnDrag:_e,nodeDragThreshold:eR,connectionDragThreshold:tR,onBeforeDelete:V,paneClickDistance:Gj,debug:iR,ariaLabelConfig:lR}),n.jsx(Nz,{onSelectionChange:U}),P4,n.jsx(gz,{proOptions:B4,position:V4}),n.jsx(xz,{rfId:wp,disableKeyboardA11y:Zj})]})})}var IA=mA(Yq);const Kq=e=>{var t;return(t=e.domNode)==null?void 0:t.querySelector(".react-flow__edgelabel-renderer")};function Gq({children:e}){const t=Oe(Kq);return t?Nr.createPortal(e,t):null}function LA(e){const[t,r]=p.useState(e),s=p.useCallback(a=>r(o=>uA(a,o)),[]);return[t,r,s]}function $A(e){const[t,r]=p.useState(e),s=p.useCallback(a=>r(o=>hA(a,o)),[]);return[t,r,s]}function Xq({dimensions:e,lineWidth:t,variant:r,className:s}){return n.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Ct(["react-flow__background-pattern",r,s])})}function Qq({radius:e,className:t}){return n.jsx("circle",{cx:e,cy:e,r:e,className:Ct(["react-flow__background-pattern","dots",t])})}var us;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(us||(us={}));const Jq={[us.Dots]:1,[us.Lines]:1,[us.Cross]:6},Zq=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function UA({id:e,variant:t=us.Dots,gap:r=20,size:s,lineWidth:a=1,offset:o=0,color:i,bgColor:l,style:d,className:c,patternClassName:u}){const m=p.useRef(null),{transform:h,patternId:f}=Oe(Zq,ht),j=s||Jq[t],x=t===us.Dots,w=t===us.Cross,v=Array.isArray(r)?r:[r,r],g=[v[0]*h[2]||1,v[1]*h[2]||1],y=j*h[2],N=Array.isArray(o)?o:[o,o],b=w?[y,y]:g,E=[N[0]*h[2]||1+b[0]/2,N[1]*h[2]||1+b[1]/2],S=`${f}${e||""}`;return n.jsxs("svg",{className:Ct(["react-flow__background",c]),style:{...d,...Zm,"--xy-background-color-props":l,"--xy-background-pattern-color-props":i},ref:m,"data-testid":"rf__background",children:[n.jsx("pattern",{id:S,x:h[0]%g[0],y:h[1]%g[1],width:g[0],height:g[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${E[0]},-${E[1]})`,children:x?n.jsx(Qq,{radius:y/2,className:u}):n.jsx(Xq,{dimensions:b,lineWidth:a,variant:t,className:u})}),n.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${S})`})]})}UA.displayName="Background";const HA=p.memo(UA);function eW(){return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:n.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function tW(){return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:n.jsx("path",{d:"M0 0h32v4.2H0z"})})}function nW(){return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:n.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function rW(){return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:n.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function sW(){return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:n.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function mu({children:e,className:t,...r}){return n.jsx("button",{type:"button",className:Ct(["react-flow__controls-button",t]),...r,children:e})}const aW=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function VA({style:e,showZoom:t=!0,showFitView:r=!0,showInteractive:s=!0,fitViewOptions:a,onZoomIn:o,onZoomOut:i,onFitView:l,onInteractiveChange:d,className:c,children:u,position:m="bottom-left",orientation:h="vertical","aria-label":f}){const j=at(),{isInteractive:x,minZoomReached:w,maxZoomReached:v,ariaLabelConfig:g}=Oe(aW,ht),{zoomIn:y,zoomOut:N,fitView:b}=Xr(),E=()=>{y(),o==null||o()},S=()=>{N(),i==null||i()},P=()=>{b(a),l==null||l()},_=()=>{j.setState({nodesDraggable:!x,nodesConnectable:!x,elementsSelectable:!x}),d==null||d(!x)},T=h==="horizontal"?"horizontal":"vertical";return n.jsxs(Ki,{className:Ct(["react-flow__controls",T,c]),position:m,style:e,"data-testid":"rf__controls","aria-label":f??g["controls.ariaLabel"],children:[t&&n.jsxs(n.Fragment,{children:[n.jsx(mu,{onClick:E,className:"react-flow__controls-zoomin",title:g["controls.zoomIn.ariaLabel"],"aria-label":g["controls.zoomIn.ariaLabel"],disabled:v,children:n.jsx(eW,{})}),n.jsx(mu,{onClick:S,className:"react-flow__controls-zoomout",title:g["controls.zoomOut.ariaLabel"],"aria-label":g["controls.zoomOut.ariaLabel"],disabled:w,children:n.jsx(tW,{})})]}),r&&n.jsx(mu,{className:"react-flow__controls-fitview",onClick:P,title:g["controls.fitView.ariaLabel"],"aria-label":g["controls.fitView.ariaLabel"],children:n.jsx(nW,{})}),s&&n.jsx(mu,{className:"react-flow__controls-interactive",onClick:_,title:g["controls.interactive.ariaLabel"],"aria-label":g["controls.interactive.ariaLabel"],children:x?n.jsx(sW,{}):n.jsx(rW,{})}),u]})}VA.displayName="Controls";const BA=p.memo(VA);function oW({id:e,x:t,y:r,width:s,height:a,style:o,color:i,strokeColor:l,strokeWidth:d,className:c,borderRadius:u,shapeRendering:m,selected:h,onClick:f}){const{background:j,backgroundColor:x}=o||{},w=i||j||x;return n.jsx("rect",{className:Ct(["react-flow__minimap-node",{selected:h},c]),x:t,y:r,rx:u,ry:u,width:s,height:a,style:{fill:w,stroke:l,strokeWidth:d},shapeRendering:m,onClick:f?v=>f(v,e):void 0})}const iW=p.memo(oW),lW=e=>e.nodes.map(t=>t.id),kf=e=>e instanceof Function?e:()=>e;function cW({nodeStrokeColor:e,nodeColor:t,nodeClassName:r="",nodeBorderRadius:s=5,nodeStrokeWidth:a,nodeComponent:o=iW,onClick:i}){const l=Oe(lW,ht),d=kf(t),c=kf(e),u=kf(r),m=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return n.jsx(n.Fragment,{children:l.map(h=>n.jsx(uW,{id:h,nodeColorFunc:d,nodeStrokeColorFunc:c,nodeClassNameFunc:u,nodeBorderRadius:s,nodeStrokeWidth:a,NodeComponent:o,onClick:i,shapeRendering:m},h))})}function dW({id:e,nodeColorFunc:t,nodeStrokeColorFunc:r,nodeClassNameFunc:s,nodeBorderRadius:a,nodeStrokeWidth:o,shapeRendering:i,NodeComponent:l,onClick:d}){const{node:c,x:u,y:m,width:h,height:f}=Oe(j=>{const{internals:x}=j.nodeLookup.get(e),w=x.userNode,{x:v,y:g}=x.positionAbsolute,{width:y,height:N}=Es(w);return{node:w,x:v,y:g,width:y,height:N}},ht);return!c||c.hidden||!IT(c)?null:n.jsx(l,{x:u,y:m,width:h,height:f,style:c.style,selected:!!c.selected,className:s(c),color:t(c),borderRadius:a,strokeColor:r(c),strokeWidth:o,shapeRendering:i,onClick:d,id:c.id})}const uW=p.memo(dW);var hW=p.memo(cW);const mW=200,pW=150,fW=e=>!e.hidden,xW=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?OT(jd(e.nodeLookup,{filter:fW}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},gW="react-flow__minimap-desc";function zA({style:e,className:t,nodeStrokeColor:r,nodeColor:s,nodeClassName:a="",nodeBorderRadius:o=5,nodeStrokeWidth:i,nodeComponent:l,bgColor:d,maskColor:c,maskStrokeColor:u,maskStrokeWidth:m,position:h="bottom-right",onClick:f,onNodeClick:j,pannable:x=!1,zoomable:w=!1,ariaLabel:v,inversePan:g,zoomStep:y=10,offsetScale:N=5}){const b=at(),E=p.useRef(null),{boundingRect:S,viewBB:P,rfId:_,panZoom:T,translateExtent:D,flowWidth:k,flowHeight:U,ariaLabelConfig:M}=Oe(xW,ht),$=(e==null?void 0:e.width)??mW,L=(e==null?void 0:e.height)??pW,I=S.width/$,F=S.height/L,R=Math.max(I,F),V=R*$,B=R*L,H=N*R,q=S.x-(V-S.width)/2-H,z=S.y-(B-S.height)/2-H,G=V+H*2,K=B+H*2,Y=`${gW}-${_}`,ne=p.useRef(0),le=p.useRef();ne.current=R,p.useEffect(()=>{if(E.current&&T)return le.current=wB({domNode:E.current,panZoom:T,getTransform:()=>b.getState().transform,getViewScale:()=>ne.current}),()=>{var ve;(ve=le.current)==null||ve.destroy()}},[T]),p.useEffect(()=>{var ve;(ve=le.current)==null||ve.update({translateExtent:D,width:k,height:U,inversePan:g,pannable:x,zoomStep:y,zoomable:w})},[x,w,g,y,D,k,U]);const fe=f?ve=>{var _e;const[we,Re]=((_e=le.current)==null?void 0:_e.pointer(ve))||[0,0];f(ve,{x:we,y:Re})}:void 0,xe=j?p.useCallback((ve,we)=>{const Re=b.getState().nodeLookup.get(we).internals.userNode;j(ve,Re)},[]):void 0,me=v??M["minimap.ariaLabel"];return n.jsx(Ki,{position:h,style:{...e,"--xy-minimap-background-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-stroke-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-width-props":typeof m=="number"?m*R:void 0,"--xy-minimap-node-background-color-props":typeof s=="string"?s:void 0,"--xy-minimap-node-stroke-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-width-props":typeof i=="number"?i:void 0},className:Ct(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:n.jsxs("svg",{width:$,height:L,viewBox:`${q} ${z} ${G} ${K}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":Y,ref:E,onClick:fe,children:[me&&n.jsx("title",{id:Y,children:me}),n.jsx(hW,{onClick:xe,nodeColor:s,nodeStrokeColor:r,nodeBorderRadius:o,nodeClassName:a,nodeStrokeWidth:i,nodeComponent:l}),n.jsx("path",{className:"react-flow__minimap-mask",d:`M${q-H},${z-H}h${G+H*2}v${K+H*2}h${-G-H*2}z
        M${P.x},${P.y}h${P.width}v${P.height}h${-P.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}zA.displayName="MiniMap";const qA=p.memo(zA),vW=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,yW={[Wi.Line]:"right",[Wi.Handle]:"bottom-right"};function jW({nodeId:e,position:t,variant:r=Wi.Handle,className:s,style:a=void 0,children:o,color:i,minWidth:l=10,minHeight:d=10,maxWidth:c=Number.MAX_VALUE,maxHeight:u=Number.MAX_VALUE,keepAspectRatio:m=!1,resizeDirection:h,autoScale:f=!0,shouldResize:j,onResizeStart:x,onResize:w,onResizeEnd:v}){const g=gA(),y=typeof e=="string"?e:g,N=at(),b=p.useRef(null),E=r===Wi.Handle,S=Oe(p.useCallback(vW(E&&f),[E,f]),ht),P=p.useRef(null),_=t??yW[r];p.useEffect(()=>{if(!(!b.current||!y))return P.current||(P.current=IB({domNode:b.current,nodeId:y,getStoreItems:()=>{const{nodeLookup:D,transform:k,snapGrid:U,snapToGrid:M,nodeOrigin:$,domNode:L}=N.getState();return{nodeLookup:D,transform:k,snapGrid:U,snapToGrid:M,nodeOrigin:$,paneDomNode:L}},onChange:(D,k)=>{const{triggerNodeChanges:U,nodeLookup:M,parentLookup:$,nodeOrigin:L}=N.getState(),I=[],F={x:D.x,y:D.y},R=M.get(y);if(R&&R.expandParent&&R.parentId){const V=R.origin??L,B=D.width??R.measured.width??0,H=D.height??R.measured.height??0,q={id:R.id,parentId:R.parentId,rect:{width:B,height:H,...LT({x:D.x??R.position.x,y:D.y??R.position.y},{width:B,height:H},R.parentId,M,V)}},z=dj([q],M,$,L);I.push(...z),F.x=D.x?Math.max(V[0]*B,D.x):void 0,F.y=D.y?Math.max(V[1]*H,D.y):void 0}if(F.x!==void 0&&F.y!==void 0){const V={id:y,type:"position",position:{...F}};I.push(V)}if(D.width!==void 0&&D.height!==void 0){const B={id:y,type:"dimensions",resizing:!0,setAttributes:h?h==="horizontal"?"width":"height":!0,dimensions:{width:D.width,height:D.height}};I.push(B)}for(const V of k){const B={...V,type:"position"};I.push(B)}U(I)},onEnd:({width:D,height:k})=>{const U={id:y,type:"dimensions",resizing:!1,dimensions:{width:D,height:k}};N.getState().triggerNodeChanges([U])}})),P.current.update({controlPosition:_,boundaries:{minWidth:l,minHeight:d,maxWidth:c,maxHeight:u},keepAspectRatio:m,resizeDirection:h,onResizeStart:x,onResize:w,onResizeEnd:v,shouldResize:j}),()=>{var D;(D=P.current)==null||D.destroy()}},[_,l,d,c,u,m,x,w,v,j]);const T=_.split("-");return n.jsx("div",{className:Ct(["react-flow__resize-control","nodrag",...T,r,s]),ref:b,style:{...a,scale:S,...i&&{[E?"backgroundColor":"borderColor"]:i}},children:o})}p.memo(jW);const wW=({id:e,data:t})=>{const{field:r}=t,{setNodes:s,setEdges:a}=Xr(),o=()=>{s(i=>i.filter(l=>l.id!==e)),a(i=>i.filter(l=>l.source!==e&&l.target!==e))};return n.jsxs("div",{className:"bg-card border-2 border-muted rounded-lg p-3 min-w-[160px] shadow-sm relative group",children:[n.jsx(W,{variant:"ghost",size:"sm",onClick:o,className:"absolute -top-2 -right-2 h-6 w-6 p-0 bg-destructive text-destructive-foreground opacity-0 group-hover:opacity-100 transition-opacity rounded-full shadow-md hover:bg-destructive/80",title:"Delete source field",children:n.jsx(ut,{className:"h-3 w-3"})}),n.jsx("div",{className:"flex items-center gap-2 mb-2",children:n.jsx(qt,{className:"h-4 w-4 text-blue-500"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"text-sm font-semibold text-primary",children:r.name}),n.jsx("div",{className:"text-xs text-muted-foreground",children:r.type}),n.jsx("div",{className:"text-xs text-muted-foreground truncate max-w-[140px]",title:r.path,children:r.path})]}),n.jsx(yt,{type:"source",position:je.Right,className:"w-3 h-3 bg-blue-500 border-2 border-white"})]})},NW=({id:e,data:t})=>{const[r,s]=p.useState(t.function),[a,o]=p.useState(t.parameters),[i,l]=p.useState(!1),{setNodes:d,setEdges:c}=Xr(),u=x=>["string1","string2","text","input","value","a","b","array","object","source","target"].some(g=>x.name.toLowerCase().includes(g))||r.parameters.indexOf(x)===0&&x.required?!0:["delimiter","format","separator","pattern","start","end","length","index"].some(g=>x.name.toLowerCase().includes(g))?!1:x.required,m=Object.values(Ui).flat(),h=x=>{const w=m.find(v=>v.name===x);w&&(s(w),o({}))},f=(x,w)=>{o(v=>({...v,[x]:w}))},j=()=>{d(x=>x.filter(w=>w.id!==e)),c(x=>x.filter(w=>w.source!==e&&w.target!==e))};return n.jsxs("div",{className:"bg-card border-2 border-orange-200 rounded-lg p-3 min-w-[200px] shadow-sm relative group",children:[n.jsx(W,{variant:"ghost",size:"sm",onClick:j,className:"absolute -top-2 -right-2 h-6 w-6 p-0 bg-destructive text-destructive-foreground opacity-0 group-hover:opacity-100 transition-opacity rounded-full shadow-md hover:bg-destructive/80",title:"Delete function",children:n.jsx(ut,{className:"h-3 w-3"})}),n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(ur,{className:"h-4 w-4 text-orange-500"})}),n.jsx(W,{size:"sm",variant:"ghost",onClick:x=>{x.preventDefault(),x.stopPropagation(),l(!i)},className:"h-6 w-6 p-0 hover:bg-muted rounded",children:n.jsx(nt,{className:`h-3 w-3 ${i?"text-primary":""}`})})]}),t.showSelector?n.jsxs(Z,{value:r.name,onValueChange:h,children:[n.jsx(Q,{className:"w-full text-xs",children:n.jsx(ee,{})}),n.jsx(J,{children:Object.entries(Ui).map(([x,w])=>n.jsxs("div",{children:[n.jsx("div",{className:"px-2 py-1 text-xs font-semibold text-muted-foreground uppercase",children:x}),w.map(v=>n.jsx(A,{value:v.name,className:"text-xs",children:v.name},v.name))]},x))})]}):n.jsxs("div",{className:"text-sm font-semibold text-primary flex items-center gap-2",children:[t.isCustom&&n.jsx(as,{className:"h-3 w-3"}),r.name]}),n.jsx("div",{className:"text-xs text-muted-foreground mt-1 mb-3",children:r.description}),i&&n.jsx("div",{className:"space-y-2 mb-3 border-t pt-2 bg-muted/20 rounded p-2",children:t.isCustom?n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"text-xs font-medium",children:"Custom Java Code"}),n.jsx(Se,{placeholder:"Enter your custom Java transformation code here...",className:"h-20 text-xs font-mono",value:a.customCode||"",onChange:x=>f("customCode",x.target.value)}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Write Java code to transform input values. Use 'input' variable to access connected fields."})]}):n.jsxs(n.Fragment,{children:[n.jsx(C,{className:"text-xs font-medium",children:"Parameters"}),r.parameters.filter(x=>!u(x)).length===0?n.jsx("div",{className:"text-xs text-muted-foreground",children:"No configurable parameters"}):r.parameters.filter(x=>!u(x)).map(x=>n.jsxs("div",{className:"space-y-1",children:[n.jsxs(C,{className:"text-xs",children:[x.name,x.required&&n.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),n.jsx(O,{placeholder:`${x.type} value`,value:a[x.name]||"",onChange:w=>f(x.name,w.target.value),className:"h-6 text-xs"}),x.description&&n.jsx("div",{className:"text-xs text-muted-foreground",children:x.description})]},x.name))]})}),r.parameters.map((x,w)=>u(x)?n.jsx(yt,{type:"target",position:je.Left,id:x.name,style:{top:`${60+w*20}px`,background:"#f97316",width:"8px",height:"8px"},className:"border-2 border-white"},`input-${x.name}`):null),n.jsx(yt,{type:"source",position:je.Right,className:"w-3 h-3 bg-orange-500 border-2 border-white"})]})},bW=({data:e})=>{const[t,r]=p.useState(e.value),[s,a]=p.useState(e.type);return n.jsxs("div",{className:"bg-card border-2 border-green-200 rounded-lg p-3 min-w-[160px] shadow-sm",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(WO,{className:"h-4 w-4 text-green-500"}),n.jsx("span",{className:"text-sm font-medium text-foreground",children:"Constant"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(Z,{value:s,onValueChange:o=>a(o),children:[n.jsx(Q,{className:"w-full h-7 text-xs",children:n.jsx(ee,{})}),n.jsxs(J,{children:[n.jsx(A,{value:"string",children:"String"}),n.jsx(A,{value:"number",children:"Number"}),n.jsx(A,{value:"boolean",children:"Boolean"})]})]}),s==="boolean"?n.jsxs(Z,{value:t,onValueChange:r,children:[n.jsx(Q,{className:"w-full h-7 text-xs",children:n.jsx(ee,{})}),n.jsxs(J,{children:[n.jsx(A,{value:"true",children:"true"}),n.jsx(A,{value:"false",children:"false"})]})]}):n.jsx(O,{placeholder:`Enter ${s} value`,value:t,onChange:o=>r(o.target.value),type:s==="number"?"number":"text",className:"h-7 text-xs"}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Value: ",n.jsx("span",{className:"font-mono",children:t||"undefined"})]})]}),n.jsx(yt,{type:"source",position:je.Right,className:"w-3 h-3 bg-green-500 border-2 border-white"})]})},SW=({data:e})=>{const{field:t}=e;return n.jsxs("div",{className:"bg-card border-2 border-purple-200 rounded-lg p-3 min-w-[160px] shadow-sm",children:[n.jsx("div",{className:"flex items-center gap-2 mb-2",children:n.jsx(Zx,{className:"h-4 w-4 text-purple-500"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"text-sm font-semibold text-primary",children:t.name}),n.jsx("div",{className:"text-xs text-muted-foreground",children:t.type}),n.jsx("div",{className:"text-xs text-muted-foreground truncate max-w-[140px]",title:t.path,children:t.path})]}),n.jsx(yt,{type:"target",position:je.Left,className:"w-3 h-3 bg-purple-500 border-2 border-white"})]})},CW=({data:e})=>{const[t,r]=p.useState(e.condition),[s,a]=p.useState(e.compareValue);return n.jsxs("div",{className:"bg-card border-2 border-yellow-200 rounded-lg p-3 min-w-[180px] shadow-sm",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Oa,{className:"h-4 w-4 text-yellow-500"}),n.jsx("span",{className:"text-sm font-medium text-foreground",children:"Conditional"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{children:[n.jsx(C,{className:"text-xs",children:"Condition"}),n.jsxs(Z,{value:t,onValueChange:o=>r(o),children:[n.jsx(Q,{className:"w-full h-7 text-xs",children:n.jsx(ee,{})}),n.jsxs(J,{children:[n.jsx(A,{value:"equals",children:"Equals"}),n.jsx(A,{value:"notEquals",children:"Not Equals"}),n.jsx(A,{value:"contains",children:"Contains"}),n.jsx(A,{value:"startsWith",children:"Starts With"}),n.jsx(A,{value:"endsWith",children:"Ends With"}),n.jsx(A,{value:"isEmpty",children:"Is Empty"}),n.jsx(A,{value:"isNotEmpty",children:"Is Not Empty"})]})]})]}),!["isEmpty","isNotEmpty"].includes(t)&&n.jsxs("div",{children:[n.jsx(C,{className:"text-xs",children:"Compare Value"}),n.jsx(O,{placeholder:"Value to compare",value:s,onChange:o=>a(o.target.value),className:"h-7 text-xs"})]})]}),n.jsx(yt,{type:"target",position:je.Left,id:"input",className:"w-3 h-3 bg-yellow-500 border-2 border-white",style:{top:40}}),n.jsx(yt,{type:"source",position:je.Right,id:"true",className:"w-3 h-3 bg-green-500 border-2 border-white",style:{top:35}}),n.jsx(yt,{type:"source",position:je.Right,id:"false",className:"w-3 h-3 bg-red-500 border-2 border-white",style:{top:55}}),n.jsx("div",{className:"absolute -right-8 top-7 text-xs text-green-600 font-medium",children:"T"}),n.jsx("div",{className:"absolute -right-8 top-12 text-xs text-red-600 font-medium",children:"F"})]})};function EW(e,t){return p.useReducer((r,s)=>t[r][s]??r,e)}var hj="ScrollArea",[WA,Rte]=Wn(hj),[PW,Yn]=WA(hj),YA=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:s="hover",dir:a,scrollHideDelay:o=600,...i}=e,[l,d]=p.useState(null),[c,u]=p.useState(null),[m,h]=p.useState(null),[f,j]=p.useState(null),[x,w]=p.useState(null),[v,g]=p.useState(0),[y,N]=p.useState(0),[b,E]=p.useState(!1),[S,P]=p.useState(!1),_=Te(t,D=>d(D)),T=ud(a);return n.jsx(PW,{scope:r,type:s,dir:T,scrollHideDelay:o,scrollArea:l,viewport:c,onViewportChange:u,content:m,onContentChange:h,scrollbarX:f,onScrollbarXChange:j,scrollbarXEnabled:b,onScrollbarXEnabledChange:E,scrollbarY:x,onScrollbarYChange:w,scrollbarYEnabled:S,onScrollbarYEnabledChange:P,onCornerWidthChange:g,onCornerHeightChange:N,children:n.jsx(Ce.div,{dir:T,...i,ref:_,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":y+"px",...e.style}})})});YA.displayName=hj;var KA="ScrollAreaViewport",GA=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:s,asChild:a,nonce:o,...i}=e,l=Yn(KA,r),d=p.useRef(null),c=Te(t,d,l.onViewportChange);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:o}),n.jsx(Ce.div,{"data-radix-scroll-area-viewport":"",...i,asChild:a,ref:c,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:IW({asChild:a,children:s},u=>n.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:u}))})]})});GA.displayName=KA;var Qr="ScrollAreaScrollbar",mj=p.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=Yn(Qr,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=a,l=e.orientation==="horizontal";return p.useEffect(()=>(l?o(!0):i(!0),()=>{l?o(!1):i(!1)}),[l,o,i]),a.type==="hover"?n.jsx(kW,{...s,ref:t,forceMount:r}):a.type==="scroll"?n.jsx(TW,{...s,ref:t,forceMount:r}):a.type==="auto"?n.jsx(XA,{...s,ref:t,forceMount:r}):a.type==="always"?n.jsx(pj,{...s,ref:t}):null});mj.displayName=Qr;var kW=p.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=Yn(Qr,e.__scopeScrollArea),[o,i]=p.useState(!1);return p.useEffect(()=>{const l=a.scrollArea;let d=0;if(l){const c=()=>{window.clearTimeout(d),i(!0)},u=()=>{d=window.setTimeout(()=>i(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",c),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(d),l.removeEventListener("pointerenter",c),l.removeEventListener("pointerleave",u)}}},[a.scrollArea,a.scrollHideDelay]),n.jsx(Ot,{present:r||o,children:n.jsx(XA,{"data-state":o?"visible":"hidden",...s,ref:t})})}),TW=p.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=Yn(Qr,e.__scopeScrollArea),o=e.orientation==="horizontal",i=tp(()=>d("SCROLL_END"),100),[l,d]=EW("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(l==="idle"){const c=window.setTimeout(()=>d("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(c)}},[l,a.scrollHideDelay,d]),p.useEffect(()=>{const c=a.viewport,u=o?"scrollLeft":"scrollTop";if(c){let m=c[u];const h=()=>{const f=c[u];m!==f&&(d("SCROLL"),i()),m=f};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[a.viewport,o,d,i]),n.jsx(Ot,{present:r||l!=="hidden",children:n.jsx(pj,{"data-state":l==="hidden"?"hidden":"visible",...s,ref:t,onPointerEnter:he(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:he(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),XA=p.forwardRef((e,t)=>{const r=Yn(Qr,e.__scopeScrollArea),{forceMount:s,...a}=e,[o,i]=p.useState(!1),l=e.orientation==="horizontal",d=tp(()=>{if(r.viewport){const c=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;i(l?c:u)}},10);return Gi(r.viewport,d),Gi(r.content,d),n.jsx(Ot,{present:s||o,children:n.jsx(pj,{"data-state":o?"visible":"hidden",...a,ref:t})})}),pj=p.forwardRef((e,t)=>{const{orientation:r="vertical",...s}=e,a=Yn(Qr,e.__scopeScrollArea),o=p.useRef(null),i=p.useRef(0),[l,d]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=tM(l.viewport,l.content),u={...s,sizes:l,onSizesChange:d,hasThumb:c>0&&c<1,onThumbChange:h=>o.current=h,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:h=>i.current=h};function m(h,f){return _W(h,i.current,l,f)}return r==="horizontal"?n.jsx(AW,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){const h=a.viewport.scrollLeft,f=pb(h,l,a.dir);o.current.style.transform=`translate3d(${f}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=m(h,a.dir))}}):r==="vertical"?n.jsx(MW,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){const h=a.viewport.scrollTop,f=pb(h,l);o.current.style.transform=`translate3d(0, ${f}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=m(h))}}):null}),AW=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:s,...a}=e,o=Yn(Qr,e.__scopeScrollArea),[i,l]=p.useState(),d=p.useRef(null),c=Te(t,d,o.onScrollbarXChange);return p.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),n.jsx(JA,{"data-orientation":"horizontal",...a,ref:c,sizes:r,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ep(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,m)=>{if(o.viewport){const h=o.viewport.scrollLeft+u.deltaX;e.onWheelScroll(h),rM(h,m)&&u.preventDefault()}},onResize:()=>{d.current&&o.viewport&&i&&s({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:Wh(i.paddingLeft),paddingEnd:Wh(i.paddingRight)}})}})}),MW=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:s,...a}=e,o=Yn(Qr,e.__scopeScrollArea),[i,l]=p.useState(),d=p.useRef(null),c=Te(t,d,o.onScrollbarYChange);return p.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),n.jsx(JA,{"data-orientation":"vertical",...a,ref:c,sizes:r,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ep(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,m)=>{if(o.viewport){const h=o.viewport.scrollTop+u.deltaY;e.onWheelScroll(h),rM(h,m)&&u.preventDefault()}},onResize:()=>{d.current&&o.viewport&&i&&s({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:Wh(i.paddingTop),paddingEnd:Wh(i.paddingBottom)}})}})}),[DW,QA]=WA(Qr),JA=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:s,hasThumb:a,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:d,onDragScroll:c,onWheelScroll:u,onResize:m,...h}=e,f=Yn(Qr,r),[j,x]=p.useState(null),w=Te(t,_=>x(_)),v=p.useRef(null),g=p.useRef(""),y=f.viewport,N=s.content-s.viewport,b=it(u),E=it(d),S=tp(m,10);function P(_){if(v.current){const T=_.clientX-v.current.left,D=_.clientY-v.current.top;c({x:T,y:D})}}return p.useEffect(()=>{const _=T=>{const D=T.target;(j==null?void 0:j.contains(D))&&b(T,N)};return document.addEventListener("wheel",_,{passive:!1}),()=>document.removeEventListener("wheel",_,{passive:!1})},[y,j,N,b]),p.useEffect(E,[s,E]),Gi(j,S),Gi(f.content,S),n.jsx(DW,{scope:r,scrollbar:j,hasThumb:a,onThumbChange:it(o),onThumbPointerUp:it(i),onThumbPositionChange:E,onThumbPointerDown:it(l),children:n.jsx(Ce.div,{...h,ref:w,style:{position:"absolute",...h.style},onPointerDown:he(e.onPointerDown,_=>{_.button===0&&(_.target.setPointerCapture(_.pointerId),v.current=j.getBoundingClientRect(),g.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),P(_))}),onPointerMove:he(e.onPointerMove,P),onPointerUp:he(e.onPointerUp,_=>{const T=_.target;T.hasPointerCapture(_.pointerId)&&T.releasePointerCapture(_.pointerId),document.body.style.webkitUserSelect=g.current,f.viewport&&(f.viewport.style.scrollBehavior=""),v.current=null})})})}),qh="ScrollAreaThumb",ZA=p.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=QA(qh,e.__scopeScrollArea);return n.jsx(Ot,{present:r||a.hasThumb,children:n.jsx(RW,{ref:t,...s})})}),RW=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:s,...a}=e,o=Yn(qh,r),i=QA(qh,r),{onThumbPositionChange:l}=i,d=Te(t,m=>i.onThumbChange(m)),c=p.useRef(),u=tp(()=>{c.current&&(c.current(),c.current=void 0)},100);return p.useEffect(()=>{const m=o.viewport;if(m){const h=()=>{if(u(),!c.current){const f=OW(m,l);c.current=f,l()}};return l(),m.addEventListener("scroll",h),()=>m.removeEventListener("scroll",h)}},[o.viewport,u,l]),n.jsx(Ce.div,{"data-state":i.hasThumb?"visible":"hidden",...a,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:he(e.onPointerDownCapture,m=>{const f=m.target.getBoundingClientRect(),j=m.clientX-f.left,x=m.clientY-f.top;i.onThumbPointerDown({x:j,y:x})}),onPointerUp:he(e.onPointerUp,i.onThumbPointerUp)})});ZA.displayName=qh;var fj="ScrollAreaCorner",eM=p.forwardRef((e,t)=>{const r=Yn(fj,e.__scopeScrollArea),s=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&s?n.jsx(FW,{...e,ref:t}):null});eM.displayName=fj;var FW=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,...s}=e,a=Yn(fj,r),[o,i]=p.useState(0),[l,d]=p.useState(0),c=!!(o&&l);return Gi(a.scrollbarX,()=>{var m;const u=((m=a.scrollbarX)==null?void 0:m.offsetHeight)||0;a.onCornerHeightChange(u),d(u)}),Gi(a.scrollbarY,()=>{var m;const u=((m=a.scrollbarY)==null?void 0:m.offsetWidth)||0;a.onCornerWidthChange(u),i(u)}),c?n.jsx(Ce.div,{...s,ref:t,style:{width:o,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Wh(e){return e?parseInt(e,10):0}function tM(e,t){const r=e/t;return isNaN(r)?0:r}function ep(e){const t=tM(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-r)*t;return Math.max(s,18)}function _W(e,t,r,s="ltr"){const a=ep(r),o=a/2,i=t||o,l=a-i,d=r.scrollbar.paddingStart+i,c=r.scrollbar.size-r.scrollbar.paddingEnd-l,u=r.content-r.viewport,m=s==="ltr"?[0,u]:[u*-1,0];return nM([d,c],m)(e)}function pb(e,t,r="ltr"){const s=ep(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-a,i=t.content-t.viewport,l=o-s,d=r==="ltr"?[0,i]:[i*-1,0],c=pg(e,d);return nM([0,i],[0,l])(c)}function nM(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(r-e[0])}}function rM(e,t){return e>0&&e<t}var OW=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},s=0;return function a(){const o={left:e.scrollLeft,top:e.scrollTop},i=r.left!==o.left,l=r.top!==o.top;(i||l)&&t(),r=o,s=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(s)};function tp(e,t){const r=it(e),s=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(s.current),[]),p.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(r,t)},[r,t])}function Gi(e,t){const r=it(t);Dt(()=>{let s=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(s),a.unobserve(e)}}},[e,r])}function IW(e,t){const{asChild:r,children:s}=e;if(!r)return typeof t=="function"?t(s):t;const a=p.Children.only(s);return p.cloneElement(a,{children:typeof t=="function"?t(a.props.children):t})}var sM=YA,LW=GA,$W=eM;const mo=p.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(sM,{ref:s,className:de("relative overflow-hidden",e),...r,children:[n.jsx(LW,{className:"h-full w-full rounded-[inherit]",children:t}),n.jsx(aM,{}),n.jsx($W,{})]}));mo.displayName=sM.displayName;const aM=p.forwardRef(({className:e,orientation:t="vertical",...r},s)=>n.jsx(mj,{ref:s,orientation:t,className:de("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:n.jsx(ZA,{className:"relative flex-1 rounded-full bg-border"})}));aM.displayName=mj.displayName;const UW=({open:e,onClose:t,sourceFields:r,onSelectField:s,excludeFields:a=[]})=>{const[o,i]=p.useState(""),[l,d]=p.useState(new Set),c=w=>{d(v=>{const g=new Set(v);return g.has(w)?g.delete(w):g.add(w),g})},u=w=>{s(w),t(),i(""),d(new Set)},m=(w,v=0)=>{var S;const g=!w.children||w.children.length===0,y=l.has(w.id),N=a.includes(w.id),b=!o||w.name.toLowerCase().includes(o.toLowerCase())||w.path.toLowerCase().includes(o.toLowerCase())||w.type.toLowerCase().includes(o.toLowerCase()),E=(S=w.children)==null?void 0:S.some(P=>P.name.toLowerCase().includes(o.toLowerCase())||P.path.toLowerCase().includes(o.toLowerCase())||P.type.toLowerCase().includes(o.toLowerCase()));return!b&&!E?null:n.jsxs("div",{className:"w-full",children:[n.jsxs("div",{className:`flex items-center p-2 border rounded-md transition-colors ${N?"bg-muted/50 opacity-50":g?"hover:bg-primary/10 cursor-pointer border-dashed":"hover:bg-muted/50"}`,style:{marginLeft:`${v*16}px`},onClick:()=>{g&&!N?u(w):g||c(w.id)},children:[!g&&n.jsx(W,{variant:"ghost",size:"sm",onClick:P=>{P.stopPropagation(),c(w.id)},className:"mr-2 h-auto w-auto p-1 hover:bg-muted rounded",children:y?n.jsx(pr,{className:"h-3 w-3"}):n.jsx(qn,{className:"h-3 w-3"})}),n.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[n.jsx(qt,{className:"h-3 w-3 text-blue-500 flex-shrink-0"}),n.jsx("span",{className:"font-medium text-sm",children:w.name}),n.jsx(oe,{variant:"outline",className:"text-xs",children:w.type}),N&&n.jsx(oe,{variant:"secondary",className:"text-xs",children:"Already added"})]}),g&&!N&&n.jsx("span",{className:"text-xs text-muted-foreground",children:"Click to select"})]}),!g&&y&&w.children&&n.jsx("div",{className:"ml-2",children:w.children.map(P=>m(P,v+1))})]},w.id)},h=w=>{const v=[],g=y=>{!y.children||y.children.length===0?v.push(y):y.children.forEach(g)};return w.forEach(g),v},f=r.filter(w=>!a.includes(w.id)),j=h(r).length,x=h(f).length;return n.jsx(wt,{open:e,onOpenChange:t,children:n.jsxs(xt,{className:"max-w-2xl h-[80vh] flex flex-col",children:[n.jsx(Nt,{className:"flex-shrink-0",children:n.jsxs(bt,{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{children:"Select Source Field"}),n.jsxs(oe,{variant:"outline",className:"text-xs",children:[x," of ",j," available"]})]}),n.jsx(W,{variant:"ghost",size:"sm",onClick:t,children:n.jsx(ut,{className:"h-4 w-4"})})]})}),n.jsx("div",{className:"flex-shrink-0 mb-4",children:n.jsxs("div",{className:"relative",children:[n.jsx(Ur,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(O,{placeholder:"Search fields by name, path, or type...",value:o,onChange:w=>i(w.target.value),className:"pl-10"})]})}),n.jsx(mo,{className:"flex-1",children:n.jsx("div",{className:"space-y-2 pr-4",children:f.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(qt,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"No available source fields to add"})]}):f.map(w=>m(w))})}),n.jsx("div",{className:"flex-shrink-0 pt-4 border-t",children:n.jsx("div",{className:"text-sm text-muted-foreground",children:"Click on any leaf field (shown with dashed border) to add it to your flow"})})]})})};var xj="Tabs",[HW,Fte]=Wn(xj,[Mm]),oM=Mm(),[VW,gj]=HW(xj),iM=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,onValueChange:a,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:d="automatic",...c}=e,u=ud(l),[m,h]=Vr({prop:s,onChange:a,defaultProp:o});return n.jsx(VW,{scope:r,baseId:hr(),value:m,onValueChange:h,orientation:i,dir:u,activationMode:d,children:n.jsx(Ce.div,{dir:u,"data-orientation":i,...c,ref:t})})});iM.displayName=xj;var lM="TabsList",cM=p.forwardRef((e,t)=>{const{__scopeTabs:r,loop:s=!0,...a}=e,o=gj(lM,r),i=oM(r);return n.jsx(jE,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:s,children:n.jsx(Ce.div,{role:"tablist","aria-orientation":o.orientation,...a,ref:t})})});cM.displayName=lM;var dM="TabsTrigger",uM=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,disabled:a=!1,...o}=e,i=gj(dM,r),l=oM(r),d=pM(i.baseId,s),c=fM(i.baseId,s),u=s===i.value;return n.jsx(wE,{asChild:!0,...l,focusable:!a,active:u,children:n.jsx(Ce.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:d,...o,ref:t,onMouseDown:he(e.onMouseDown,m=>{!a&&m.button===0&&m.ctrlKey===!1?i.onValueChange(s):m.preventDefault()}),onKeyDown:he(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&i.onValueChange(s)}),onFocus:he(e.onFocus,()=>{const m=i.activationMode!=="manual";!u&&!a&&m&&i.onValueChange(s)})})})});uM.displayName=dM;var hM="TabsContent",mM=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,forceMount:a,children:o,...i}=e,l=gj(hM,r),d=pM(l.baseId,s),c=fM(l.baseId,s),u=s===l.value,m=p.useRef(u);return p.useEffect(()=>{const h=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(h)},[]),n.jsx(Ot,{present:a||u,children:({present:h})=>n.jsx(Ce.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":d,hidden:!h,id:c,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:h&&o})})});mM.displayName=hM;function pM(e,t){return`${e}-trigger-${t}`}function fM(e,t){return`${e}-content-${t}`}var BW=iM,xM=cM,gM=uM,vM=mM;const Ge=BW,qe=p.forwardRef(({className:e,...t},r)=>n.jsx(xM,{ref:r,className:de("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));qe.displayName=xM.displayName;const Ne=p.forwardRef(({className:e,...t},r)=>n.jsx(gM,{ref:r,className:de("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Ne.displayName=gM.displayName;const ye=p.forwardRef(({className:e,...t},r)=>n.jsx(vM,{ref:r,className:de("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ye.displayName=vM.displayName;const zW=({open:e,onClose:t,onSelectFunction:r})=>{const[s,a]=p.useState(""),o=Object.entries(Ui).reduce((c,[u,m])=>{const h=m.filter(f=>f.name.toLowerCase().includes(s.toLowerCase())||f.description.toLowerCase().includes(s.toLowerCase()));return h.length>0&&(c[u]=h),c},{}),i=c=>{r(c),t(),a("")},l=Object.values(Ui).flat().length,d=Object.values(o).flat().length;return n.jsx(wt,{open:e,onOpenChange:t,children:n.jsxs(xt,{className:"max-w-4xl h-[80vh] flex flex-col",children:[n.jsx(Nt,{className:"flex-shrink-0",children:n.jsxs(bt,{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Jp,{className:"h-5 w-5 text-primary"}),n.jsx("span",{children:"Select Function"}),n.jsxs(oe,{variant:"outline",className:"text-xs",children:[d," of ",l," functions"]})]}),n.jsx(W,{variant:"ghost",size:"sm",onClick:t,children:n.jsx(ut,{className:"h-4 w-4"})})]})}),n.jsx("div",{className:"flex-shrink-0 mb-4",children:n.jsxs("div",{className:"relative",children:[n.jsx(Ur,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(O,{placeholder:"Search functions by name or description...",value:s,onChange:c=>a(c.target.value),className:"pl-10"})]})}),n.jsx("div",{className:"flex-1 overflow-hidden",children:Object.keys(o).length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(Jp,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"No functions found matching your search"})]}):n.jsxs(Ge,{defaultValue:Object.keys(o)[0],className:"h-full flex flex-col",children:[n.jsx(qe,{className:"grid w-full flex-shrink-0",style:{gridTemplateColumns:`repeat(${Object.keys(o).length}, 1fr)`},children:Object.keys(o).map(c=>n.jsxs(Ne,{value:c,className:"capitalize text-xs",children:[c," (",o[c].length,")"]},c))}),Object.entries(o).map(([c,u])=>n.jsx(ye,{value:c,className:"flex-1 mt-4",children:n.jsx(mo,{className:"h-full",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 pr-4",children:u.map(m=>n.jsxs(X,{className:"cursor-pointer hover:bg-primary/10 transition-colors border-dashed hover:border-primary",onClick:()=>i(m),children:[n.jsx(re,{className:"pb-2",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs(ae,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(Jp,{className:"h-3 w-3 text-primary"}),m.name]}),n.jsx(ge,{className:"text-xs mt-1",children:m.description})]}),n.jsx(oe,{variant:"secondary",className:"text-xs ml-2",children:m.category})]})}),n.jsx(te,{className:"pt-0",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-xs text-muted-foreground",children:[m.parameters.length," parameter",m.parameters.length!==1?"s":""]}),n.jsx("span",{className:"text-xs text-primary font-medium",children:"Click to add"})]})})]},m.name))})})},c))]})}),n.jsx("div",{className:"flex-shrink-0 pt-4 border-t",children:n.jsx("div",{className:"text-sm text-muted-foreground",children:"Select a function to add it to your flow. You can configure parameters after adding."})})]})})},qW=({id:e,sourceX:t,sourceY:r,targetX:s,targetY:a,sourcePosition:o,targetPosition:i,style:l={},markerEnd:d,selected:c=!1})=>{const{setEdges:u}=Xr(),[m,h,f]=oj({sourceX:t,sourceY:r,sourcePosition:o,targetX:s,targetY:a,targetPosition:i}),j=x=>{x.stopPropagation(),u(w=>w.filter(v=>v.id!==e))};return n.jsxs(n.Fragment,{children:[n.jsx(Nd,{path:m,markerEnd:d,style:l}),c&&n.jsx(Gq,{children:n.jsx("div",{className:"absolute pointer-events-auto",style:{transform:`translate(-50%, -50%) translate(${h}px,${f}px)`},children:n.jsx(W,{variant:"ghost",size:"sm",onClick:j,className:"h-6 w-6 p-0 bg-destructive text-destructive-foreground hover:bg-destructive/80 rounded-full shadow-md",title:"Delete connection",children:n.jsx(ut,{className:"h-3 w-3"})})})})]})},WW={sourceField:wW,function:NW,constant:bW,targetField:SW,conditional:CW},YW={deletable:qW},KW=({open:e,onClose:t,sourceFields:r,targetField:s,onApplyMapping:a,initialMapping:o})=>{const[i,l,d]=LA([]),[c,u,m]=$A([]),[h,f]=p.useState(1),[j,x]=p.useState(!1),[w,v]=p.useState(!1);pe.useEffect(()=>{var T,D;if(e&&s){let k=[],U=[],M=1;o!=null&&o.visualFlowData?(k=o.visualFlowData.nodes,U=o.visualFlowData.edges,M=o.visualFlowData.nodeIdCounter):(k.push({id:"target",type:"targetField",position:{x:800,y:200},data:{field:s}}),o&&o.sourcePaths&&o.sourcePaths.length>0?o.sourcePaths.forEach((L,I)=>{const F=r.find(R=>R.path===L||R.name===L);if(F){const R=`source-${F.id}`;k.push({id:R,type:"sourceField",position:{x:50,y:50+I*100},data:{field:F}}),U.push({id:`edge-${R}-target`,source:R,target:"target",type:"deletable",animated:!1,style:{stroke:"hsl(var(--primary))",strokeWidth:2},markerEnd:{type:ar.ArrowClosed,color:"hsl(var(--primary))"}})}}):o&&o.sourceFields&&o.sourceFields.length>0&&o.sourceFields.forEach((L,I)=>{const F=r.find(R=>R.name===L||R.path===L);if(F){const R=`source-${F.id}`;k.push({id:R,type:"sourceField",position:{x:50,y:50+I*100},data:{field:F}}),U.push({id:`edge-${R}-target`,source:R,target:"target",type:"deletable",animated:!1,style:{stroke:"hsl(var(--primary))",strokeWidth:2},markerEnd:{type:ar.ArrowClosed,color:"hsl(var(--primary))"}})}}),M=2+(((T=o==null?void 0:o.sourcePaths)==null?void 0:T.length)||((D=o==null?void 0:o.sourceFields)==null?void 0:D.length)||0)),l(k),u(U),f(M)}},[e,s,r,o,l,u]);const g=p.useCallback(T=>{if(T.target==="target")u(D=>{const k=D.filter(M=>M.target!=="target"),U={...T,type:"deletable",animated:!1,style:{stroke:"hsl(var(--primary))",strokeWidth:2},markerEnd:{type:ar.ArrowClosed,color:"hsl(var(--primary))"}};return Bh(U,k)});else{const D={...T,type:"deletable",animated:!1,style:{stroke:"hsl(var(--primary))",strokeWidth:2},markerEnd:{type:ar.ArrowClosed,color:"hsl(var(--primary))"}};u(k=>Bh(D,k))}},[u]),y=p.useCallback(()=>{x(!0)},[]),N=p.useCallback(T=>{const D=i.filter(U=>U.type==="sourceField"),k={id:`source-${T.id}`,type:"sourceField",position:{x:50,y:50+D.length*100},data:{field:T}};l(U=>[...U,k])},[i,l]),b=p.useCallback(()=>{v(!0)},[]),E=p.useCallback(T=>{const D=i.filter(U=>U.type==="function"),k={id:`function-${h}`,type:"function",position:{x:350,y:50+D.length*120},data:{function:T,parameters:{},showSelector:!1}};l(U=>[...U,k]),f(U=>U+1)},[h,i,l]),S=p.useCallback(()=>{const T=i.filter(k=>k.type==="function"&&k.data.function.name==="custom"),D={id:`custom-function-${h}`,type:"function",position:{x:350,y:50+T.length*120},data:{function:{name:"custom",description:"Custom Java function",category:"custom",parameters:[],javaCode:""},parameters:{},showSelector:!1,isCustom:!0}};l(k=>[...k,D]),f(k=>k+1)},[h,i,l]),P=p.useCallback(()=>{if(!s||(console.log("🔥 VisualFlowEditor handleSave - saving with nodes:",i.length,"edges:",c.length),!i.find(M=>M.type==="targetField")))return;const D=[],k=[];i.forEach(M=>{M.type==="sourceField"&&c.some(L=>L.source===M.id)&&(D.push(M.data.field.path),k.push(M.data.field.name))}),console.log("🔥 VisualFlowEditor handleSave - connectedSourcePaths:",D),console.log("🔥 VisualFlowEditor handleSave - connectedSourceFields:",k);const U={id:(o==null?void 0:o.id)||`mapping_${Date.now()}`,name:(o==null?void 0:o.name)||`visual_flow_to_${s.name}`,sourceFields:k,targetField:s.name,sourcePaths:D,targetPath:s.path,requiresTransformation:!0,visualFlowData:{nodes:i,edges:c,nodeIdCounter:h},functionNode:{id:"visual_flow",functionName:"visual_flow",parameters:{},sourceConnections:{},position:{x:0,y:0}}};console.log("🔥 VisualFlowEditor handleSave - final mapping:",U),a(U),t()},[i,c,h,s,o,a,t]),_=p.useMemo(()=>{const T=i.find(k=>k.type==="targetField");return T?c.some(k=>k.target===T.id):!1},[i,c]);return n.jsx(wt,{open:e,onOpenChange:t,children:n.jsxs(xt,{className:"max-w-[98vw] h-[95vh] p-0 max-h-[95vh]",children:[n.jsx(Nt,{className:"p-4 pb-2 border-b bg-muted/30",children:n.jsxs(bt,{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"text-lg font-semibold",children:"Visual Flow Editor"}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:["Target: ",n.jsx("span",{className:"font-medium text-primary",children:s.name})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(W,{onClick:P,disabled:!_,className:"bg-primary text-primary-foreground",children:[n.jsx(jo,{className:"h-4 w-4 mr-2"}),"Save Flow"]}),n.jsxs(W,{variant:"outline",onClick:t,children:[n.jsx(ut,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]})}),n.jsx("div",{className:"flex-1 relative h-[calc(95vh-80px)]",children:n.jsxs(IA,{nodes:i,edges:c,onNodesChange:d,onEdgesChange:m,onConnect:g,nodeTypes:WW,edgeTypes:YW,connectionMode:uo.Loose,fitView:!0,fitViewOptions:{padding:.1,minZoom:.5,maxZoom:2},defaultEdgeOptions:{type:"deletable",animated:!1,style:{stroke:"hsl(var(--primary))",strokeWidth:2},markerEnd:{type:ar.ArrowClosed,color:"hsl(var(--primary))"}},className:"bg-background",children:[n.jsx(HA,{gap:20,size:1}),n.jsx(BA,{}),n.jsx(qA,{className:"bg-background border border-border",pannable:!0,zoomable:!0,nodeColor:"hsl(var(--primary))"}),n.jsx(Ki,{position:"top-left",className:"bg-card border rounded-lg p-3 shadow-lg min-w-[200px]",children:n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx("h3",{className:"text-sm font-semibold text-primary mb-2 border-b border-border pb-2",children:"Add Nodes"}),n.jsxs(W,{onClick:y,size:"sm",variant:"outline",className:"justify-start h-9",children:[n.jsx(xr,{className:"h-4 w-4 mr-2"}),"Source Field"]}),n.jsxs(W,{onClick:b,size:"sm",variant:"outline",className:"justify-start h-9",children:[n.jsx(ur,{className:"h-4 w-4 mr-2"}),"Function"]}),n.jsxs(W,{onClick:S,size:"sm",variant:"outline",className:"justify-start h-9",children:[n.jsx(as,{className:"h-4 w-4 mr-2"}),"Custom Function"]})]})}),n.jsx(Ki,{position:"bottom-right",className:"bg-card border rounded-lg p-3 shadow-lg",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${_?"bg-green-500":"bg-red-500"}`}),n.jsx("div",{className:"text-sm font-medium",children:_?"Flow is valid - ready to save":"Connect nodes to target field"})]})})]})}),n.jsx(UW,{open:j,onClose:()=>x(!1),sourceFields:r,onSelectField:N,excludeFields:i.filter(T=>T.type==="sourceField").map(T=>T.data.field.id)}),n.jsx(zW,{open:w,onClose:()=>v(!1),onSelectFunction:E})]})})};function GW({mappings:e,sourceFields:t=[],targetFields:r=[],onRemoveMapping:s,onUpdateMapping:a,onCreateMapping:o}){const[i,l]=p.useState({open:!1,selectedFunction:"",targetField:null,filteredSourceFields:[]}),[d,c]=p.useState({open:!1,targetField:null});p.useEffect(()=>{console.log("🔍 Modal state changed:",i)},[i]),p.useEffect(()=>{console.log("🔥 Visual flow editor state changed:",d)},[d]);const u=f=>{console.log("🔥 handleOpenVisualFlowEditor called with mappingId:",f),console.log("🔥 Available mappings:",e),console.log("🔥 Available targetFields:",r),console.log("🔥 Target fields names:",r.map(w=>w==null?void 0:w.name));const j=e.find(w=>w.id===f);if(console.log("🔥 Found existing mapping:",j),!j){console.log("❌ No existing mapping found for ID:",f);return}const x=r.find(w=>(w==null?void 0:w.name)===j.targetField);if(console.log("🔥 Looking for target field with name:",j.targetField),console.log("🔥 Found target field:",x),!x){console.log("❌ Target field not found, attempting to create a mock target field");const w={id:`target_${j.targetField}`,name:j.targetField,type:"string",path:j.targetPath||j.targetField,children:[],expanded:!1};console.log("🔥 Created mock target field:",w),c({open:!0,targetField:w,existingMapping:j});return}console.log("✅ Opening visual flow editor with:",{targetField:x.name,existingMapping:j.id}),c({open:!0,targetField:x,existingMapping:j})},m=f=>{console.log("🔥 handleApplyVisualFlow called with:",f),d.existingMapping?a&&a(d.existingMapping.id,{functionNode:f.functionNode,visualFlowData:f.visualFlowData,requiresTransformation:!0,sourceFields:f.sourceFields,sourcePaths:f.sourcePaths,name:f.name}):o&&o(f),c({open:!1,targetField:null})},h=f=>{i.existingMappingId?a&&a(i.existingMappingId,{functionNode:f.functionNode,requiresTransformation:!0,sourceFields:f.sourceFields,sourcePaths:f.sourcePaths}):o&&o(f),l({open:!1,selectedFunction:"",targetField:null,filteredSourceFields:[]})};return console.log("🔍 MappingArea render - mappings count:",e.length),console.log("🔍 MappingArea render - mappings:",e),n.jsxs("div",{className:"w-1/3 relative bg-background animate-fade-in",children:[n.jsx("div",{className:"p-4 border-b",children:n.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[n.jsx(xh,{className:"h-4 w-4"}),"Field Mappings (",e.length,")"]})}),n.jsx("div",{className:"p-4 h-[calc(100%-60px)] overflow-y-auto",children:e.length===0?n.jsx(or,{className:"mt-8",children:n.jsx(ir,{children:"Drag fields from source to target to create mappings"})}):n.jsx("div",{className:"space-y-3",children:e.map(f=>n.jsxs("div",{className:"p-3 border rounded-lg bg-muted/30 animate-scale-in",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(oe,{variant:"outline",className:"text-xs",children:f.sourceFields.length>1?"Multi-Source Mapping":"Mapping"}),f.requiresTransformation===!1&&n.jsx(oe,{variant:"secondary",className:"text-xs",children:"Pass-through"}),f.functionNode&&n.jsxs(oe,{variant:"default",className:"text-xs",children:["Function: ",f.functionNode.functionName]})]}),n.jsxs("div",{className:"flex gap-1",children:[f.requiresTransformation!==!1&&n.jsx(n.Fragment,{children:n.jsx(W,{variant:"ghost",size:"sm",onClick:()=>{console.log("🔥 Lightning bolt clicked for mapping:",f.id),u(f.id)},className:"h-6 w-6 p-0 hover-scale",title:"Open Visual Flow Editor",children:n.jsx(ur,{className:"h-3 w-3"})})}),n.jsx(W,{variant:"ghost",size:"sm",onClick:()=>s(f.id),className:"h-6 w-6 p-0 text-destructive hover:text-destructive hover-scale",title:"Remove Mapping",children:n.jsx(ut,{className:"h-3 w-3"})})]})]}),n.jsxs("div",{className:"text-xs space-y-1",children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("span",{className:"font-medium text-primary",children:f.name})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium",children:"Source:"}),n.jsx("span",{className:"text-muted-foreground",children:f.sourceFields.join(", ")})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(xh,{className:"h-3 w-3 text-primary"}),n.jsx("span",{className:"font-medium",children:"Target:"}),n.jsx("span",{className:"text-muted-foreground",children:f.targetField})]}),f.requiresTransformation!==!1&&n.jsxs(n.Fragment,{children:[f.functionNode&&n.jsxs("div",{className:"mt-2 p-2 bg-primary/10 rounded text-xs",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(ur,{className:"h-3 w-3 text-primary"}),n.jsx("span",{className:"font-medium text-primary",children:"Function Mapping:"})]}),n.jsx("div",{className:"text-muted-foreground",children:f.functionNode.functionName==="visual_flow"?f.visualFlowData?`Visual Flow - ${f.sourceFields.length} source field(s): ${f.sourceFields.join(", ")}`:`Visual Flow - ${f.sourceFields.length} source field(s) connected`:`${f.functionNode.functionName} with ${Object.keys(f.functionNode.sourceConnections).length} parameter(s) connected`})]}),!f.functionNode&&n.jsx("div",{className:"mt-2 text-xs text-muted-foreground italic",children:"Click the lightning icon to configure transformations using the visual flow editor"})]}),f.requiresTransformation===!1&&n.jsx("div",{className:"mt-2 text-xs text-muted-foreground italic",children:"Direct field mapping - no transformation required"})]})]},f.id))})}),i.open&&i.targetField&&n.jsx(iH,{open:i.open,onClose:()=>l({open:!1,selectedFunction:"",targetField:null,filteredSourceFields:[]}),selectedFunction:i.selectedFunction,sourceFields:i.filteredSourceFields||t,targetField:i.targetField,onApplyMapping:h}),d.open&&d.targetField&&n.jsx(KW,{open:d.open,onClose:()=>c({open:!1,targetField:null}),sourceFields:t,targetField:d.targetField,onApplyMapping:m,initialMapping:d.existingMapping})]})}function vj({onClose:e,onSave:t,initialMappingName:r="",sampleStructures:s=[],sourceAdapterType:a="",targetAdapterType:o=""}){const[i,l]=p.useState([]),[d,c]=p.useState([]),[u,m]=p.useState([]),[h,f]=p.useState(null),[j,x]=p.useState(""),[w,v]=p.useState(""),[g,y]=p.useState(""),[N,b]=p.useState(""),[E,S]=p.useState(!1),[P,_]=p.useState(!1),[T,D]=p.useState(r),[k,U]=p.useState(!0),{structures:M}=xl();p.useEffect(()=>{if(a&&o&&M.length>0&&!g&&!N){const z=M.filter(K=>K.usage==="source"||!K.usage),G=M.filter(K=>K.usage==="target"||!K.usage);z.length>0&&B(z[0].name,!0),G.length>0&&B(G[0].name,!1)}},[a,o,M,g,N]);const $=p.useCallback((z,G)=>{const K=Y=>Y.map(ne=>ne.id===z?{...ne,expanded:!ne.expanded}:ne.children?{...ne,children:K(ne.children)}:ne);G?l(K):c(K)},[]),L=z=>{f(z)},I=z=>{z.preventDefault()},F=z=>{if(!h)return;const G=u.findIndex(K=>K.targetPath===z.path);if(G>=0){const K=u[G],Y={...K,sourceFields:[...K.sourceFields,h.name],sourcePaths:[...K.sourcePaths,h.path]},ne=[...u];ne[G]=Y,m(ne)}else{const K={id:`mapping_${Date.now()}`,name:`${h.name}_to_${z.name}`,sourceFields:[h.name],targetField:z.name,sourcePaths:[h.path],targetPath:z.path,requiresTransformation:k};m(Y=>[...Y,K])}f(null)},R=z=>{m(G=>G.filter(K=>K.id!==z))},V=()=>{m([])},B=(z,G)=>{const K=M.find(le=>le.name===z);if(!K)return;const Y=(le,fe="")=>!le||typeof le!="object"?[]:Object.keys(le).map((xe,me)=>{const ve=le[xe],we=fe?`${fe}.${xe}`:xe,Re=ve&&typeof ve=="object"&&!Array.isArray(ve);return{id:`${we}_${me}`,name:xe,type:Array.isArray(ve)?"array":typeof ve,path:we,expanded:!1,children:Re?Y(ve,we):void 0}}),ne=Y(K.structure);G?(y(z),l(ne),S(!1)):(b(z),c(ne),_(!1))},H=(z,G)=>{m(K=>K.map(Y=>Y.id===z?{...Y,...G}:Y))},q=z=>{m(G=>[...G,z])};return n.jsxs("div",{className:"fixed inset-0 bg-background z-50 overflow-hidden animate-fade-in",children:[n.jsx("div",{className:"border-b",children:n.jsxs("div",{className:"h-16 flex items-center justify-between px-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{htmlFor:"mappingName",className:"text-sm font-medium",children:"Mapping Name:"}),n.jsx(O,{id:"mappingName",placeholder:"Enter mapping name",value:T,onChange:z=>D(z.target.value),className:"w-64"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ie,{id:"requiresTransformation",checked:k,onCheckedChange:z=>U(z)}),n.jsx(C,{htmlFor:"requiresTransformation",className:"text-sm font-medium",children:"Requires Transformation"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(W,{variant:"outline",onClick:V,className:"text-destructive hover:text-destructive hover-scale",children:[n.jsx(ba,{className:"h-4 w-4 mr-2"}),"Delete All Mappings"]}),u.length>0&&n.jsxs(W,{onClick:()=>t==null?void 0:t(u,T),className:"hover-scale",disabled:!T.trim(),children:[n.jsx(Pn,{className:"h-4 w-4 mr-2"}),"Save Mappings"]}),n.jsxs(W,{variant:"outline",onClick:e,className:"hover-scale",children:[n.jsx(ut,{className:"h-4 w-4 mr-2"}),"Close"]})]})]})}),n.jsxs("div",{className:"flex h-[calc(100vh-8rem)]",children:[n.jsx(aH,{fields:i,mappings:u,selectedService:g,searchValue:j,showSelector:E,onSearchChange:x,onShowSelectorChange:S,onSelectService:z=>B(z,!0),onToggleExpanded:$,onDragStart:L}),n.jsx(GW,{mappings:u,sourceFields:i,targetFields:d,onRemoveMapping:R,onUpdateMapping:H,onCreateMapping:q}),n.jsx(oH,{fields:d,mappings:u,selectedService:N,searchValue:w,showSelector:P,onSearchChange:v,onShowSelectorChange:_,onSelectService:z=>B(z,!1),onToggleExpanded:$,onDragOver:I,onDrop:F})]})]})}const Tf=e=>{const t=e.toUpperCase();return t.includes("JDBC")?qt:t.includes("HTTP")||t.includes("REST")?ls:t.includes("SOAP")?as:t.includes("MAIL")?cd:t.includes("FILE")||t.includes("FTP")?Ht:Zv};function XW(){const e=Sa(),{toast:t}=Qe(),[r,s]=p.useState(!1),[a,o]=p.useState(""),[i,l]=p.useState(""),[d,c]=p.useState(""),[u,m]=p.useState(""),[h,f]=p.useState(""),[j,x]=p.useState(""),[w,v]=p.useState(""),[g,y]=p.useState(""),[N,b]=p.useState([]),[E,S]=p.useState([]),[P,_]=p.useState([]),[T,D]=p.useState(!0),[k,U]=p.useState(!1);p.useEffect(()=>{M()},[]);const M=async()=>{try{D(!0);const R=await Ha.getAllBusinessComponents();R.success&&R.data&&b(R.data);try{const V=await ce.get("/adapters");V.data&&S(V.data)}catch(V){console.warn("Could not load adapters:",V),S([])}try{const V=await ce.get("/structures");V.data&&_(V.data)}catch(V){console.warn("Could not load data structures:",V),_([])}}catch(R){console.error("Error loading component data:",R),t({title:"Error",description:"Failed to load component data. Some features may not work properly.",variant:"destructive"})}finally{D(!1)}},$=()=>{e("/dashboard")},L=async(R,V)=>{var B,H;if(!a.trim()){t({title:"Validation Error",description:"Flow name is required.",variant:"destructive"});return}if(!h||!j){t({title:"Validation Error",description:"Both source and target adapters are required.",variant:"destructive"});return}try{U(!0);const q={flowName:a.trim(),description:i.trim(),sourceBusinessComponentId:d||null,targetBusinessComponentId:u||null,sourceAdapterId:h,targetAdapterId:j,sourceStructureId:w||null,targetStructureId:g||null,createdBy:"current-user",fieldMappings:R||[]};(await ce.post("/flow-composition/direct-mapping",q)).data&&(t({title:"Success",description:`Integration flow "${a}" has been created successfully.`}),e("/dashboard"))}catch(q){console.error("Error saving flow:",q),t({title:"Save Failed",description:((H=(B=q.response)==null?void 0:B.data)==null?void 0:H.message)||"Failed to save the integration flow. Please try again.",variant:"destructive"})}finally{U(!1)}},I=async()=>{var R,V,B,H,q;if(!h||!j){t({title:"Validation Error",description:"Both source and target adapters are required for testing.",variant:"destructive"});return}try{const z={flowName:a.trim()||"Test Flow",sourceAdapterId:h,targetAdapterId:j,sourceBusinessComponentId:d||null,targetBusinessComponentId:u||null},G=await ce.post("/flow-composition/validate/direct-mapping",z);if((R=G.data)!=null&&R.valid)t({title:"Validation Passed",description:"Flow configuration is valid and ready for execution."});else{const K=((B=(V=G.data)==null?void 0:V.errors)==null?void 0:B.join(", "))||"Unknown validation errors";t({title:"Validation Failed",description:K,variant:"destructive"})}}catch(z){console.error("Error testing flow:",z),t({title:"Test Failed",description:((q=(H=z.response)==null?void 0:H.data)==null?void 0:q.message)||"Failed to test the flow configuration.",variant:"destructive"})}},F=()=>{s(!0)};return r?n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:n.jsx("div",{className:"container mx-auto px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(W,{variant:"ghost",size:"sm",onClick:()=>s(!1),className:"gap-2",children:[n.jsx(Kx,{className:"h-4 w-4"}),"Back to Flow Configuration"]}),n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold tracking-tight",children:["Field Mapping - ",a]}),n.jsxs("p",{className:"text-muted-foreground",children:["Map fields between ",h," and ",j]})]})]})})}),n.jsx(vj,{onClose:$,onSave:L,initialMappingName:a,sourceAdapterType:h,targetAdapterType:j})]}):n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:n.jsx("div",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(W,{variant:"ghost",size:"sm",onClick:$,className:"gap-2",children:[n.jsx(Kx,{className:"h-4 w-4"}),"Back"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Create Integration Flow"}),n.jsx("p",{className:"text-muted-foreground",children:"Design and configure a new message integration flow"})]})]})})}),n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs(X,{className:"animate-scale-in",children:[n.jsxs(re,{children:[n.jsx(ae,{children:"Flow Details"}),n.jsx(ge,{children:"Configure the basic information for your integration flow"})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"flowName",children:"Flow Name *"}),n.jsx(O,{id:"flowName",placeholder:"e.g., Customer Data Sync",value:a,onChange:R=>o(R.target.value),className:"transition-all duration-300 focus:scale-[1.01]"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"description",children:"Description"}),n.jsx(Se,{id:"description",placeholder:"Describe what this integration flow does...",value:i,onChange:R=>l(R.target.value),className:"transition-all duration-300 focus:scale-[1.01]",rows:3})]})]})]}),n.jsxs(X,{className:"animate-scale-in",style:{animationDelay:"0.1s"},children:[n.jsxs(re,{children:[n.jsx(ae,{children:"Source & Target Configuration"}),n.jsx(ge,{children:"Select the source and target systems for your integration"})]}),n.jsx(te,{className:"space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"font-medium text-sm text-muted-foreground uppercase tracking-wide",children:"Source"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{children:"Source Business Component *"}),n.jsxs(Z,{value:d,onValueChange:c,disabled:T,children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:T?"Loading...":"Select source business component"})}),n.jsx(J,{children:N.map(R=>n.jsx(A,{value:R.id,children:R.name},R.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{children:"Source Adapter *"}),n.jsxs(Z,{value:h,onValueChange:f,disabled:T,children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:T?"Loading...":"Select source system"})}),n.jsx(J,{children:E.map(R=>{const V=Tf(R.type||R.name);return n.jsx(A,{value:R.name,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(V,{className:"h-4 w-4"}),R.name]})},R.name)})})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"font-medium text-sm text-muted-foreground uppercase tracking-wide",children:"Target"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{children:"Target Business Component *"}),n.jsxs(Z,{value:u,onValueChange:m,disabled:T,children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:T?"Loading...":"Select target business component"})}),n.jsx(J,{children:N.map(R=>n.jsx(A,{value:R.id,children:R.name},R.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{children:"Target Adapter *"}),n.jsxs(Z,{value:j,onValueChange:x,disabled:T,children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:T?"Loading...":"Select target system"})}),n.jsx(J,{children:E.map(R=>{const V=Tf(R.type||R.name);return n.jsx(A,{value:R.name,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(V,{className:"h-4 w-4"}),R.name]})},R.name)})})]})]})]})]})]})})]}),n.jsxs(X,{className:"animate-scale-in",style:{animationDelay:"0.2s"},children:[n.jsxs(re,{children:[n.jsx(ae,{children:"Data Transformations"}),n.jsx(ge,{children:"Configure how data should be transformed during the flow"})]}),n.jsx(te,{children:n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center space-y-4",children:[n.jsx("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center",children:n.jsx(nt,{className:"h-8 w-8 text-muted-foreground"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"font-medium",children:"Configure data transformations with field mapping"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Field mapping allows you to connect source and target fields with custom logic."}),n.jsx("p",{className:"text-sm text-orange-600",children:"Please select both source and target business components AND their corresponding adapters above to enable mapping."})]}),n.jsx(W,{onClick:F,disabled:!d||!u||!h||!j,className:"mt-4",children:"Create Mapping"})]})})]})]}),n.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[n.jsx($U,{onTestFlow:I,onSaveFlow:()=>L(),isLoading:k,disabled:T||!a.trim()||!h||!j}),n.jsx(UU,{sourceAdapter:h,targetAdapter:j,sourceStructure:w,targetStructure:g,selectedTransformations:[],adapters:E.map(R=>({id:R.name,name:R.name,icon:Tf(R.type||R.name),category:R.type||"General"})),sampleStructures:P}),n.jsx(HU,{}),T&&n.jsx(X,{children:n.jsx(te,{className:"flex items-center justify-center py-6",children:n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(Jt,{className:"h-4 w-4 animate-spin"}),"Loading component data..."]})})})]})]})})]})}const QW=({adapters:e,sourceBusinessComponent:t,targetBusinessComponent:r,sourceAdapter:s,targetAdapter:a,sourceAdapterActive:o,targetAdapterActive:i,onSourceBusinessComponentChange:l,onTargetBusinessComponentChange:d,onSourceAdapterChange:c,onTargetAdapterChange:u,onSourceAdapterActiveChange:m,onTargetAdapterActiveChange:h})=>{console.log("[AdapterConfigurationCard] Component rendered with props:",{adapters:e.length,sourceBusinessComponent:t,targetBusinessComponent:r,sourceAdapter:s,targetAdapter:a,sourceAdapterActive:o,targetAdapterActive:i});const{businessComponents:f,loading:j,getAdaptersForBusinessComponent:x}=Kr();console.log("[AdapterConfigurationCard] Hook data:",{businessComponents:f.length,loading:j});const w=S=>e.find(P=>P.id===S),[v,g]=p.useState([]);p.useEffect(()=>{t&&y(t)},[t]);const y=async S=>{const P=await x(S);g(P)},N=S=>S?e.filter(P=>v.includes(P.id)):e,b=async S=>{console.log("[AdapterConfigurationCard] Source business component changing:",S);try{l(S);const P=await x(S);console.log("[AdapterConfigurationCard] Available adapters for business component:",P),s&&!P.includes(s)&&(console.log("[AdapterConfigurationCard] Resetting source adapter - not available for new business component"),c(""))}catch(P){console.error("[AdapterConfigurationCard] Error handling source business component change:",P)}},E=async S=>{d(S);const P=await x(S);a&&!P.includes(a)&&u("")};return n.jsxs(X,{className:"animate-scale-in",style:{animationDelay:"0.1s"},children:[n.jsxs(re,{children:[n.jsx(ae,{children:"Source & Target Configuration"}),n.jsx(ge,{children:"Select the source and target systems for your integration"})]}),n.jsxs(te,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx(C,{children:"Source Business Component *"}),n.jsxs(Z,{value:t,onValueChange:b,disabled:j,children:[n.jsx(Q,{className:"transition-all duration-300 hover:bg-accent/50",children:n.jsx(ee,{placeholder:"Select source business component"})}),n.jsx(J,{children:f.map(S=>n.jsx(A,{value:S.id,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{children:S.name}),S.description&&n.jsx(oe,{variant:"outline",className:"text-xs",children:S.description})]})},S.id))})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(C,{children:"Source Adapter *"}),n.jsxs(Z,{value:s,onValueChange:c,disabled:!t,children:[n.jsx(Q,{className:"transition-all duration-300 hover:bg-accent/50",children:n.jsx(ee,{placeholder:"Select source system"})}),n.jsx(J,{children:N(t).map(S=>n.jsx(A,{value:S.id,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S.icon,{className:"h-4 w-4"}),n.jsx("span",{children:S.name}),n.jsx(oe,{variant:"outline",className:"text-xs",children:S.category})]})},S.id))})]}),s&&n.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:n.jsx("div",{className:"flex items-center gap-2",children:w(s)&&n.jsx(n.Fragment,{children:(()=>{const S=w(s),P=S.icon;return n.jsxs(n.Fragment,{children:[n.jsx(P,{className:"h-4 w-4 text-primary"}),n.jsx("span",{className:"font-medium",children:S.name})]})})()})})})]}),s&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"sourceAdapterActive",checked:o,onCheckedChange:S=>m(S===!0)}),n.jsxs(C,{htmlFor:"sourceAdapterActive",className:"text-sm font-normal flex items-center gap-1",children:["Active source adapter",n.jsx(oe,{variant:o?"default":"secondary",className:"text-xs",children:o?"Active":"Inactive"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx(C,{children:"Target Business Component *"}),n.jsxs(Z,{value:r,onValueChange:E,disabled:j,children:[n.jsx(Q,{className:"transition-all duration-300 hover:bg-accent/50",children:n.jsx(ee,{placeholder:"Select target business component"})}),n.jsx(J,{children:f.map(S=>n.jsx(A,{value:S.id,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{children:S.name}),S.description&&n.jsx(oe,{variant:"outline",className:"text-xs",children:S.description})]})},S.id))})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(C,{children:"Target Adapter *"}),n.jsxs(Z,{value:a,onValueChange:u,disabled:!r,children:[n.jsx(Q,{className:"transition-all duration-300 hover:bg-accent/50",children:n.jsx(ee,{placeholder:"Select target system"})}),n.jsx(J,{children:N(r).map(S=>n.jsx(A,{value:S.id,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S.icon,{className:"h-4 w-4"}),n.jsx("span",{children:S.name}),n.jsx(oe,{variant:"outline",className:"text-xs",children:S.category})]})},S.id))})]}),a&&n.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:n.jsx("div",{className:"flex items-center gap-2",children:w(a)&&n.jsx(n.Fragment,{children:(()=>{const S=w(a),P=S.icon;return n.jsxs(n.Fragment,{children:[n.jsx(P,{className:"h-4 w-4 text-primary"}),n.jsx("span",{className:"font-medium",children:S.name})]})})()})})})]}),a&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"targetAdapterActive",checked:i,onCheckedChange:S=>h(S===!0)}),n.jsxs(C,{htmlFor:"targetAdapterActive",className:"text-sm font-normal flex items-center gap-1",children:["Active target adapter",n.jsx(oe,{variant:i?"default":"secondary",className:"text-xs",children:i?"Active":"Inactive"})]})]})]})]}),s&&a&&n.jsx("div",{className:"mt-6 p-4 bg-gradient-secondary rounded-lg",children:n.jsxs("div",{className:"flex items-center justify-center gap-4",children:[n.jsx("div",{className:"flex items-center gap-2 bg-card p-3 rounded-lg shadow-soft",children:w(s)&&n.jsx(n.Fragment,{children:(()=>{const S=w(s),P=S.icon;return n.jsxs(n.Fragment,{children:[n.jsx(P,{className:"h-5 w-5 text-primary"}),n.jsx("span",{className:"font-medium",children:S.name})]})})()})}),n.jsx(xh,{className:"h-6 w-6 text-primary animate-pulse"}),n.jsx("div",{className:"flex items-center gap-2 bg-card p-3 rounded-lg shadow-soft",children:w(a)&&n.jsx(n.Fragment,{children:(()=>{const S=w(a),P=S.icon;return n.jsxs(n.Fragment,{children:[n.jsx(P,{className:"h-5 w-5 text-primary"}),n.jsx("span",{className:"font-medium",children:S.name})]})})()})})]})})]})]})},JW=e=>{switch(e){case"start-process":return ol;case"http-sender":case"http-receiver":return ls;case"soap-sender":case"soap-receiver":return vm;case"rest-sender":case"rest-receiver":return hn;default:return JC}},ZW=e=>e==="start-process"?"Start Process":e.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "),Wt=({id:e,data:t,selected:r})=>{var S,P,_,T,D;console.log("[AdapterNode] Rendering node:",{id:e,data:t});const[s,a]=p.useState(!1),{setNodes:o,setEdges:i}=Xr(),[l,d]=p.useState(((S=t.adapterConfig)==null?void 0:S.sourceBusinessComponent)||""),[c,u]=p.useState(((P=t.adapterConfig)==null?void 0:P.targetBusinessComponent)||""),[m,h]=p.useState(t.adapterType),[f,j]=p.useState(((_=t.adapterConfig)==null?void 0:_.targetAdapter)||""),[x,w]=p.useState(((T=t.adapterConfig)==null?void 0:T.sourceAdapterActive)||!0),[v,g]=p.useState(((D=t.adapterConfig)==null?void 0:D.targetAdapterActive)||!1),y=JW(t.adapterType),N=ZW(t.adapterType),b=t.adapterConfig&&Object.keys(t.adapterConfig).length>0;console.log("[AdapterNode] Node state:",{id:e,adapterType:t.adapterType,adapterName:N,isConfigured:b,configOpen:s});const E=()=>{o(k=>k.filter(U=>U.id!==e)),i(k=>k.filter(U=>U.source!==e&&U.target!==e))};return n.jsxs(n.Fragment,{children:[n.jsxs(X,{className:"min-w-[200px] shadow-lg border-2 hover:border-primary/20 transition-colors bg-black text-white relative group",children:[t.showDeleteButton&&n.jsx(W,{variant:"ghost",size:"sm",onClick:E,className:"absolute -top-2 -right-2 h-6 w-6 p-0 bg-destructive text-destructive-foreground opacity-100 transition-opacity rounded-full shadow-md hover:bg-destructive/80",title:"Delete adapter",children:n.jsx(ut,{className:"h-3 w-3"})}),n.jsx(re,{className:"pb-2",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(y,{className:"h-5 w-5 text-white"}),n.jsx(ae,{className:"text-sm font-medium text-white",children:N})]}),n.jsx(oe,{variant:b?"default":"secondary",className:"text-xs bg-white text-black",children:b?"Configured":"Setup Required"})]})}),n.jsx(te,{className:"pt-0",children:n.jsxs(W,{size:"sm",variant:"outline",className:"w-full bg-gray-800 text-white border-gray-700 hover:bg-gray-700",onClick:k=>{console.log("[AdapterNode] Configure button clicked:",{id:e,adapterType:t.adapterType}),k.stopPropagation(),k.preventDefault();try{a(!0),console.log("[AdapterNode] Dialog opened successfully")}catch(U){console.error("[AdapterNode] Error opening dialog:",U)}},onMouseDown:k=>{console.log("[AdapterNode] Configure button mousedown"),k.stopPropagation()},children:[n.jsx(nt,{className:"h-4 w-4 mr-2"}),"Configure"]})}),n.jsx(yt,{type:"target",position:je.Left,className:"w-3 h-3 bg-blue-500 border-2 border-white"}),n.jsx(yt,{type:"source",position:je.Right,className:"w-3 h-3 bg-green-500 border-2 border-white"})]}),n.jsx(wt,{open:s,onOpenChange:k=>{console.log("[AdapterNode] Dialog state changing:",{open:k,id:e}),a(k)},children:n.jsxs(xt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto z-[9999]",style:{zIndex:9999},children:[n.jsx(Nt,{children:n.jsxs(bt,{children:["Configure ",N]})}),n.jsx("div",{className:"mt-4",children:(console.log("[AdapterNode] Rendering AdapterConfigurationCard with props:",{adapters:[{id:t.adapterType,name:N,category:t.adapterType.split("-")[0].toUpperCase()}],sourceAdapter:t.adapterType}),n.jsx(QW,{adapters:[{id:t.adapterType,name:N,icon:y,category:t.adapterType.split("-")[0].toUpperCase()}],sourceBusinessComponent:l,targetBusinessComponent:c,sourceAdapter:m,targetAdapter:f,sourceAdapterActive:x,targetAdapterActive:v,onSourceBusinessComponentChange:k=>{console.log("[AdapterNode] Source business component changed:",k),d(k)},onTargetBusinessComponentChange:k=>{console.log("[AdapterNode] Target business component changed:",k),u(k)},onSourceAdapterChange:k=>{console.log("[AdapterNode] Source adapter changed:",k),h(k)},onTargetAdapterChange:k=>{console.log("[AdapterNode] Target adapter changed:",k),j(k)},onSourceAdapterActiveChange:k=>{console.log("[AdapterNode] Source adapter active changed:",k),w(k)},onTargetAdapterActiveChange:k=>{console.log("[AdapterNode] Target adapter active changed:",k),g(k)}}))})]})})]})};var yj="Switch",[eY,_te]=Wn(yj),[tY,nY]=eY(yj),yM=p.forwardRef((e,t)=>{const{__scopeSwitch:r,name:s,checked:a,defaultChecked:o,required:i,disabled:l,value:d="on",onCheckedChange:c,form:u,...m}=e,[h,f]=p.useState(null),j=Te(t,y=>f(y)),x=p.useRef(!1),w=h?u||!!h.closest("form"):!0,[v=!1,g]=Vr({prop:a,defaultProp:o,onChange:c});return n.jsxs(tY,{scope:r,checked:v,disabled:l,children:[n.jsx(Ce.button,{type:"button",role:"switch","aria-checked":v,"aria-required":i,"data-state":NM(v),"data-disabled":l?"":void 0,disabled:l,value:d,...m,ref:j,onClick:he(e.onClick,y=>{g(N=>!N),w&&(x.current=y.isPropagationStopped(),x.current||y.stopPropagation())})}),w&&n.jsx(rY,{control:h,bubbles:!x.current,name:s,value:d,checked:v,required:i,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});yM.displayName=yj;var jM="SwitchThumb",wM=p.forwardRef((e,t)=>{const{__scopeSwitch:r,...s}=e,a=nY(jM,r);return n.jsx(Ce.span,{"data-state":NM(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})});wM.displayName=jM;var rY=e=>{const{control:t,checked:r,bubbles:s=!0,...a}=e,o=p.useRef(null),i=_y(r),l=ly(t);return p.useEffect(()=>{const d=o.current,c=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(c,"checked").set;if(i!==r&&m){const h=new Event("click",{bubbles:s});m.call(d,r),d.dispatchEvent(h)}},[i,r,s]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:o,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function NM(e){return e?"checked":"unchecked"}var bM=yM,sY=wM;const Pa=p.forwardRef(({className:e,...t},r)=>n.jsx(bM,{className:de("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:n.jsx(sY,{className:de("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Pa.displayName=bM.displayName;const aY=({id:e,data:t,selected:r})=>{var S;const[s,a]=p.useState(!1),{setNodes:o,setEdges:i}=Xr(),[l,d]=p.useState(t.senderComponent||""),[c,u]=p.useState(t.sourceAdapter||""),[m,h]=p.useState(t.isAsync??!0),[f,j]=p.useState([]),{businessComponents:x,adapters:w,getAdaptersForBusinessComponent:v}=Kr(),g=t.senderComponent&&t.sourceAdapter;p.useEffect(()=>{(async()=>{if(l){const _=await v(l);j(_)}else j([])})()},[l,v]);const y=()=>{o(P=>P.filter(_=>_.id!==e)),i(P=>P.filter(_=>_.source!==e&&_.target!==e))},N=async P=>{d(P);const _=await v(P),T=_.includes(c)?c:"";_.includes(c)||u(""),t.onConfigChange({senderComponent:P,sourceAdapter:T,isAsync:m,payload:t.payload})},b=P=>{u(P),t.onConfigChange({senderComponent:l,sourceAdapter:P,isAsync:m,payload:t.payload})},E=P=>{h(P),t.onConfigChange({senderComponent:l,sourceAdapter:c,isAsync:P,payload:t.payload})};return n.jsxs(n.Fragment,{children:[n.jsxs(X,{className:"min-w-[200px] shadow-lg border-2 hover:border-primary/20 transition-colors bg-black text-white relative group",children:[t.showDeleteButton&&n.jsx(W,{variant:"ghost",size:"sm",onClick:y,className:"absolute -top-2 -right-2 h-6 w-6 p-0 bg-destructive text-destructive-foreground opacity-100 transition-opacity rounded-full shadow-md hover:bg-destructive/80",title:"Delete start process",children:n.jsx(ut,{className:"h-3 w-3"})}),n.jsx(re,{className:"pb-2",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ol,{className:"h-5 w-5 text-white"}),n.jsx(ae,{className:"text-sm font-medium text-white",children:"Start Process"})]}),n.jsx(oe,{variant:g?"default":"secondary",className:"text-xs bg-white text-black",children:g?"Configured":"Setup Required"})]})}),n.jsx(te,{className:"pt-0",children:n.jsxs(W,{size:"sm",variant:"outline",className:"w-full bg-gray-800 text-white border-gray-700 hover:bg-gray-700",onClick:P=>{P.stopPropagation(),P.preventDefault(),a(!0)},onMouseDown:P=>P.stopPropagation(),children:[n.jsx(nt,{className:"h-4 w-4 mr-2"}),"Configure"]})}),n.jsx(yt,{type:"source",position:je.Right,className:"w-3 h-3 bg-green-500 border-2 border-white"})]}),n.jsx(wt,{open:s,onOpenChange:a,children:n.jsxs(xt,{className:"max-w-2xl max-h-[80vh] overflow-y-auto z-[9999]",style:{zIndex:9999},children:[n.jsx(Nt,{children:n.jsx(bt,{children:"Configure Start Process"})}),n.jsxs("div",{className:"mt-4 space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"sender-component",children:"Sender Component"}),n.jsxs(Z,{value:l,onValueChange:N,children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select a business component..."})}),n.jsx(J,{children:x.map(P=>n.jsx(A,{value:P.id,children:P.name},P.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"source-adapter",children:"Source Adapter"}),n.jsxs(Z,{value:c,onValueChange:b,disabled:!l,children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select an adapter..."})}),n.jsx(J,{children:f.map(P=>{const _=w.find(T=>T.id===P);return _?n.jsx(A,{value:_.id,children:_.name},_.id):null})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"execution-mode",children:"Execution Mode"}),n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"font-medium text-sm",children:m?"Asynchronous":"Synchronous"}),n.jsx("div",{className:"text-xs text-muted-foreground",children:m?"Process continues without waiting for response":"Process waits for complete response before continuing"})]}),n.jsx(Pa,{checked:m,onCheckedChange:E,"aria-label":"Toggle execution mode"})]})]}),g&&n.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[n.jsx("h4",{className:"font-medium text-sm mb-2",children:"Output Payload"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["This start process will output the payload from the ",l," component using the ",(S=w.find(P=>P.id===c))==null?void 0:S.name," adapter."]})]})]})]})})]})},oY=e=>{switch(e){case"field-mapping":return li;case"custom-function":return as;case"filter":return gm;case"enrichment":return xr;default:return li}},iY=e=>{switch(e){case"field-mapping":return"Field Mapping";case"data-transformation":return"Data Transformation";case"format-conversion":return"Format Conversion";case"value-mapping":return"Value Mapping";case"structure-mapping":return"Structure Mapping";case"conditional-mapping":return"Conditional Mapping";case"aggregation":return"Aggregation";case"split-mapping":return"Split Mapping";case"csv-to-xml":return"CSV to XML";case"json-to-xml":return"JSON to XML";case"xml-to-json":return"XML to JSON";case"excel-to-csv":return"Excel to CSV";case"pdf-extractor":return"PDF Extractor";case"file-splitter":return"File Splitter";case"file-merger":return"File Merger";case"file-validator":return"File Validator";case"javascript-script":return"JavaScript Script";case"groovy-script":return"Groovy Script";case"xslt-transformation":return"XSLT Transformation";case"custom-function":return"Custom Function";case"lookup-function":return"Lookup Function";case"calculation-function":return"Calculation Function";case"validation-function":return"Validation Function";case"enrichment-function":return"Enrichment Function";case"task":return"Task";case"service-task":return"Service Task";case"user-task":return"User Task";case"script-task":return"Script Task";case"manual-task":return"Manual Task";case"business-rule-task":return"Business Rule Task";case"receive-task":return"Receive Task";case"send-task":return"Send Task";case"filter":return"Message Filter";case"enrichment":return"Data Enrichment";default:return"Transformation"}},De=({id:e,data:t,selected:r})=>{const[s,a]=p.useState(!1),{setNodes:o,setEdges:i}=Xr(),l=oY(t.transformationType),d=iY(t.transformationType),c=t.transformationConfig&&Object.keys(t.transformationConfig).length>0,u=()=>{o(m=>m.filter(h=>h.id!==e)),i(m=>m.filter(h=>h.source!==e&&h.target!==e))};return n.jsxs(n.Fragment,{children:[n.jsxs(X,{className:"min-w-[200px] shadow-lg border-2 hover:border-primary/20 transition-colors bg-black text-white relative group",children:[t.showDeleteButton&&n.jsx(W,{variant:"ghost",size:"sm",onClick:u,className:"absolute -top-2 -right-2 h-6 w-6 p-0 bg-destructive text-destructive-foreground opacity-100 transition-opacity rounded-full shadow-md hover:bg-destructive/80",title:"Delete transformation",children:n.jsx(ut,{className:"h-3 w-3"})}),n.jsx(re,{className:"pb-2",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(l,{className:"h-5 w-5 text-white"}),n.jsx(ae,{className:"text-sm font-medium text-white",children:d})]}),n.jsx(oe,{variant:c?"default":"secondary",className:"text-xs bg-white text-black",children:c?"Configured":"Setup Required"})]})}),n.jsx(te,{className:"pt-0",children:n.jsxs(W,{size:"sm",variant:"outline",className:"w-full bg-gray-800 text-white border-gray-700 hover:bg-gray-700",onClick:m=>{m.stopPropagation(),m.preventDefault(),console.log("[TransformationNode] Configure clicked:",{id:e,transformationType:t.transformationType,config:t.transformationConfig,isFieldMapping:t.transformationType==="field-mapping"}),a(!0)},onMouseDown:m=>m.stopPropagation(),children:[n.jsx(nt,{className:"h-4 w-4 mr-2"}),"Configure"]})}),n.jsx(yt,{type:"target",position:je.Left,className:"w-3 h-3 bg-purple-500 border-2 border-white"}),n.jsx(yt,{type:"source",position:je.Right,className:"w-3 h-3 bg-purple-500 border-2 border-white"})]}),t.transformationType==="field-mapping"?n.jsx(wt,{open:s,onOpenChange:a,children:n.jsx(xt,{className:"max-w-[95vw] max-h-[95vh] p-0 z-[9999]",style:{zIndex:9999},children:n.jsx(vj,{onClose:()=>a(!1),onSave:m=>{t.onConfigChange({fieldMappings:m}),a(!1)},initialMappingName:`${d} - ${e}`,sampleStructures:[]})})}):n.jsx(wt,{open:s,onOpenChange:a,children:n.jsxs(xt,{className:"max-w-2xl z-[9999]",style:{zIndex:9999},children:[n.jsx(Nt,{children:n.jsxs(bt,{children:["Configure ",d]})}),n.jsx("div",{className:"mt-4 p-4 border border-dashed border-muted-foreground rounded-lg text-center",children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:[d," configuration panel coming soon..."]})})]})})]})},xn=({id:e,data:t,selected:r})=>{const[s,a]=p.useState(!1),[o,i]=p.useState(t.routingType||"conditional"),[l,d]=p.useState(t.conditions||[]),{setNodes:c,setEdges:u}=Xr(),m=()=>{c(v=>v.filter(g=>g.id!==e)),u(v=>v.filter(g=>g.source!==e&&g.target!==e))},h=()=>{d([...l,{field:"",operator:"equals",value:"",route:""}])},f=(v,g,y)=>{const N=[...l];N[v]={...N[v],[g]:y},d(N)},j=v=>{d(l.filter((g,y)=>y!==v))},x=()=>{var v;(v=t.onConfigChange)==null||v.call(t,e,{routingType:o,conditions:l}),a(!1)},w=t.conditions&&t.conditions.length>0;return n.jsxs(n.Fragment,{children:[n.jsxs(X,{className:"min-w-[200px] shadow-lg border-2 hover:border-primary/20 transition-colors bg-black text-white relative group",children:[t.showDeleteButton&&n.jsx(W,{variant:"ghost",size:"sm",onClick:m,className:"absolute -top-2 -right-2 h-6 w-6 p-0 bg-destructive text-destructive-foreground opacity-100 transition-opacity rounded-full shadow-md hover:bg-destructive/80",title:"Delete routing node",children:n.jsx(ut,{className:"h-3 w-3"})}),n.jsx(re,{className:"pb-2",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_u,{className:"h-5 w-5 text-white"}),n.jsx(ae,{className:"text-sm font-medium text-white",children:"Routing Logic"})]}),n.jsx(oe,{variant:w?"default":"secondary",className:"text-xs bg-white text-black",children:w?"Configured":"Setup Required"})]})}),n.jsx(te,{className:"pt-0",children:n.jsxs(W,{variant:"outline",size:"sm",className:"w-full bg-gray-800 text-white border-gray-700 hover:bg-gray-700",onClick:v=>{v.stopPropagation(),v.preventDefault(),a(!0)},onMouseDown:v=>v.stopPropagation(),children:[n.jsx(nt,{className:"h-4 w-4 mr-2"}),"Configure"]})}),n.jsx(yt,{type:"target",position:je.Left,className:"w-3 h-3 bg-orange-500 border-2 border-white"}),n.jsx(yt,{type:"source",position:je.Right,id:"default",className:"w-3 h-3 bg-orange-500 border-2 border-white",style:{top:"30%"}}),n.jsx(yt,{type:"source",position:je.Right,id:"route1",className:"w-3 h-3 bg-orange-500 border-2 border-white",style:{top:"50%"}}),n.jsx(yt,{type:"source",position:je.Right,id:"route2",className:"w-3 h-3 bg-orange-500 border-2 border-white",style:{top:"70%"}})]}),n.jsx(wt,{open:s,onOpenChange:a,children:n.jsxs(xt,{className:"max-w-2xl z-[9999]",style:{zIndex:9999},children:[n.jsx(Nt,{children:n.jsx(bt,{children:"Configure Routing Logic"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"routingType",children:"Routing Type"}),n.jsxs(Z,{value:o,onValueChange:i,children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select routing type"})}),n.jsxs(J,{children:[n.jsx(A,{value:"conditional",children:"Conditional Routing"}),n.jsx(A,{value:"content-based",children:"Content-Based Routing"}),n.jsx(A,{value:"load-balance",children:"Load Balancing"}),n.jsx(A,{value:"round-robin",children:"Round Robin"})]})]})]}),o==="conditional"&&n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(C,{children:"Routing Conditions"}),n.jsx(W,{onClick:h,size:"sm",variant:"outline",children:"Add Condition"})]}),l.map((v,g)=>n.jsxs("div",{className:"grid grid-cols-5 gap-2 items-end",children:[n.jsxs("div",{children:[n.jsx(C,{className:"text-xs",children:"Field"}),n.jsx(O,{placeholder:"Field name",value:v.field,onChange:y=>f(g,"field",y.target.value)})]}),n.jsxs("div",{children:[n.jsx(C,{className:"text-xs",children:"Operator"}),n.jsxs(Z,{value:v.operator,onValueChange:y=>f(g,"operator",y),children:[n.jsx(Q,{children:n.jsx(ee,{})}),n.jsxs(J,{children:[n.jsx(A,{value:"equals",children:"Equals"}),n.jsx(A,{value:"contains",children:"Contains"}),n.jsx(A,{value:"starts-with",children:"Starts With"}),n.jsx(A,{value:"greater-than",children:"Greater Than"}),n.jsx(A,{value:"less-than",children:"Less Than"})]})]})]}),n.jsxs("div",{children:[n.jsx(C,{className:"text-xs",children:"Value"}),n.jsx(O,{placeholder:"Condition value",value:v.value,onChange:y=>f(g,"value",y.target.value)})]}),n.jsxs("div",{children:[n.jsx(C,{className:"text-xs",children:"Route"}),n.jsxs(Z,{value:v.route,onValueChange:y=>f(g,"route",y),children:[n.jsx(Q,{children:n.jsx(ee,{})}),n.jsxs(J,{children:[n.jsx(A,{value:"default",children:"Default"}),n.jsx(A,{value:"route1",children:"Route 1"}),n.jsx(A,{value:"route2",children:"Route 2"})]})]})]}),n.jsx(W,{variant:"outline",size:"sm",onClick:()=>j(g),children:n.jsx(ut,{className:"h-3 w-3"})})]},g))]}),n.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[n.jsx(W,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),n.jsx(W,{onClick:x,children:"Save Configuration"})]})]})]})})]})},lY=({onAddNode:e})=>{const t=[{category:"BPMN Events",icon:ql,nodes:[{type:"start-process",label:"Start Process",icon:ol},{type:"end-process",label:"End Process",icon:rI},{type:"start-event",label:"Start Event",icon:ql},{type:"end-event",label:"End Event",icon:ql},{type:"intermediate-event",label:"Intermediate Event",icon:ql},{type:"timer-event",label:"Timer Event",icon:sI},{type:"message-event",label:"Message Event",icon:an},{type:"error-event",label:"Error Event",icon:vs}]},{category:"BPMN Activities",icon:nt,nodes:[{type:"task",label:"Task",icon:nt},{type:"service-task",label:"Service Task",icon:ur},{type:"user-task",label:"User Task",icon:Bt},{type:"script-task",label:"Script Task",icon:as},{type:"manual-task",label:"Manual Task",icon:Zx},{type:"business-rule-task",label:"Business Rule Task",icon:Zp},{type:"receive-task",label:"Receive Task",icon:an},{type:"send-task",label:"Send Task",icon:an}]},{category:"BPMN Gateways",icon:To,nodes:[{type:"exclusive-gateway",label:"Exclusive Gateway",icon:To},{type:"parallel-gateway",label:"Parallel Gateway",icon:To},{type:"inclusive-gateway",label:"Inclusive Gateway",icon:To},{type:"event-gateway",label:"Event Gateway",icon:To},{type:"complex-gateway",label:"Complex Gateway",icon:To}]},{category:"Mapping & Transformation",icon:li,nodes:[{type:"field-mapping",label:"Field Mapping",icon:li},{type:"data-transformation",label:"Data Transformation",icon:hn},{type:"format-conversion",label:"Format Conversion",icon:li},{type:"value-mapping",label:"Value Mapping",icon:Ur},{type:"structure-mapping",label:"Structure Mapping",icon:vm},{type:"conditional-mapping",label:"Conditional Mapping",icon:Oa},{type:"aggregation",label:"Aggregation",icon:vw},{type:"split-mapping",label:"Split Mapping",icon:Oa}]},{category:"File Transformations",icon:Ht,nodes:[{type:"csv-to-xml",label:"CSV to XML",icon:Ht},{type:"json-to-xml",label:"JSON to XML",icon:Ht},{type:"xml-to-json",label:"XML to JSON",icon:Ht},{type:"excel-to-csv",label:"Excel to CSV",icon:Ht},{type:"pdf-extractor",label:"PDF Extractor",icon:Ht},{type:"file-splitter",label:"File Splitter",icon:Oa},{type:"file-merger",label:"File Merger",icon:vw},{type:"file-validator",label:"File Validator",icon:Cn}]},{category:"Scripts & Functions",icon:as,nodes:[{type:"javascript-script",label:"JavaScript Script",icon:as},{type:"groovy-script",label:"Groovy Script",icon:as},{type:"xslt-transformation",label:"XSLT Transformation",icon:as},{type:"custom-function",label:"Custom Function",icon:ur},{type:"lookup-function",label:"Lookup Function",icon:Ur},{type:"calculation-function",label:"Calculation Function",icon:Zx},{type:"validation-function",label:"Validation Function",icon:Cn},{type:"enrichment-function",label:"Enrichment Function",icon:ur}]},{category:"Flow Routing",icon:_u,nodes:[{type:"content-router",label:"Content Router",icon:_u},{type:"recipient-list",label:"Recipient List",icon:Bt},{type:"message-filter",label:"Message Filter",icon:gm},{type:"dynamic-router",label:"Dynamic Router",icon:_u},{type:"load-balancer",label:"Load Balancer",icon:Oa},{type:"failover-router",label:"Failover Router",icon:hn},{type:"multicast",label:"Multicast",icon:Oa},{type:"wire-tap",label:"Wire Tap",icon:Ur}]},{category:"Security",icon:Cn,nodes:[{type:"encryption",label:"Encryption",icon:Qx},{type:"decryption",label:"Decryption",icon:_i},{type:"digital-signature",label:"Digital Signature",icon:Zp},{type:"authentication",label:"Authentication",icon:Bt},{type:"authorization",label:"Authorization",icon:Cn},{type:"certificate-validation",label:"Certificate Validation",icon:Zp},{type:"secure-transport",label:"Secure Transport",icon:Qx},{type:"access-control",label:"Access Control",icon:_i}]},{category:"Adapters & Connectors",icon:ls,nodes:[{type:"http-adapter",label:"HTTP Adapter",icon:ls},{type:"ftp-adapter",label:"FTP/SFTP Adapter",icon:XC},{type:"database-adapter",label:"Database Adapter",icon:qt},{type:"mail-adapter",label:"Mail Adapter",icon:cd},{type:"file-adapter",label:"File Adapter",icon:Ht},{type:"jms-adapter",label:"JMS Adapter",icon:an},{type:"soap-adapter",label:"SOAP Adapter",icon:ls},{type:"rest-adapter",label:"REST Adapter",icon:ls}]}];return n.jsxs(X,{className:"w-64 h-full",children:[n.jsx(re,{className:"pb-3",children:n.jsx(ae,{className:"text-sm",children:"Process Steps"})}),n.jsx(te,{className:"space-y-4 overflow-y-auto max-h-[calc(100vh-200px)]",children:t.map(r=>n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-muted-foreground",children:[n.jsx(r.icon,{className:"h-3 w-3"}),r.category]}),n.jsx("div",{className:"grid gap-1",children:r.nodes.map(s=>n.jsxs(W,{variant:"ghost",size:"sm",className:"justify-start h-8 text-xs",onClick:()=>e(s.type,r.category),children:[n.jsx(s.icon,{className:"h-3 w-3 mr-2"}),s.label]},s.type))}),n.jsx(Ke,{})]},r.category))})]})},cY=({selectedNode:e,flowStats:t})=>{const r=a=>({"http-receiver":"HTTP Receiver","http-sender":"HTTP Sender","content-router":"Content Router","data-mapper":"Data Mapper","message-filter":"Message Filter","error-handler":"Error Handler",delay:"Delay",retry:"Retry Logic","database-adapter":"Database Adapter","mail-adapter":"Mail Adapter","ftp-adapter":"FTP Adapter",enricher:"Data Enricher",validator:"Data Validator",splitter:"Message Splitter",aggregator:"Message Aggregator",conditional:"Conditional Logic",translator:"Data Translator","circuit-breaker":"Circuit Breaker","dead-letter":"Dead Letter Queue",start:"Start Node",stop:"Stop Node"})[a]||a,s=a=>{switch(a){case"Low":return"bg-green-100 text-green-800";case"Medium":return"bg-yellow-100 text-yellow-800";case"High":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return n.jsxs("div",{className:"w-64 space-y-4",children:[n.jsxs(X,{children:[n.jsx(re,{className:"pb-3",children:n.jsxs(ae,{className:"text-sm flex items-center gap-2",children:[n.jsx(nt,{className:"h-4 w-4"}),"Properties"]})}),n.jsx(te,{className:"space-y-3",children:e?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"text-xs font-medium",children:"Node Type"}),n.jsx(oe,{variant:"secondary",className:"text-xs",children:r(e.type||"unknown")})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"text-xs font-medium",children:"Node ID"}),n.jsx("div",{className:"text-xs text-muted-foreground font-mono",children:e.id})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"text-xs font-medium",children:"Position"}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["X: ",Math.round(e.position.x),", Y: ",Math.round(e.position.y)]})]}),e.data&&Object.keys(e.data).length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"text-xs font-medium",children:"Configuration"}),n.jsx("div",{className:"text-xs text-muted-foreground",children:e.data.configured?n.jsx(oe,{variant:"default",className:"text-xs",children:"Configured"}):n.jsx(oe,{variant:"outline",className:"text-xs",children:"Not Configured"})})]})]}):n.jsx("div",{className:"text-xs text-muted-foreground text-center py-4",children:"Select a node to view properties"})})]}),n.jsxs(X,{children:[n.jsx(re,{className:"pb-3",children:n.jsxs(ae,{className:"text-sm flex items-center gap-2",children:[n.jsx(gs,{className:"h-4 w-4"}),"Flow Status"]})}),n.jsxs(te,{className:"space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"text-xs text-muted-foreground",children:"Nodes"}),n.jsx("div",{className:"text-sm font-semibold",children:t.totalNodes})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"text-xs text-muted-foreground",children:"Connections"}),n.jsx("div",{className:"text-sm font-semibold",children:t.totalConnections})]})]}),n.jsx(Ke,{}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(fr,{className:"h-3 w-3"}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Est. Execution"})]}),n.jsx("div",{className:"text-xs font-medium",children:t.estimatedExecutionTime})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ur,{className:"h-3 w-3"}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Complexity"})]}),n.jsx(oe,{className:`text-xs ${s(t.complexity)}`,children:t.complexity})]})]})]})]})},dY={"start-process":aY,"end-process":Wt,"start-event":Wt,"end-event":Wt,"intermediate-event":Wt,"timer-event":Wt,"message-event":Wt,"error-event":Wt,task:De,"service-task":De,"user-task":De,"script-task":De,"manual-task":De,"business-rule-task":De,"receive-task":De,"send-task":De,"exclusive-gateway":xn,"parallel-gateway":xn,"inclusive-gateway":xn,"event-gateway":xn,"complex-gateway":xn,"field-mapping":De,"data-transformation":De,"format-conversion":De,"value-mapping":De,"structure-mapping":De,"conditional-mapping":De,aggregation:De,"split-mapping":De,"csv-to-xml":De,"json-to-xml":De,"xml-to-json":De,"excel-to-csv":De,"pdf-extractor":De,"file-splitter":De,"file-merger":De,"file-validator":De,"javascript-script":De,"groovy-script":De,"xslt-transformation":De,"custom-function":De,"lookup-function":De,"calculation-function":De,"validation-function":De,"enrichment-function":De,"content-router":xn,"recipient-list":xn,"message-filter":xn,"dynamic-router":xn,"load-balancer":xn,"failover-router":xn,multicast:xn,"wire-tap":xn,encryption:De,decryption:De,"digital-signature":De,authentication:De,authorization:De,"certificate-validation":De,"secure-transport":De,"access-control":De,"http-adapter":Wt,"ftp-adapter":Wt,"database-adapter":Wt,"mail-adapter":Wt,"file-adapter":Wt,"jms-adapter":Wt,"soap-adapter":Wt,"rest-adapter":Wt},uY=()=>[{id:"start-process-1",type:"start-process",position:{x:100,y:200},data:{senderComponent:"",sourceAdapter:"",isAsync:!0,configured:!1,showDeleteButton:!1,onConfigChange:()=>{}}},{id:"end-process-1",type:"end-process",position:{x:500,y:200},data:{adapterType:"end-process",configured:!1,showDeleteButton:!1,onConfigChange:()=>{}}}],hY=()=>[{id:"start-to-end",source:"start-process-1",target:"end-process-1",type:"smoothstep",animated:!0,style:{stroke:"hsl(var(--primary))",strokeWidth:2},markerEnd:{type:ar.ArrowClosed,color:"hsl(var(--primary))"}}];function mY({flowId:e,onFlowChange:t}){const[r,s,a]=LA(uY()),[o,i,l]=$A(hY()),[d,c]=p.useState(null),[u,m]=p.useState(null),h=p.useMemo(()=>r.filter(v=>v.selected).map(v=>v.id),[r]);p.useEffect(()=>{if(t){const v=r.map(g=>({id:g.id,type:g.type,position:g.position,data:g.data}));t({steps:v})}},[r,o,t]);const f=p.useCallback(v=>{const g={...v,type:"smoothstep",animated:!0,style:{stroke:"hsl(var(--primary))",strokeWidth:2},markerEnd:{type:ar.ArrowClosed,color:"hsl(var(--primary))"}};i(y=>Bh(g,y))},[i]),j=p.useCallback((v,g)=>{console.log("[VisualOrchestrationEditor] Node clicked:",{nodeId:g.id,nodeType:g.type}),c(g),m(g.id),setTimeout(()=>m(null),3e3)},[]),x=p.useCallback((v,g)=>{console.log("[VisualOrchestrationEditor] Adding new node:",{type:v,category:g});const y=`${v}-${Date.now()}`,N={id:y,type:v,position:{x:Math.random()*400+200,y:Math.random()*300+150},data:{adapterType:v,transformationType:v,routingType:v,configured:!1,showDeleteButton:!1,onConfigChange:b=>{console.log("[VisualOrchestrationEditor] Node config changed:",{nodeId:y,config:b}),s(E=>E.map(S=>S.id===y?{...S,data:{...S.data,...b,configured:!0}}:S))}}};console.log("[VisualOrchestrationEditor] Created new node:",N),s(b=>{const E=b.concat(N);return console.log("[VisualOrchestrationEditor] Updated nodes list:",E),E})},[s]);p.useCallback(()=>{s(v=>v.filter(g=>!g.selected)),i(v=>v.filter(g=>!h.includes(g.source)&&!h.includes(g.target)))},[h,s,i]);const w=p.useMemo(()=>{const v=r.length,g=o.length;let y="Low";v>10||g>15?y="High":(v>5||g>8)&&(y="Medium");const N=v*100+g*50,b=N<1e3?`${N}ms`:`${(N/1e3).toFixed(1)}s`;return{totalNodes:v,totalConnections:g,estimatedExecutionTime:b,complexity:y}},[r,o]);return n.jsxs("div",{className:"h-full w-full flex",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(lY,{onAddNode:x})}),n.jsx("div",{className:"flex-1 relative",children:n.jsxs(IA,{nodes:r.map(v=>({...v,data:{...v.data,showDeleteButton:u===v.id}})),edges:o,onNodesChange:a,onEdgesChange:l,onConnect:f,onNodeClick:j,nodeTypes:dY,fitView:!0,deleteKeyCode:"Delete",multiSelectionKeyCode:"Control",className:"bg-background",children:[n.jsx(BA,{showInteractive:!1}),n.jsx(qA,{}),n.jsx(HA,{variant:us.Dots,gap:12,size:1})]})}),n.jsx("div",{className:"flex-shrink-0",children:n.jsx(cY,{selectedNode:d,flowStats:w})})]})}function pY(){const e=Sa(),{toast:t}=Qe(),[r,s]=p.useState(!0);p.useState("");const[a,o]=p.useState(""),[i,l]=p.useState(""),[d,c]=p.useState(""),[u,m]=p.useState(""),[h,f]=p.useState(""),[j,x]=p.useState(""),[w,v]=p.useState([]),[g,y]=p.useState([]),[N,b]=p.useState([]),[E,S]=p.useState(!0),[P,_]=p.useState(!1);p.useState(!1),p.useEffect(()=>{T()},[]);const T=async()=>{try{S(!0);const k=await Ha.getAllBusinessComponents();k.success&&k.data&&y(k.data);try{const U=await ce.get("/adapters");U.data&&b(U.data)}catch(U){console.warn("Could not load adapters:",U),b([])}}catch(k){console.error("Error loading component data:",k),t({title:"Error",description:"Failed to load component data. Some features may not work properly.",variant:"destructive"})}finally{S(!1)}},D=async()=>{var k,U;if(!a.trim()){t({title:"Validation Error",description:"Unique Flow ID is required.",variant:"destructive"});return}try{_(!0);const M={flowId:a.trim(),flowName:a.trim(),description:i.trim()||`Orchestration flow with ID: ${a.trim()}`,sourceBusinessComponentId:d||null,targetBusinessComponentId:u||null,sourceAdapterId:h||null,targetAdapterId:j||null,orchestrationSteps:w,createdBy:"current-user"};(await ce.post("/flow-composition/orchestration",M)).data&&(t({title:"Success",description:`Orchestration flow "${a}" has been created successfully.`}),e("/dashboard"))}catch(M){console.error("Error saving orchestration flow:",M),t({title:"Save Failed",description:((U=(k=M.response)==null?void 0:k.data)==null?void 0:U.message)||"Failed to save the orchestration flow. Please try again.",variant:"destructive"})}finally{_(!1)}};return r?n.jsxs("div",{className:"h-screen bg-background overflow-hidden",children:[n.jsxs("div",{className:"h-24 border-b border-border px-6 flex flex-col justify-center space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(W,{variant:"ghost",size:"sm",onClick:()=>e("/dashboard"),className:"gap-2",children:[n.jsx(Kx,{className:"h-4 w-4"}),"Back to Dashboard"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Visual Orchestration Editor"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Design complex workflows with multiple systems, routing, and business logic"})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(W,{onClick:D,disabled:P||!a.trim(),className:"flex items-center gap-2",children:[P?n.jsx(Jt,{className:"h-4 w-4 animate-spin"}):n.jsx(jo,{className:"h-4 w-4"}),"Save Flow"]}),n.jsxs(W,{variant:"outline",onClick:()=>e("/dashboard"),className:"flex items-center gap-2",children:[n.jsx(ut,{className:"h-4 w-4"}),"Cancel"]})]}),n.jsxs(or,{className:"max-w-md",children:[n.jsx(BO,{className:"h-4 w-4"}),n.jsx(ir,{className:"text-xs",children:"The Visual Orchestration Flow Editor is currently under development. This includes drag-and-drop workflow design, message routing, and error handling capabilities."})]})]})]}),n.jsxs("div",{className:"flex items-center gap-4 max-w-md",children:[n.jsx(C,{htmlFor:"uniqueFlowId",className:"text-sm font-medium whitespace-nowrap",children:"Unique Flow ID:"}),n.jsx(O,{id:"uniqueFlowId",placeholder:"Enter unique orchestration flow ID",value:a,onChange:k=>o(k.target.value),className:"flex-1"})]})]}),n.jsx("div",{className:"h-[calc(100vh-96px)]",children:n.jsx(mY,{flowId:a,onFlowChange:k=>{v(k.steps||[])}})})]}):null}var fb=1,fY=.9,xY=.8,gY=.17,Af=.1,Mf=.999,vY=.9999,yY=.99,jY=/[\\\/_+.#"@\[\(\{&]/,wY=/[\\\/_+.#"@\[\(\{&]/g,NY=/[\s-]/,SM=/[\s-]/g;function Og(e,t,r,s,a,o,i){if(o===t.length)return a===e.length?fb:yY;var l=`${a},${o}`;if(i[l]!==void 0)return i[l];for(var d=s.charAt(o),c=r.indexOf(d,a),u=0,m,h,f,j;c>=0;)m=Og(e,t,r,s,c+1,o+1,i),m>u&&(c===a?m*=fb:jY.test(e.charAt(c-1))?(m*=xY,f=e.slice(a,c-1).match(wY),f&&a>0&&(m*=Math.pow(Mf,f.length))):NY.test(e.charAt(c-1))?(m*=fY,j=e.slice(a,c-1).match(SM),j&&a>0&&(m*=Math.pow(Mf,j.length))):(m*=gY,a>0&&(m*=Math.pow(Mf,c-a))),e.charAt(c)!==t.charAt(o)&&(m*=vY)),(m<Af&&r.charAt(c-1)===s.charAt(o+1)||s.charAt(o+1)===s.charAt(o)&&r.charAt(c-1)!==s.charAt(o))&&(h=Og(e,t,r,s,c+1,o+2,i),h*Af>m&&(m=h*Af)),m>u&&(u=m),c=r.indexOf(d,c+1);return i[l]=u,u}function xb(e){return e.toLowerCase().replace(SM," ")}function bY(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,Og(e,t,xb(e),xb(t),0,0,{})}function Zt(){return Zt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Zt.apply(null,arguments)}function gi(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function SY(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function CM(...e){return t=>e.forEach(r=>SY(r,t))}function bd(...e){return p.useCallback(CM(...e),e)}function CY(e,t=[]){let r=[];function s(o,i){const l=p.createContext(i),d=r.length;r=[...r,i];function c(m){const{scope:h,children:f,...j}=m,x=(h==null?void 0:h[e][d])||l,w=p.useMemo(()=>j,Object.values(j));return p.createElement(x.Provider,{value:w},f)}function u(m,h){const f=(h==null?void 0:h[e][d])||l,j=p.useContext(f);if(j)return j;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,u]}const a=()=>{const o=r.map(i=>p.createContext(i));return function(l){const d=(l==null?void 0:l[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return a.scopeName=e,[s,EY(a,...t)]}function EY(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=s.reduce((l,{useScope:d,scopeName:c})=>{const m=d(o)[`__scope${c}`];return{...l,...m}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}const Ig=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},PY=Zc.useId||(()=>{});let kY=0;function Df(e){const[t,r]=p.useState(PY());return Ig(()=>{e||r(s=>s??String(kY++))},[e]),e||(t?`radix-${t}`:"")}function po(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>{var s;return(s=t.current)===null||s===void 0?void 0:s.call(t,...r)},[])}function TY({prop:e,defaultProp:t,onChange:r=()=>{}}){const[s,a]=AY({defaultProp:t,onChange:r}),o=e!==void 0,i=o?e:s,l=po(r),d=p.useCallback(c=>{if(o){const m=typeof c=="function"?c(e):c;m!==e&&l(m)}else a(c)},[o,e,a,l]);return[i,d]}function AY({defaultProp:e,onChange:t}){const r=p.useState(e),[s]=r,a=p.useRef(s),o=po(t);return p.useEffect(()=>{a.current!==s&&(o(s),a.current=s)},[s,a,o]),r}const jj=p.forwardRef((e,t)=>{const{children:r,...s}=e,a=p.Children.toArray(r),o=a.find(DY);if(o){const i=o.props.children,l=a.map(d=>d===o?p.Children.count(i)>1?p.Children.only(null):p.isValidElement(i)?i.props.children:null:d);return p.createElement(Lg,Zt({},s,{ref:t}),p.isValidElement(i)?p.cloneElement(i,void 0,l):null)}return p.createElement(Lg,Zt({},s,{ref:t}),r)});jj.displayName="Slot";const Lg=p.forwardRef((e,t)=>{const{children:r,...s}=e;return p.isValidElement(r)?p.cloneElement(r,{...RY(s,r.props),ref:t?CM(t,r.ref):r.ref}):p.Children.count(r)>1?p.Children.only(null):null});Lg.displayName="SlotClone";const MY=({children:e})=>p.createElement(p.Fragment,null,e);function DY(e){return p.isValidElement(e)&&e.type===MY}function RY(e,t){const r={...t};for(const s in t){const a=e[s],o=t[s];/^on[A-Z]/.test(s)?a&&o?r[s]=(...l)=>{o(...l),a(...l)}:a&&(r[s]=a):s==="style"?r[s]={...a,...o}:s==="className"&&(r[s]=[a,o].filter(Boolean).join(" "))}return{...e,...r}}const FY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Kn=FY.reduce((e,t)=>{const r=p.forwardRef((s,a)=>{const{asChild:o,...i}=s,l=o?jj:t;return p.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),p.createElement(l,Zt({},i,{ref:a}))});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function _Y(e,t){e&&Nr.flushSync(()=>e.dispatchEvent(t))}function OY(e,t=globalThis==null?void 0:globalThis.document){const r=po(e);p.useEffect(()=>{const s=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",s),()=>t.removeEventListener("keydown",s)},[r,t])}const $g="dismissableLayer.update",IY="dismissableLayer.pointerDownOutside",LY="dismissableLayer.focusOutside";let gb;const $Y=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),UY=p.forwardRef((e,t)=>{var r;const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:l,onDismiss:d,...c}=e,u=p.useContext($Y),[m,h]=p.useState(null),f=(r=m==null?void 0:m.ownerDocument)!==null&&r!==void 0?r:globalThis==null?void 0:globalThis.document,[,j]=p.useState({}),x=bd(t,P=>h(P)),w=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=w.indexOf(v),y=m?w.indexOf(m):-1,N=u.layersWithOutsidePointerEventsDisabled.size>0,b=y>=g,E=HY(P=>{const _=P.target,T=[...u.branches].some(D=>D.contains(_));!b||T||(o==null||o(P),l==null||l(P),P.defaultPrevented||d==null||d())},f),S=VY(P=>{const _=P.target;[...u.branches].some(D=>D.contains(_))||(i==null||i(P),l==null||l(P),P.defaultPrevented||d==null||d())},f);return OY(P=>{y===u.layers.size-1&&(a==null||a(P),!P.defaultPrevented&&d&&(P.preventDefault(),d()))},f),p.useEffect(()=>{if(m)return s&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(gb=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(m)),u.layers.add(m),vb(),()=>{s&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=gb)}},[m,f,s,u]),p.useEffect(()=>()=>{m&&(u.layers.delete(m),u.layersWithOutsidePointerEventsDisabled.delete(m),vb())},[m,u]),p.useEffect(()=>{const P=()=>j({});return document.addEventListener($g,P),()=>document.removeEventListener($g,P)},[]),p.createElement(Kn.div,Zt({},c,{ref:x,style:{pointerEvents:N?b?"auto":"none":void 0,...e.style},onFocusCapture:gi(e.onFocusCapture,S.onFocusCapture),onBlurCapture:gi(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:gi(e.onPointerDownCapture,E.onPointerDownCapture)}))});function HY(e,t=globalThis==null?void 0:globalThis.document){const r=po(e),s=p.useRef(!1),a=p.useRef(()=>{});return p.useEffect(()=>{const o=l=>{if(l.target&&!s.current){let u=function(){EM(IY,r,c,{discrete:!0})};var d=u;const c={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=u,t.addEventListener("click",a.current,{once:!0})):u()}else t.removeEventListener("click",a.current);s.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function VY(e,t=globalThis==null?void 0:globalThis.document){const r=po(e),s=p.useRef(!1);return p.useEffect(()=>{const a=o=>{o.target&&!s.current&&EM(LY,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function vb(){const e=new CustomEvent($g);document.dispatchEvent(e)}function EM(e,t,r,{discrete:s}){const a=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?_Y(a,o):a.dispatchEvent(o)}const Rf="focusScope.autoFocusOnMount",Ff="focusScope.autoFocusOnUnmount",yb={bubbles:!1,cancelable:!0},BY=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...i}=e,[l,d]=p.useState(null),c=po(a),u=po(o),m=p.useRef(null),h=bd(t,x=>d(x)),f=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(s){let g=function(E){if(f.paused||!l)return;const S=E.target;l.contains(S)?m.current=S:Ls(m.current,{select:!0})},y=function(E){if(f.paused||!l)return;const S=E.relatedTarget;S!==null&&(l.contains(S)||Ls(m.current,{select:!0}))},N=function(E){if(document.activeElement===document.body)for(const P of E)P.removedNodes.length>0&&Ls(l)};var x=g,w=y,v=N;document.addEventListener("focusin",g),document.addEventListener("focusout",y);const b=new MutationObserver(N);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),b.disconnect()}}},[s,l,f.paused]),p.useEffect(()=>{if(l){wb.add(f);const x=document.activeElement;if(!l.contains(x)){const v=new CustomEvent(Rf,yb);l.addEventListener(Rf,c),l.dispatchEvent(v),v.defaultPrevented||(zY(GY(PM(l)),{select:!0}),document.activeElement===x&&Ls(l))}return()=>{l.removeEventListener(Rf,c),setTimeout(()=>{const v=new CustomEvent(Ff,yb);l.addEventListener(Ff,u),l.dispatchEvent(v),v.defaultPrevented||Ls(x??document.body,{select:!0}),l.removeEventListener(Ff,u),wb.remove(f)},0)}}},[l,c,u,f]);const j=p.useCallback(x=>{if(!r&&!s||f.paused)return;const w=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,v=document.activeElement;if(w&&v){const g=x.currentTarget,[y,N]=qY(g);y&&N?!x.shiftKey&&v===N?(x.preventDefault(),r&&Ls(y,{select:!0})):x.shiftKey&&v===y&&(x.preventDefault(),r&&Ls(N,{select:!0})):v===g&&x.preventDefault()}},[r,s,f.paused]);return p.createElement(Kn.div,Zt({tabIndex:-1},i,{ref:h,onKeyDown:j}))});function zY(e,{select:t=!1}={}){const r=document.activeElement;for(const s of e)if(Ls(s,{select:t}),document.activeElement!==r)return}function qY(e){const t=PM(e),r=jb(t,e),s=jb(t.reverse(),e);return[r,s]}function PM(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function jb(e,t){for(const r of e)if(!WY(r,{upTo:t}))return r}function WY(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function YY(e){return e instanceof HTMLInputElement&&"select"in e}function Ls(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&YY(e)&&t&&e.select()}}const wb=KY();function KY(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Nb(e,t),e.unshift(t)},remove(t){var r;e=Nb(e,t),(r=e[0])===null||r===void 0||r.resume()}}}function Nb(e,t){const r=[...e],s=r.indexOf(t);return s!==-1&&r.splice(s,1),r}function GY(e){return e.filter(t=>t.tagName!=="A")}const XY=p.forwardRef((e,t)=>{var r;const{container:s=globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,...a}=e;return s?hm.createPortal(p.createElement(Kn.div,Zt({},a,{ref:t})),s):null});function QY(e,t){return p.useReducer((r,s)=>{const a=t[r][s];return a??r},e)}const np=e=>{const{present:t,children:r}=e,s=JY(t),a=typeof r=="function"?r({present:s.isPresent}):p.Children.only(r),o=bd(s.ref,a.ref);return typeof r=="function"||s.isPresent?p.cloneElement(a,{ref:o}):null};np.displayName="Presence";function JY(e){const[t,r]=p.useState(),s=p.useRef({}),a=p.useRef(e),o=p.useRef("none"),i=e?"mounted":"unmounted",[l,d]=QY(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const c=pu(s.current);o.current=l==="mounted"?c:"none"},[l]),Ig(()=>{const c=s.current,u=a.current;if(u!==e){const h=o.current,f=pu(c);e?d("MOUNT"):f==="none"||(c==null?void 0:c.display)==="none"?d("UNMOUNT"):d(u&&h!==f?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,d]),Ig(()=>{if(t){const c=m=>{const f=pu(s.current).includes(m.animationName);m.target===t&&f&&Nr.flushSync(()=>d("ANIMATION_END"))},u=m=>{m.target===t&&(o.current=pu(s.current))};return t.addEventListener("animationstart",u),t.addEventListener("animationcancel",c),t.addEventListener("animationend",c),()=>{t.removeEventListener("animationstart",u),t.removeEventListener("animationcancel",c),t.removeEventListener("animationend",c)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(c=>{c&&(s.current=getComputedStyle(c)),r(c)},[])}}function pu(e){return(e==null?void 0:e.animationName)||"none"}let _f=0;function ZY(){p.useEffect(()=>{var e,t;const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=r[0])!==null&&e!==void 0?e:bb()),document.body.insertAdjacentElement("beforeend",(t=r[1])!==null&&t!==void 0?t:bb()),_f++,()=>{_f===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),_f--}},[])}function bb(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var kM=Ny(),Of=function(){},rp=p.forwardRef(function(e,t){var r=p.useRef(null),s=p.useState({onScrollCapture:Of,onWheelCapture:Of,onTouchMoveCapture:Of}),a=s[0],o=s[1],i=e.forwardProps,l=e.children,d=e.className,c=e.removeScrollBar,u=e.enabled,m=e.shards,h=e.sideCar,f=e.noIsolation,j=e.inert,x=e.allowPinchZoom,w=e.as,v=w===void 0?"div":w,g=Dm(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),y=h,N=wy([r,t]),b=ft(ft({},g),a);return p.createElement(p.Fragment,null,u&&p.createElement(y,{sideCar:kM,removeScrollBar:c,shards:m,noIsolation:f,inert:j,setCallbacks:o,allowPinchZoom:!!x,lockRef:r}),i?p.cloneElement(p.Children.only(l),ft(ft({},b),{ref:N})):p.createElement(v,ft({},b,{className:d,ref:N}),l))});rp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};rp.classNames={fullWidth:hi,zeroRight:ui};var Ug=!1;if(typeof window<"u")try{var fu=Object.defineProperty({},"passive",{get:function(){return Ug=!0,!0}});window.addEventListener("test",fu,fu),window.removeEventListener("test",fu,fu)}catch{Ug=!1}var Fo=Ug?{passive:!1}:!1,eK=function(e){return e.tagName==="TEXTAREA"},TM=function(e,t){var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!eK(e)&&r[t]==="visible")},tK=function(e){return TM(e,"overflowY")},nK=function(e){return TM(e,"overflowX")},Sb=function(e,t){var r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=AM(e,r);if(s){var a=MM(e,r),o=a[1],i=a[2];if(o>i)return!0}r=r.parentNode}while(r&&r!==document.body);return!1},rK=function(e){var t=e.scrollTop,r=e.scrollHeight,s=e.clientHeight;return[t,r,s]},sK=function(e){var t=e.scrollLeft,r=e.scrollWidth,s=e.clientWidth;return[t,r,s]},AM=function(e,t){return e==="v"?tK(t):nK(t)},MM=function(e,t){return e==="v"?rK(t):sK(t)},aK=function(e,t){return e==="h"&&t==="rtl"?-1:1},oK=function(e,t,r,s,a){var o=aK(e,window.getComputedStyle(t).direction),i=o*s,l=r.target,d=t.contains(l),c=!1,u=i>0,m=0,h=0;do{var f=MM(e,l),j=f[0],x=f[1],w=f[2],v=x-w-o*j;(j||v)&&AM(e,l)&&(m+=v,h+=j),l=l.parentNode}while(!d&&l!==document.body||d&&(t.contains(l)||t===l));return(u&&(m===0||!a)||!u&&(h===0||!a))&&(c=!0),c},xu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Cb=function(e){return[e.deltaX,e.deltaY]},Eb=function(e){return e&&"current"in e?e.current:e},iK=function(e,t){return e[0]===t[0]&&e[1]===t[1]},lK=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},cK=0,_o=[];function dK(e){var t=p.useRef([]),r=p.useRef([0,0]),s=p.useRef(),a=p.useState(cK++)[0],o=p.useState(function(){return Fm()})[0],i=p.useRef(e);p.useEffect(function(){i.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var x=jy([e.lockRef.current],(e.shards||[]).map(Eb),!0).filter(Boolean);return x.forEach(function(w){return w.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),x.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(x,w){if("touches"in x&&x.touches.length===2)return!i.current.allowPinchZoom;var v=xu(x),g=r.current,y="deltaX"in x?x.deltaX:g[0]-v[0],N="deltaY"in x?x.deltaY:g[1]-v[1],b,E=x.target,S=Math.abs(y)>Math.abs(N)?"h":"v";if("touches"in x&&S==="h"&&E.type==="range")return!1;var P=Sb(S,E);if(!P)return!0;if(P?b=S:(b=S==="v"?"h":"v",P=Sb(S,E)),!P)return!1;if(!s.current&&"changedTouches"in x&&(y||N)&&(s.current=b),!b)return!0;var _=s.current||b;return oK(_,w,x,_==="h"?y:N,!0)},[]),d=p.useCallback(function(x){var w=x;if(!(!_o.length||_o[_o.length-1]!==o)){var v="deltaY"in w?Cb(w):xu(w),g=t.current.filter(function(b){return b.name===w.type&&b.target===w.target&&iK(b.delta,v)})[0];if(g&&g.should){w.cancelable&&w.preventDefault();return}if(!g){var y=(i.current.shards||[]).map(Eb).filter(Boolean).filter(function(b){return b.contains(w.target)}),N=y.length>0?l(w,y[0]):!i.current.noIsolation;N&&w.cancelable&&w.preventDefault()}}},[]),c=p.useCallback(function(x,w,v,g){var y={name:x,delta:w,target:v,should:g};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(N){return N!==y})},1)},[]),u=p.useCallback(function(x){r.current=xu(x),s.current=void 0},[]),m=p.useCallback(function(x){c(x.type,Cb(x),x.target,l(x,e.lockRef.current))},[]),h=p.useCallback(function(x){c(x.type,xu(x),x.target,l(x,e.lockRef.current))},[]);p.useEffect(function(){return _o.push(o),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:h}),document.addEventListener("wheel",d,Fo),document.addEventListener("touchmove",d,Fo),document.addEventListener("touchstart",u,Fo),function(){_o=_o.filter(function(x){return x!==o}),document.removeEventListener("wheel",d,Fo),document.removeEventListener("touchmove",d,Fo),document.removeEventListener("touchstart",u,Fo)}},[]);var f=e.removeScrollBar,j=e.inert;return p.createElement(p.Fragment,null,j?p.createElement(o,{styles:lK(a)}):null,f?p.createElement(Sy,{gapMode:"margin"}):null)}const uK=by(kM,dK);var DM=p.forwardRef(function(e,t){return p.createElement(rp,ft({},e,{ref:t,sideCar:uK}))});DM.classNames=rp.classNames;const RM="Dialog",[FM,Ote]=CY(RM),[hK,bo]=FM(RM),mK=e=>{const{__scopeDialog:t,children:r,open:s,defaultOpen:a,onOpenChange:o,modal:i=!0}=e,l=p.useRef(null),d=p.useRef(null),[c=!1,u]=TY({prop:s,defaultProp:a,onChange:o});return p.createElement(hK,{scope:t,triggerRef:l,contentRef:d,contentId:Df(),titleId:Df(),descriptionId:Df(),open:c,onOpenChange:u,onOpenToggle:p.useCallback(()=>u(m=>!m),[u]),modal:i},r)},_M="DialogPortal",[pK,OM]=FM(_M,{forceMount:void 0}),fK=e=>{const{__scopeDialog:t,forceMount:r,children:s,container:a}=e,o=bo(_M,t);return p.createElement(pK,{scope:t,forceMount:r},p.Children.map(s,i=>p.createElement(np,{present:r||o.open},p.createElement(XY,{asChild:!0,container:a},i))))},Hg="DialogOverlay",xK=p.forwardRef((e,t)=>{const r=OM(Hg,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,o=bo(Hg,e.__scopeDialog);return o.modal?p.createElement(np,{present:s||o.open},p.createElement(gK,Zt({},a,{ref:t}))):null}),gK=p.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=bo(Hg,r);return p.createElement(DM,{as:jj,allowPinchZoom:!0,shards:[a.contentRef]},p.createElement(Kn.div,Zt({"data-state":LM(a.open)},s,{ref:t,style:{pointerEvents:"auto",...s.style}})))}),Kc="DialogContent",vK=p.forwardRef((e,t)=>{const r=OM(Kc,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,o=bo(Kc,e.__scopeDialog);return p.createElement(np,{present:s||o.open},o.modal?p.createElement(yK,Zt({},a,{ref:t})):p.createElement(jK,Zt({},a,{ref:t})))}),yK=p.forwardRef((e,t)=>{const r=bo(Kc,e.__scopeDialog),s=p.useRef(null),a=bd(t,r.contentRef,s);return p.useEffect(()=>{const o=s.current;if(o)return hd(o)},[]),p.createElement(IM,Zt({},e,{ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:gi(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=r.triggerRef.current)===null||i===void 0||i.focus()}),onPointerDownOutside:gi(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:gi(e.onFocusOutside,o=>o.preventDefault())}))}),jK=p.forwardRef((e,t)=>{const r=bo(Kc,e.__scopeDialog),s=p.useRef(!1),a=p.useRef(!1);return p.createElement(IM,Zt({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i;if((i=e.onCloseAutoFocus)===null||i===void 0||i.call(e,o),!o.defaultPrevented){var l;s.current||(l=r.triggerRef.current)===null||l===void 0||l.focus(),o.preventDefault()}s.current=!1,a.current=!1},onInteractOutside:o=>{var i,l;(i=e.onInteractOutside)===null||i===void 0||i.call(e,o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const d=o.target;((l=r.triggerRef.current)===null||l===void 0?void 0:l.contains(d))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}}))}),IM=p.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o,...i}=e,l=bo(Kc,r),d=p.useRef(null),c=bd(t,d);return ZY(),p.createElement(p.Fragment,null,p.createElement(BY,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:o},p.createElement(UY,Zt({role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":LM(l.open)},i,{ref:c,onDismiss:()=>l.onOpenChange(!1)}))),!1)});function LM(e){return e?"open":"closed"}const wK=mK,NK=fK,bK=xK,SK=vK;var Ll='[cmdk-group=""]',If='[cmdk-group-items=""]',CK='[cmdk-group-heading=""]',wj='[cmdk-item=""]',Pb=`${wj}:not([aria-disabled="true"])`,Vg="cmdk-item-select",Ia="data-value",EK=(e,t,r)=>bY(e,t,r),$M=p.createContext(void 0),Sd=()=>p.useContext($M),UM=p.createContext(void 0),Nj=()=>p.useContext(UM),HM=p.createContext(void 0),VM=p.forwardRef((e,t)=>{let r=Ho(()=>{var H,q;return{search:"",value:(q=(H=e.value)!=null?H:e.defaultValue)!=null?q:"",filtered:{count:0,items:new Map,groups:new Set}}}),s=Ho(()=>new Set),a=Ho(()=>new Map),o=Ho(()=>new Map),i=Ho(()=>new Set),l=BM(e),{label:d,children:c,value:u,onValueChange:m,filter:h,shouldFilter:f,loop:j,disablePointerSelection:x=!1,vimBindings:w=!0,...v}=e,g=p.useId(),y=p.useId(),N=p.useId(),b=p.useRef(null),E=IK();fo(()=>{if(u!==void 0){let H=u.trim();r.current.value=H,S.emit()}},[u]),fo(()=>{E(6,U)},[]);let S=p.useMemo(()=>({subscribe:H=>(i.current.add(H),()=>i.current.delete(H)),snapshot:()=>r.current,setState:(H,q,z)=>{var G,K,Y;if(!Object.is(r.current[H],q)){if(r.current[H]=q,H==="search")k(),T(),E(1,D);else if(H==="value"&&(z||E(5,U),((G=l.current)==null?void 0:G.value)!==void 0)){let ne=q??"";(Y=(K=l.current).onValueChange)==null||Y.call(K,ne);return}S.emit()}},emit:()=>{i.current.forEach(H=>H())}}),[]),P=p.useMemo(()=>({value:(H,q,z)=>{var G;q!==((G=o.current.get(H))==null?void 0:G.value)&&(o.current.set(H,{value:q,keywords:z}),r.current.filtered.items.set(H,_(q,z)),E(2,()=>{T(),S.emit()}))},item:(H,q)=>(s.current.add(H),q&&(a.current.has(q)?a.current.get(q).add(H):a.current.set(q,new Set([H]))),E(3,()=>{k(),T(),r.current.value||D(),S.emit()}),()=>{o.current.delete(H),s.current.delete(H),r.current.filtered.items.delete(H);let z=M();E(4,()=>{k(),(z==null?void 0:z.getAttribute("id"))===H&&D(),S.emit()})}),group:H=>(a.current.has(H)||a.current.set(H,new Set),()=>{o.current.delete(H),a.current.delete(H)}),filter:()=>l.current.shouldFilter,label:d||e["aria-label"],disablePointerSelection:x,listId:g,inputId:N,labelId:y,listInnerRef:b}),[]);function _(H,q){var z,G;let K=(G=(z=l.current)==null?void 0:z.filter)!=null?G:EK;return H?K(H,r.current.search,q):0}function T(){if(!r.current.search||l.current.shouldFilter===!1)return;let H=r.current.filtered.items,q=[];r.current.filtered.groups.forEach(G=>{let K=a.current.get(G),Y=0;K.forEach(ne=>{let le=H.get(ne);Y=Math.max(le,Y)}),q.push([G,Y])});let z=b.current;$().sort((G,K)=>{var Y,ne;let le=G.getAttribute("id"),fe=K.getAttribute("id");return((Y=H.get(fe))!=null?Y:0)-((ne=H.get(le))!=null?ne:0)}).forEach(G=>{let K=G.closest(If);K?K.appendChild(G.parentElement===K?G:G.closest(`${If} > *`)):z.appendChild(G.parentElement===z?G:G.closest(`${If} > *`))}),q.sort((G,K)=>K[1]-G[1]).forEach(G=>{let K=b.current.querySelector(`${Ll}[${Ia}="${encodeURIComponent(G[0])}"]`);K==null||K.parentElement.appendChild(K)})}function D(){let H=$().find(z=>z.getAttribute("aria-disabled")!=="true"),q=H==null?void 0:H.getAttribute(Ia);S.setState("value",q||void 0)}function k(){var H,q,z,G;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=s.current.size;return}r.current.filtered.groups=new Set;let K=0;for(let Y of s.current){let ne=(q=(H=o.current.get(Y))==null?void 0:H.value)!=null?q:"",le=(G=(z=o.current.get(Y))==null?void 0:z.keywords)!=null?G:[],fe=_(ne,le);r.current.filtered.items.set(Y,fe),fe>0&&K++}for(let[Y,ne]of a.current)for(let le of ne)if(r.current.filtered.items.get(le)>0){r.current.filtered.groups.add(Y);break}r.current.filtered.count=K}function U(){var H,q,z;let G=M();G&&(((H=G.parentElement)==null?void 0:H.firstChild)===G&&((z=(q=G.closest(Ll))==null?void 0:q.querySelector(CK))==null||z.scrollIntoView({block:"nearest"})),G.scrollIntoView({block:"nearest"}))}function M(){var H;return(H=b.current)==null?void 0:H.querySelector(`${wj}[aria-selected="true"]`)}function $(){var H;return Array.from((H=b.current)==null?void 0:H.querySelectorAll(Pb))}function L(H){let q=$()[H];q&&S.setState("value",q.getAttribute(Ia))}function I(H){var q;let z=M(),G=$(),K=G.findIndex(ne=>ne===z),Y=G[K+H];(q=l.current)!=null&&q.loop&&(Y=K+H<0?G[G.length-1]:K+H===G.length?G[0]:G[K+H]),Y&&S.setState("value",Y.getAttribute(Ia))}function F(H){let q=M(),z=q==null?void 0:q.closest(Ll),G;for(;z&&!G;)z=H>0?_K(z,Ll):OK(z,Ll),G=z==null?void 0:z.querySelector(Pb);G?S.setState("value",G.getAttribute(Ia)):I(H)}let R=()=>L($().length-1),V=H=>{H.preventDefault(),H.metaKey?R():H.altKey?F(1):I(1)},B=H=>{H.preventDefault(),H.metaKey?L(0):H.altKey?F(-1):I(-1)};return p.createElement(Kn.div,{ref:t,tabIndex:-1,...v,"cmdk-root":"",onKeyDown:H=>{var q;if((q=v.onKeyDown)==null||q.call(v,H),!H.defaultPrevented)switch(H.key){case"n":case"j":{w&&H.ctrlKey&&V(H);break}case"ArrowDown":{V(H);break}case"p":case"k":{w&&H.ctrlKey&&B(H);break}case"ArrowUp":{B(H);break}case"Home":{H.preventDefault(),L(0);break}case"End":{H.preventDefault(),R();break}case"Enter":if(!H.nativeEvent.isComposing&&H.keyCode!==229){H.preventDefault();let z=M();if(z){let G=new Event(Vg);z.dispatchEvent(G)}}}}},p.createElement("label",{"cmdk-label":"",htmlFor:P.inputId,id:P.labelId,style:$K},d),sp(e,H=>p.createElement(UM.Provider,{value:S},p.createElement($M.Provider,{value:P},H))))}),PK=p.forwardRef((e,t)=>{var r,s;let a=p.useId(),o=p.useRef(null),i=p.useContext(HM),l=Sd(),d=BM(e),c=(s=(r=d.current)==null?void 0:r.forceMount)!=null?s:i==null?void 0:i.forceMount;fo(()=>{if(!c)return l.item(a,i==null?void 0:i.id)},[c]);let u=zM(a,o,[e.value,e.children,o],e.keywords),m=Nj(),h=xo(E=>E.value&&E.value===u.current),f=xo(E=>c||l.filter()===!1?!0:E.search?E.filtered.items.get(a)>0:!0);p.useEffect(()=>{let E=o.current;if(!(!E||e.disabled))return E.addEventListener(Vg,j),()=>E.removeEventListener(Vg,j)},[f,e.onSelect,e.disabled]);function j(){var E,S;x(),(S=(E=d.current).onSelect)==null||S.call(E,u.current)}function x(){m.setState("value",u.current,!0)}if(!f)return null;let{disabled:w,value:v,onSelect:g,forceMount:y,keywords:N,...b}=e;return p.createElement(Kn.div,{ref:Gc([o,t]),...b,id:a,"cmdk-item":"",role:"option","aria-disabled":!!w,"aria-selected":!!h,"data-disabled":!!w,"data-selected":!!h,onPointerMove:w||l.disablePointerSelection?void 0:x,onClick:w?void 0:j},e.children)}),kK=p.forwardRef((e,t)=>{let{heading:r,children:s,forceMount:a,...o}=e,i=p.useId(),l=p.useRef(null),d=p.useRef(null),c=p.useId(),u=Sd(),m=xo(f=>a||u.filter()===!1?!0:f.search?f.filtered.groups.has(i):!0);fo(()=>u.group(i),[]),zM(i,l,[e.value,e.heading,d]);let h=p.useMemo(()=>({id:i,forceMount:a}),[a]);return p.createElement(Kn.div,{ref:Gc([l,t]),...o,"cmdk-group":"",role:"presentation",hidden:m?void 0:!0},r&&p.createElement("div",{ref:d,"cmdk-group-heading":"","aria-hidden":!0,id:c},r),sp(e,f=>p.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?c:void 0},p.createElement(HM.Provider,{value:h},f))))}),TK=p.forwardRef((e,t)=>{let{alwaysRender:r,...s}=e,a=p.useRef(null),o=xo(i=>!i.search);return!r&&!o?null:p.createElement(Kn.div,{ref:Gc([a,t]),...s,"cmdk-separator":"",role:"separator"})}),AK=p.forwardRef((e,t)=>{let{onValueChange:r,...s}=e,a=e.value!=null,o=Nj(),i=xo(u=>u.search),l=xo(u=>u.value),d=Sd(),c=p.useMemo(()=>{var u;let m=(u=d.listInnerRef.current)==null?void 0:u.querySelector(`${wj}[${Ia}="${encodeURIComponent(l)}"]`);return m==null?void 0:m.getAttribute("id")},[]);return p.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),p.createElement(Kn.input,{ref:t,...s,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":d.listId,"aria-labelledby":d.labelId,"aria-activedescendant":c,id:d.inputId,type:"text",value:a?e.value:i,onChange:u=>{a||o.setState("search",u.target.value),r==null||r(u.target.value)}})}),MK=p.forwardRef((e,t)=>{let{children:r,label:s="Suggestions",...a}=e,o=p.useRef(null),i=p.useRef(null),l=Sd();return p.useEffect(()=>{if(i.current&&o.current){let d=i.current,c=o.current,u,m=new ResizeObserver(()=>{u=requestAnimationFrame(()=>{let h=d.offsetHeight;c.style.setProperty("--cmdk-list-height",h.toFixed(1)+"px")})});return m.observe(d),()=>{cancelAnimationFrame(u),m.unobserve(d)}}},[]),p.createElement(Kn.div,{ref:Gc([o,t]),...a,"cmdk-list":"",role:"listbox","aria-label":s,id:l.listId},sp(e,d=>p.createElement("div",{ref:Gc([i,l.listInnerRef]),"cmdk-list-sizer":""},d)))}),DK=p.forwardRef((e,t)=>{let{open:r,onOpenChange:s,overlayClassName:a,contentClassName:o,container:i,...l}=e;return p.createElement(wK,{open:r,onOpenChange:s},p.createElement(NK,{container:i},p.createElement(bK,{"cmdk-overlay":"",className:a}),p.createElement(SK,{"aria-label":e.label,"cmdk-dialog":"",className:o},p.createElement(VM,{ref:t,...l}))))}),RK=p.forwardRef((e,t)=>xo(r=>r.filtered.count===0)?p.createElement(Kn.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),FK=p.forwardRef((e,t)=>{let{progress:r,children:s,label:a="Loading...",...o}=e;return p.createElement(Kn.div,{ref:t,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},sp(e,i=>p.createElement("div",{"aria-hidden":!0},i)))}),fn=Object.assign(VM,{List:MK,Item:PK,Input:AK,Group:kK,Separator:TK,Dialog:DK,Empty:RK,Loading:FK});function _K(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function OK(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function BM(e){let t=p.useRef(e);return fo(()=>{t.current=e}),t}var fo=typeof window>"u"?p.useEffect:p.useLayoutEffect;function Ho(e){let t=p.useRef();return t.current===void 0&&(t.current=e()),t}function Gc(e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}function xo(e){let t=Nj(),r=()=>e(t.snapshot());return p.useSyncExternalStore(t.subscribe,r,r)}function zM(e,t,r,s=[]){let a=p.useRef(),o=Sd();return fo(()=>{var i;let l=(()=>{var c;for(let u of r){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(c=u.current.textContent)==null?void 0:c.trim():a.current}})(),d=s.map(c=>c.trim());o.value(e,l,d),(i=t.current)==null||i.setAttribute(Ia,l),a.current=l}),a}var IK=()=>{let[e,t]=p.useState(),r=Ho(()=>new Map);return fo(()=>{r.current.forEach(s=>s()),r.current=new Map},[e]),(s,a)=>{r.current.set(s,a),t({})}};function LK(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function sp({asChild:e,children:t},r){return e&&p.isValidElement(t)?p.cloneElement(LK(t),{ref:t.ref},r(t.props.children)):r(t)}var $K={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const qM=p.forwardRef(({className:e,...t},r)=>n.jsx(fn,{ref:r,className:de("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));qM.displayName=fn.displayName;const WM=p.forwardRef(({className:e,...t},r)=>n.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[n.jsx(Ur,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),n.jsx(fn.Input,{ref:r,className:de("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));WM.displayName=fn.Input.displayName;const YM=p.forwardRef(({className:e,...t},r)=>n.jsx(fn.List,{ref:r,className:de("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));YM.displayName=fn.List.displayName;const KM=p.forwardRef((e,t)=>n.jsx(fn.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));KM.displayName=fn.Empty.displayName;const GM=p.forwardRef(({className:e,...t},r)=>n.jsx(fn.Group,{ref:r,className:de("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));GM.displayName=fn.Group.displayName;const UK=p.forwardRef(({className:e,...t},r)=>n.jsx(fn.Separator,{ref:r,className:de("-mx-1 h-px bg-border",e),...t}));UK.displayName=fn.Separator.displayName;const XM=p.forwardRef(({className:e,...t},r)=>n.jsx(fn.Item,{ref:r,className:de("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));XM.displayName=fn.Item.displayName;function da(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function kb(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function QM(...e){return t=>{let r=!1;const s=e.map(a=>{const o=kb(a,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let a=0;a<s.length;a++){const o=s[a];typeof o=="function"?o():kb(e[a],null)}}}}function ka(...e){return p.useCallback(QM(...e),e)}function JM(e,t=[]){let r=[];function s(o,i){const l=p.createContext(i),d=r.length;r=[...r,i];const c=m=>{var v;const{scope:h,children:f,...j}=m,x=((v=h==null?void 0:h[e])==null?void 0:v[d])||l,w=p.useMemo(()=>j,Object.values(j));return n.jsx(x.Provider,{value:w,children:f})};c.displayName=o+"Provider";function u(m,h){var x;const f=((x=h==null?void 0:h[e])==null?void 0:x[d])||l,j=p.useContext(f);if(j)return j;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return[c,u]}const a=()=>{const o=r.map(i=>p.createContext(i));return function(l){const d=(l==null?void 0:l[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return a.scopeName=e,[s,HK(a,...t)]}function HK(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=s.reduce((l,{useScope:d,scopeName:c})=>{const m=d(o)[`__scope${c}`];return{...l,...m}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function ZM(e){const t=VK(e),r=p.forwardRef((s,a)=>{const{children:o,...i}=s,l=p.Children.toArray(o),d=l.find(zK);if(d){const c=d.props.children,u=l.map(m=>m===d?p.Children.count(c)>1?p.Children.only(null):p.isValidElement(c)?c.props.children:null:m);return n.jsx(t,{...i,ref:a,children:p.isValidElement(c)?p.cloneElement(c,void 0,u):null})}return n.jsx(t,{...i,ref:a,children:o})});return r.displayName=`${e}.Slot`,r}function VK(e){const t=p.forwardRef((r,s)=>{const{children:a,...o}=r;if(p.isValidElement(a)){const i=WK(a),l=qK(o,a.props);return a.type!==p.Fragment&&(l.ref=s?QM(s,i):i),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var BK=Symbol("radix.slottable");function zK(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===BK}function qK(e,t){const r={...t};for(const s in t){const a=e[s],o=t[s];/^on[A-Z]/.test(s)?a&&o?r[s]=(...l)=>{const d=o(...l);return a(...l),d}:a&&(r[s]=a):s==="style"?r[s]={...a,...o}:s==="className"&&(r[s]=[a,o].filter(Boolean).join(" "))}return{...e,...r}}function WK(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var YK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ps=YK.reduce((e,t)=>{const r=ZM(`Primitive.${t}`),s=p.forwardRef((a,o)=>{const{asChild:i,...l}=a,d=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(d,{...l,ref:o})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function KK(e,t){e&&Nr.flushSync(()=>e.dispatchEvent(t))}function Xi(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>{var s;return(s=t.current)==null?void 0:s.call(t,...r)},[])}function GK(e,t=globalThis==null?void 0:globalThis.document){const r=Xi(e);p.useEffect(()=>{const s=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[r,t])}var XK="DismissableLayer",Bg="dismissableLayer.update",QK="dismissableLayer.pointerDownOutside",JK="dismissableLayer.focusOutside",Tb,eD=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),tD=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...d}=e,c=p.useContext(eD),[u,m]=p.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=p.useState({}),j=ka(t,S=>m(S)),x=Array.from(c.layers),[w]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=x.indexOf(w),g=u?x.indexOf(u):-1,y=c.layersWithOutsidePointerEventsDisabled.size>0,N=g>=v,b=tG(S=>{const P=S.target,_=[...c.branches].some(T=>T.contains(P));!N||_||(a==null||a(S),i==null||i(S),S.defaultPrevented||l==null||l())},h),E=nG(S=>{const P=S.target;[...c.branches].some(T=>T.contains(P))||(o==null||o(S),i==null||i(S),S.defaultPrevented||l==null||l())},h);return GK(S=>{g===c.layers.size-1&&(s==null||s(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},h),p.useEffect(()=>{if(u)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Tb=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),Ab(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Tb)}},[u,h,r,c]),p.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),Ab())},[u,c]),p.useEffect(()=>{const S=()=>f({});return document.addEventListener(Bg,S),()=>document.removeEventListener(Bg,S)},[]),n.jsx(Ps.div,{...d,ref:j,style:{pointerEvents:y?N?"auto":"none":void 0,...e.style},onFocusCapture:da(e.onFocusCapture,E.onFocusCapture),onBlurCapture:da(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:da(e.onPointerDownCapture,b.onPointerDownCapture)})});tD.displayName=XK;var ZK="DismissableLayerBranch",eG=p.forwardRef((e,t)=>{const r=p.useContext(eD),s=p.useRef(null),a=ka(t,s);return p.useEffect(()=>{const o=s.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),n.jsx(Ps.div,{...e,ref:a})});eG.displayName=ZK;function tG(e,t=globalThis==null?void 0:globalThis.document){const r=Xi(e),s=p.useRef(!1),a=p.useRef(()=>{});return p.useEffect(()=>{const o=l=>{if(l.target&&!s.current){let d=function(){nD(QK,r,c,{discrete:!0})};const c={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=d,t.addEventListener("click",a.current,{once:!0})):d()}else t.removeEventListener("click",a.current);s.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function nG(e,t=globalThis==null?void 0:globalThis.document){const r=Xi(e),s=p.useRef(!1);return p.useEffect(()=>{const a=o=>{o.target&&!s.current&&nD(JK,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Ab(){const e=new CustomEvent(Bg);document.dispatchEvent(e)}function nD(e,t,r,{discrete:s}){const a=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?KK(a,o):a.dispatchEvent(o)}var Lf=0;function rG(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Mb()),document.body.insertAdjacentElement("beforeend",e[1]??Mb()),Lf++,()=>{Lf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Lf--}},[])}function Mb(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var $f="focusScope.autoFocusOnMount",Uf="focusScope.autoFocusOnUnmount",Db={bubbles:!1,cancelable:!0},sG="FocusScope",rD=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...i}=e,[l,d]=p.useState(null),c=Xi(a),u=Xi(o),m=p.useRef(null),h=ka(t,x=>d(x)),f=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(s){let x=function(y){if(f.paused||!l)return;const N=y.target;l.contains(N)?m.current=N:$s(m.current,{select:!0})},w=function(y){if(f.paused||!l)return;const N=y.relatedTarget;N!==null&&(l.contains(N)||$s(m.current,{select:!0}))},v=function(y){if(document.activeElement===document.body)for(const b of y)b.removedNodes.length>0&&$s(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",w);const g=new MutationObserver(v);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",w),g.disconnect()}}},[s,l,f.paused]),p.useEffect(()=>{if(l){Fb.add(f);const x=document.activeElement;if(!l.contains(x)){const v=new CustomEvent($f,Db);l.addEventListener($f,c),l.dispatchEvent(v),v.defaultPrevented||(aG(dG(sD(l)),{select:!0}),document.activeElement===x&&$s(l))}return()=>{l.removeEventListener($f,c),setTimeout(()=>{const v=new CustomEvent(Uf,Db);l.addEventListener(Uf,u),l.dispatchEvent(v),v.defaultPrevented||$s(x??document.body,{select:!0}),l.removeEventListener(Uf,u),Fb.remove(f)},0)}}},[l,c,u,f]);const j=p.useCallback(x=>{if(!r&&!s||f.paused)return;const w=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,v=document.activeElement;if(w&&v){const g=x.currentTarget,[y,N]=oG(g);y&&N?!x.shiftKey&&v===N?(x.preventDefault(),r&&$s(y,{select:!0})):x.shiftKey&&v===y&&(x.preventDefault(),r&&$s(N,{select:!0})):v===g&&x.preventDefault()}},[r,s,f.paused]);return n.jsx(Ps.div,{tabIndex:-1,...i,ref:h,onKeyDown:j})});rD.displayName=sG;function aG(e,{select:t=!1}={}){const r=document.activeElement;for(const s of e)if($s(s,{select:t}),document.activeElement!==r)return}function oG(e){const t=sD(e),r=Rb(t,e),s=Rb(t.reverse(),e);return[r,s]}function sD(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Rb(e,t){for(const r of e)if(!iG(r,{upTo:t}))return r}function iG(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function lG(e){return e instanceof HTMLInputElement&&"select"in e}function $s(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&lG(e)&&t&&e.select()}}var Fb=cG();function cG(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=_b(e,t),e.unshift(t)},remove(t){var r;e=_b(e,t),(r=e[0])==null||r.resume()}}}function _b(e,t){const r=[...e],s=r.indexOf(t);return s!==-1&&r.splice(s,1),r}function dG(e){return e.filter(t=>t.tagName!=="A")}var ya=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},uG=Zc[" useId ".trim().toString()]||(()=>{}),hG=0;function mG(e){const[t,r]=p.useState(uG());return ya(()=>{e||r(s=>s??String(hG++))},[e]),e||(t?`radix-${t}`:"")}var pG="Arrow",aD=p.forwardRef((e,t)=>{const{children:r,width:s=10,height:a=5,...o}=e;return n.jsx(Ps.svg,{...o,ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});aD.displayName=pG;var fG=aD;function xG(e){const[t,r]=p.useState(void 0);return ya(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let i,l;if("borderBoxSize"in o){const d=o.borderBoxSize,c=Array.isArray(d)?d[0]:d;i=c.inlineSize,l=c.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else r(void 0)},[e]),t}var bj="Popper",[oD,iD]=JM(bj),[gG,lD]=oD(bj),cD=e=>{const{__scopePopper:t,children:r}=e,[s,a]=p.useState(null);return n.jsx(gG,{scope:t,anchor:s,onAnchorChange:a,children:r})};cD.displayName=bj;var dD="PopperAnchor",uD=p.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:s,...a}=e,o=lD(dD,r),i=p.useRef(null),l=ka(t,i);return p.useEffect(()=>{o.onAnchorChange((s==null?void 0:s.current)||i.current)}),s?null:n.jsx(Ps.div,{...a,ref:l})});uD.displayName=dD;var Sj="PopperContent",[vG,yG]=oD(Sj),hD=p.forwardRef((e,t)=>{var Y,ne,le,fe,xe,me;const{__scopePopper:r,side:s="bottom",sideOffset:a=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:d=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:m="partial",hideWhenDetached:h=!1,updatePositionStrategy:f="optimized",onPlaced:j,...x}=e,w=lD(Sj,r),[v,g]=p.useState(null),y=ka(t,ve=>g(ve)),[N,b]=p.useState(null),E=xG(N),S=(E==null?void 0:E.width)??0,P=(E==null?void 0:E.height)??0,_=s+(o!=="center"?"-"+o:""),T=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},D=Array.isArray(c)?c:[c],k=D.length>0,U={padding:T,boundary:D.filter(wG),altBoundary:k},{refs:M,floatingStyles:$,placement:L,isPositioned:I,middlewareData:F}=N2({strategy:"fixed",placement:_,whileElementsMounted:(...ve)=>j2(...ve,{animationFrame:f==="always"}),elements:{reference:w.anchor},middleware:[b2({mainAxis:a+P,alignmentAxis:i}),d&&S2({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?C2():void 0,...U}),d&&E2({...U}),P2({...U,apply:({elements:ve,rects:we,availableWidth:Re,availableHeight:_e})=>{const{width:Et,height:Rn}=we.reference,We=ve.floating.style;We.setProperty("--radix-popper-available-width",`${Re}px`),We.setProperty("--radix-popper-available-height",`${_e}px`),We.setProperty("--radix-popper-anchor-width",`${Et}px`),We.setProperty("--radix-popper-anchor-height",`${Rn}px`)}}),N&&T2({element:N,padding:l}),NG({arrowWidth:S,arrowHeight:P}),h&&k2({strategy:"referenceHidden",...U})]}),[R,V]=fD(L),B=Xi(j);ya(()=>{I&&(B==null||B())},[I,B]);const H=(Y=F.arrow)==null?void 0:Y.x,q=(ne=F.arrow)==null?void 0:ne.y,z=((le=F.arrow)==null?void 0:le.centerOffset)!==0,[G,K]=p.useState();return ya(()=>{v&&K(window.getComputedStyle(v).zIndex)},[v]),n.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:I?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:G,"--radix-popper-transform-origin":[(fe=F.transformOrigin)==null?void 0:fe.x,(xe=F.transformOrigin)==null?void 0:xe.y].join(" "),...((me=F.hide)==null?void 0:me.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(vG,{scope:r,placedSide:R,onArrowChange:b,arrowX:H,arrowY:q,shouldHideArrow:z,children:n.jsx(Ps.div,{"data-side":R,"data-align":V,...x,ref:y,style:{...x.style,animation:I?void 0:"none"}})})})});hD.displayName=Sj;var mD="PopperArrow",jG={top:"bottom",right:"left",bottom:"top",left:"right"},pD=p.forwardRef(function(t,r){const{__scopePopper:s,...a}=t,o=yG(mD,s),i=jG[o.placedSide];return n.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:n.jsx(fG,{...a,ref:r,style:{...a.style,display:"block"}})})});pD.displayName=mD;function wG(e){return e!==null}var NG=e=>({name:"transformOrigin",options:e,fn(t){var w,v,g;const{placement:r,rects:s,middlewareData:a}=t,i=((w=a.arrow)==null?void 0:w.centerOffset)!==0,l=i?0:e.arrowWidth,d=i?0:e.arrowHeight,[c,u]=fD(r),m={start:"0%",center:"50%",end:"100%"}[u],h=(((v=a.arrow)==null?void 0:v.x)??0)+l/2,f=(((g=a.arrow)==null?void 0:g.y)??0)+d/2;let j="",x="";return c==="bottom"?(j=i?m:`${h}px`,x=`${-d}px`):c==="top"?(j=i?m:`${h}px`,x=`${s.floating.height+d}px`):c==="right"?(j=`${-d}px`,x=i?m:`${f}px`):c==="left"&&(j=`${s.floating.width+d}px`,x=i?m:`${f}px`),{data:{x:j,y:x}}}});function fD(e){const[t,r="center"]=e.split("-");return[t,r]}var bG=cD,xD=uD,SG=hD,CG=pD,EG="Portal",gD=p.forwardRef((e,t)=>{var l;const{container:r,...s}=e,[a,o]=p.useState(!1);ya(()=>o(!0),[]);const i=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?hm.createPortal(n.jsx(Ps.div,{...s,ref:t}),i):null});gD.displayName=EG;function PG(e,t){return p.useReducer((r,s)=>t[r][s]??r,e)}var Cj=e=>{const{present:t,children:r}=e,s=kG(t),a=typeof r=="function"?r({present:s.isPresent}):p.Children.only(r),o=ka(s.ref,TG(a));return typeof r=="function"||s.isPresent?p.cloneElement(a,{ref:o}):null};Cj.displayName="Presence";function kG(e){const[t,r]=p.useState(),s=p.useRef(null),a=p.useRef(e),o=p.useRef("none"),i=e?"mounted":"unmounted",[l,d]=PG(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const c=gu(s.current);o.current=l==="mounted"?c:"none"},[l]),ya(()=>{const c=s.current,u=a.current;if(u!==e){const h=o.current,f=gu(c);e?d("MOUNT"):f==="none"||(c==null?void 0:c.display)==="none"?d("UNMOUNT"):d(u&&h!==f?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,d]),ya(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,m=f=>{const x=gu(s.current).includes(f.animationName);if(f.target===t&&x&&(d("ANIMATION_END"),!a.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},h=f=>{f.target===t&&(o.current=gu(s.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(c=>{s.current=c?getComputedStyle(c):null,r(c)},[])}}function gu(e){return(e==null?void 0:e.animationName)||"none"}function TG(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var AG=Zc[" useInsertionEffect ".trim().toString()]||ya;function MG({prop:e,defaultProp:t,onChange:r=()=>{},caller:s}){const[a,o,i]=DG({defaultProp:t,onChange:r}),l=e!==void 0,d=l?e:a;{const u=p.useRef(e!==void 0);p.useEffect(()=>{const m=u.current;m!==l&&console.warn(`${s} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,s])}const c=p.useCallback(u=>{var m;if(l){const h=RG(u)?u(e):u;h!==e&&((m=i.current)==null||m.call(i,h))}else o(u)},[l,e,o,i]);return[d,c]}function DG({defaultProp:e,onChange:t}){const[r,s]=p.useState(e),a=p.useRef(r),o=p.useRef(t);return AG(()=>{o.current=t},[t]),p.useEffect(()=>{var i;a.current!==r&&((i=o.current)==null||i.call(o,r),a.current=r)},[r,a]),[r,s,o]}function RG(e){return typeof e=="function"}var vD=Ny(),Hf=function(){},ap=p.forwardRef(function(e,t){var r=p.useRef(null),s=p.useState({onScrollCapture:Hf,onWheelCapture:Hf,onTouchMoveCapture:Hf}),a=s[0],o=s[1],i=e.forwardProps,l=e.children,d=e.className,c=e.removeScrollBar,u=e.enabled,m=e.shards,h=e.sideCar,f=e.noRelative,j=e.noIsolation,x=e.inert,w=e.allowPinchZoom,v=e.as,g=v===void 0?"div":v,y=e.gapMode,N=Dm(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=h,E=wy([r,t]),S=ft(ft({},N),a);return p.createElement(p.Fragment,null,u&&p.createElement(b,{sideCar:vD,removeScrollBar:c,shards:m,noRelative:f,noIsolation:j,inert:x,setCallbacks:o,allowPinchZoom:!!w,lockRef:r,gapMode:y}),i?p.cloneElement(p.Children.only(l),ft(ft({},S),{ref:E})):p.createElement(g,ft({},S,{className:d,ref:E}),l))});ap.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ap.classNames={fullWidth:hi,zeroRight:ui};var zg=!1;if(typeof window<"u")try{var vu=Object.defineProperty({},"passive",{get:function(){return zg=!0,!0}});window.addEventListener("test",vu,vu),window.removeEventListener("test",vu,vu)}catch{zg=!1}var Oo=zg?{passive:!1}:!1,FG=function(e){return e.tagName==="TEXTAREA"},yD=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!FG(e)&&r[t]==="visible")},_G=function(e){return yD(e,"overflowY")},OG=function(e){return yD(e,"overflowX")},Ob=function(e,t){var r=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=jD(e,s);if(a){var o=wD(e,s),i=o[1],l=o[2];if(i>l)return!0}s=s.parentNode}while(s&&s!==r.body);return!1},IG=function(e){var t=e.scrollTop,r=e.scrollHeight,s=e.clientHeight;return[t,r,s]},LG=function(e){var t=e.scrollLeft,r=e.scrollWidth,s=e.clientWidth;return[t,r,s]},jD=function(e,t){return e==="v"?_G(t):OG(t)},wD=function(e,t){return e==="v"?IG(t):LG(t)},$G=function(e,t){return e==="h"&&t==="rtl"?-1:1},UG=function(e,t,r,s,a){var o=$G(e,window.getComputedStyle(t).direction),i=o*s,l=r.target,d=t.contains(l),c=!1,u=i>0,m=0,h=0;do{if(!l)break;var f=wD(e,l),j=f[0],x=f[1],w=f[2],v=x-w-o*j;(j||v)&&jD(e,l)&&(m+=v,h+=j);var g=l.parentNode;l=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!d&&l!==document.body||d&&(t.contains(l)||t===l));return(u&&(Math.abs(m)<1||!a)||!u&&(Math.abs(h)<1||!a))&&(c=!0),c},yu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ib=function(e){return[e.deltaX,e.deltaY]},Lb=function(e){return e&&"current"in e?e.current:e},HG=function(e,t){return e[0]===t[0]&&e[1]===t[1]},VG=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},BG=0,Io=[];function zG(e){var t=p.useRef([]),r=p.useRef([0,0]),s=p.useRef(),a=p.useState(BG++)[0],o=p.useState(Fm)[0],i=p.useRef(e);p.useEffect(function(){i.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var x=jy([e.lockRef.current],(e.shards||[]).map(Lb),!0).filter(Boolean);return x.forEach(function(w){return w.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),x.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(x,w){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!i.current.allowPinchZoom;var v=yu(x),g=r.current,y="deltaX"in x?x.deltaX:g[0]-v[0],N="deltaY"in x?x.deltaY:g[1]-v[1],b,E=x.target,S=Math.abs(y)>Math.abs(N)?"h":"v";if("touches"in x&&S==="h"&&E.type==="range")return!1;var P=Ob(S,E);if(!P)return!0;if(P?b=S:(b=S==="v"?"h":"v",P=Ob(S,E)),!P)return!1;if(!s.current&&"changedTouches"in x&&(y||N)&&(s.current=b),!b)return!0;var _=s.current||b;return UG(_,w,x,_==="h"?y:N,!0)},[]),d=p.useCallback(function(x){var w=x;if(!(!Io.length||Io[Io.length-1]!==o)){var v="deltaY"in w?Ib(w):yu(w),g=t.current.filter(function(b){return b.name===w.type&&(b.target===w.target||w.target===b.shadowParent)&&HG(b.delta,v)})[0];if(g&&g.should){w.cancelable&&w.preventDefault();return}if(!g){var y=(i.current.shards||[]).map(Lb).filter(Boolean).filter(function(b){return b.contains(w.target)}),N=y.length>0?l(w,y[0]):!i.current.noIsolation;N&&w.cancelable&&w.preventDefault()}}},[]),c=p.useCallback(function(x,w,v,g){var y={name:x,delta:w,target:v,should:g,shadowParent:qG(v)};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(N){return N!==y})},1)},[]),u=p.useCallback(function(x){r.current=yu(x),s.current=void 0},[]),m=p.useCallback(function(x){c(x.type,Ib(x),x.target,l(x,e.lockRef.current))},[]),h=p.useCallback(function(x){c(x.type,yu(x),x.target,l(x,e.lockRef.current))},[]);p.useEffect(function(){return Io.push(o),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:h}),document.addEventListener("wheel",d,Oo),document.addEventListener("touchmove",d,Oo),document.addEventListener("touchstart",u,Oo),function(){Io=Io.filter(function(x){return x!==o}),document.removeEventListener("wheel",d,Oo),document.removeEventListener("touchmove",d,Oo),document.removeEventListener("touchstart",u,Oo)}},[]);var f=e.removeScrollBar,j=e.inert;return p.createElement(p.Fragment,null,j?p.createElement(o,{styles:VG(a)}):null,f?p.createElement(Sy,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function qG(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const WG=by(vD,zG);var ND=p.forwardRef(function(e,t){return p.createElement(ap,ft({},e,{ref:t,sideCar:WG}))});ND.classNames=ap.classNames;var op="Popover",[bD,Ite]=JM(op,[iD]),Cd=iD(),[YG,Ta]=bD(op),SD=e=>{const{__scopePopover:t,children:r,open:s,defaultOpen:a,onOpenChange:o,modal:i=!1}=e,l=Cd(t),d=p.useRef(null),[c,u]=p.useState(!1),[m,h]=MG({prop:s,defaultProp:a??!1,onChange:o,caller:op});return n.jsx(bG,{...l,children:n.jsx(YG,{scope:t,contentId:mG(),triggerRef:d,open:m,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(f=>!f),[h]),hasCustomAnchor:c,onCustomAnchorAdd:p.useCallback(()=>u(!0),[]),onCustomAnchorRemove:p.useCallback(()=>u(!1),[]),modal:i,children:r})})};SD.displayName=op;var CD="PopoverAnchor",KG=p.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=Ta(CD,r),o=Cd(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=a;return p.useEffect(()=>(i(),()=>l()),[i,l]),n.jsx(xD,{...o,...s,ref:t})});KG.displayName=CD;var ED="PopoverTrigger",PD=p.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=Ta(ED,r),o=Cd(r),i=ka(t,a.triggerRef),l=n.jsx(Ps.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":DD(a.open),...s,ref:i,onClick:da(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:n.jsx(xD,{asChild:!0,...o,children:l})});PD.displayName=ED;var Ej="PopoverPortal",[GG,XG]=bD(Ej,{forceMount:void 0}),kD=e=>{const{__scopePopover:t,forceMount:r,children:s,container:a}=e,o=Ta(Ej,t);return n.jsx(GG,{scope:t,forceMount:r,children:n.jsx(Cj,{present:r||o.open,children:n.jsx(gD,{asChild:!0,container:a,children:s})})})};kD.displayName=Ej;var Qi="PopoverContent",TD=p.forwardRef((e,t)=>{const r=XG(Qi,e.__scopePopover),{forceMount:s=r.forceMount,...a}=e,o=Ta(Qi,e.__scopePopover);return n.jsx(Cj,{present:s||o.open,children:o.modal?n.jsx(JG,{...a,ref:t}):n.jsx(ZG,{...a,ref:t})})});TD.displayName=Qi;var QG=ZM("PopoverContent.RemoveScroll"),JG=p.forwardRef((e,t)=>{const r=Ta(Qi,e.__scopePopover),s=p.useRef(null),a=ka(t,s),o=p.useRef(!1);return p.useEffect(()=>{const i=s.current;if(i)return hd(i)},[]),n.jsx(ND,{as:QG,allowPinchZoom:!0,children:n.jsx(AD,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:da(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),o.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:da(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0,c=l.button===2||d;o.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:da(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),ZG=p.forwardRef((e,t)=>{const r=Ta(Qi,e.__scopePopover),s=p.useRef(!1),a=p.useRef(!1);return n.jsx(AD,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(s.current||(l=r.triggerRef.current)==null||l.focus(),o.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:o=>{var d,c;(d=e.onInteractOutside)==null||d.call(e,o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=o.target;((c=r.triggerRef.current)==null?void 0:c.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),AD=p.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:c,onInteractOutside:u,...m}=e,h=Ta(Qi,r),f=Cd(r);return rG(),n.jsx(rD,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:o,children:n.jsx(tD,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:c,onDismiss:()=>h.onOpenChange(!1),children:n.jsx(SG,{"data-state":DD(h.open),role:"dialog",id:h.contentId,...f,...m,ref:t,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),MD="PopoverClose",eX=p.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=Ta(MD,r);return n.jsx(Ps.button,{type:"button",...s,ref:t,onClick:da(e.onClick,()=>a.onOpenChange(!1))})});eX.displayName=MD;var tX="PopoverArrow",nX=p.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=Cd(r);return n.jsx(CG,{...a,...s,ref:t})});nX.displayName=tX;function DD(e){return e?"open":"closed"}var rX=SD,sX=PD,aX=kD,RD=TD;const qg=rX,Wg=sX,Yh=p.forwardRef(({className:e,align:t="center",sideOffset:r=4,...s},a)=>n.jsx(aX,{children:n.jsx(RD,{ref:a,align:t,sideOffset:r,className:de("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));Yh.displayName=RD.displayName;function oX({options:e,value:t,onValueChange:r,placeholder:s="Select option...",searchPlaceholder:a="Search...",emptyMessage:o="No option found.",className:i}){const[l,d]=p.useState(!1),c=e.find(u=>u.value===t);return n.jsxs(qg,{open:l,onOpenChange:d,children:[n.jsx(Wg,{asChild:!0,children:n.jsxs(W,{variant:"outline",role:"combobox","aria-expanded":l,className:de("w-full justify-between",i),children:[c?n.jsxs("div",{className:"flex items-center gap-2",children:[c.icon&&n.jsx(c.icon,{className:"h-4 w-4 text-primary"}),n.jsx("span",{className:"truncate",children:c.label}),c.category&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",c.category,")"]})]}):s,n.jsx(HO,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),n.jsx(Yh,{className:"w-full p-0 z-50",style:{width:"var(--radix-popover-trigger-width)"},children:n.jsxs(qM,{children:[n.jsx(WM,{placeholder:a}),n.jsxs(YM,{children:[n.jsx(KM,{children:o}),n.jsx(GM,{children:e.map(u=>n.jsxs(XM,{value:`${u.label} ${u.category||""} ${u.description||""}`,onSelect:()=>{r==null||r(u.value),d(!1)},children:[n.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[u.icon&&n.jsx(u.icon,{className:"h-4 w-4 text-primary"}),n.jsxs("div",{className:"flex flex-col",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium",children:u.label}),u.category&&n.jsx("span",{className:"text-xs text-muted-foreground px-1.5 py-0.5 bg-muted rounded",children:u.category})]}),u.description&&n.jsx("span",{className:"text-xs text-muted-foreground",children:u.description})]})]}),n.jsx(id,{className:de("ml-auto h-4 w-4",t===u.value?"opacity-100":"opacity-0")})]},u.value))})]})]})})]})}function iX(e,t={}){const{minLength:r=8,requireUppercase:s=!1,requireLowercase:a=!1,requireNumbers:o=!1,requireSpecialChars:i=!1,allowEmpty:l=!0}=t,d=[];return l&&(!e||e.trim().length===0)?{isValid:!0,errors:[]}:(e.length<r&&d.push(`Password must be at least ${r} characters long`),s&&!/[A-Z]/.test(e)&&d.push("Password must contain at least one uppercase letter"),a&&!/[a-z]/.test(e)&&d.push("Password must contain at least one lowercase letter"),o&&!/\d/.test(e)&&d.push("Password must contain at least one number"),i&&!/[!@#$%^&*(),.?":{}|<>]/.test(e)&&d.push("Password must contain at least one special character"),{isValid:d.length===0,errors:d})}function lX(e){return iX(e,{minLength:6,requireUppercase:!1,requireLowercase:!1,requireNumbers:!1,requireSpecialChars:!1,allowEmpty:!0})}const jt=p.forwardRef(({name:e,label:t,placeholder:r,required:s,value:a,onValueChange:o,className:i,showConfirmation:l=!0,validator:d=lX},c)=>{const[u,m]=p.useState(a||""),[h,f]=p.useState(""),[j,x]=p.useState(!1),[w,v]=p.useState(!1),[g,y]=p.useState(!1),[N,b]=p.useState({isValid:!0,errors:[]});p.useEffect(()=>{a!==u&&m(a||"")},[a]);const E=u===h,S=g&&h.length>0&&!E,P=!N.isValid&&u.length>0,_=D=>{m(D),b(d(D)),o(D)},T=D=>{f(D),!g&&D.length>0&&y(!0)};return n.jsxs("div",{ref:c,className:de("space-y-3",i),children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(C,{htmlFor:e,className:"flex items-center gap-1",children:[t,s&&n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(O,{id:e,type:j?"text":"password",placeholder:r,value:u,onChange:D=>_(D.target.value),className:de("pr-10 transition-all duration-300 focus:scale-[1.01]",P&&"border-destructive focus-visible:ring-destructive")}),n.jsx("button",{type:"button",onClick:()=>x(!j),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:j?n.jsx(Xx,{className:"h-4 w-4"}):n.jsx(kc,{className:"h-4 w-4"})})]})]}),P&&n.jsx("div",{className:"space-y-1",children:N.errors.map((D,k)=>n.jsxs("div",{className:"flex items-center gap-2 text-sm text-destructive",children:[n.jsx(xs,{className:"h-4 w-4"}),D]},k))}),N.isValid&&u.length>0&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[n.jsx(Pn,{className:"h-4 w-4"}),"Password meets requirements"]}),l&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(C,{htmlFor:`${e}_confirm`,className:"flex items-center gap-1",children:["Confirm ",t,s&&n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(O,{id:`${e}_confirm`,type:w?"text":"password",placeholder:`Confirm ${r||t.toLowerCase()}`,value:h,onChange:D=>T(D.target.value),className:de("pr-10 transition-all duration-300 focus:scale-[1.01]",S&&"border-destructive focus-visible:ring-destructive")}),n.jsx("button",{type:"button",onClick:()=>v(!w),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:w?n.jsx(Xx,{className:"h-4 w-4"}):n.jsx(kc,{className:"h-4 w-4"})})]})]}),S&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-destructive",children:[n.jsx(xs,{className:"h-4 w-4"}),"Passwords do not match"]})]})]})});jt.displayName="PasswordConfirmation";const cX=({selectedJarId:e,onJarSelect:t,label:r="Select JAR File",placeholder:s="Choose a driver JAR file...",driverTypeFilter:a})=>{const o=[{id:"1",name:"MySQL JDBC Driver",version:"8.0.33",fileName:"mysql-connector-java-8.0.33.jar",driverType:"Database"},{id:"2",name:"PostgreSQL JDBC Driver",version:"42.6.0",fileName:"postgresql-42.6.0.jar",driverType:"Database"},{id:"3",name:"ActiveMQ Client",version:"5.18.3",fileName:"activemq-client-5.18.3.jar",driverType:"Message Queue"}],i=a?o.filter(d=>d.driverType===a):o,l=o.find(d=>d.id===e);return n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"text-sm font-medium",children:r}),n.jsxs(Z,{value:e,onValueChange:t,children:[n.jsx(Q,{className:"w-full",children:n.jsx(ee,{placeholder:s,children:l&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Tc,{className:"h-4 w-4"}),n.jsx("span",{children:l.name}),n.jsxs(oe,{variant:"secondary",className:"text-xs",children:["v",l.version]})]})})}),n.jsxs(J,{className:"bg-card border-border shadow-lg z-50 max-h-60",children:[i.map(d=>n.jsx(A,{value:d.id,children:n.jsxs("div",{className:"flex items-center gap-2 w-full",children:[n.jsx(Tc,{className:"h-4 w-4"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium",children:d.name}),n.jsx("div",{className:"text-xs text-muted-foreground",children:d.fileName})]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsxs(oe,{variant:"secondary",className:"text-xs",children:["v",d.version]}),n.jsx(oe,{variant:"outline",className:"text-xs",children:d.driverType})]})]})},d.id)),i.length===0&&n.jsxs(A,{value:"no-jars-available",disabled:!0,children:["No JAR files available",a&&` for ${a}`]})]})]}),l&&n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Selected: ",l.fileName," (",l.driverType,")"]})]})},dX=({selectedBusinessComponent:e,setSelectedBusinessComponent:t})=>{const{businessComponents:r,loading:s}=Kr();return n.jsxs(X,{className:"animate-scale-in",children:[n.jsxs(re,{children:[n.jsxs(ae,{className:"flex items-center gap-2",children:[n.jsx(Bt,{className:"h-5 w-5"}),"Business Component Selection"]}),n.jsx(ge,{children:"Select the business component this adapter belongs to"})]}),n.jsx(te,{children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"businessComponent",children:"Business Component *"}),n.jsxs(Z,{value:(e==null?void 0:e.id)||"",onValueChange:a=>{const o=r.find(i=>i.id===a)||null;t(o)},disabled:s,children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select a business component"})}),n.jsx(J,{children:r.map(a=>n.jsx(A,{value:a.id,children:a.name},a.id))})]})]})})]})},uX=({mode:e,onConfigChange:t})=>{const[r,s]=p.useState({serverAddress:"",port:"",timeout:"",connectionSecurity:"",userName:"",password:"",connectionMode:"",sourceDirectory:"",fileName:"",sorting:"",advancedSelection:!1,exclusionMask:"",advancedEntries:[{directory:"",fileName:"",exclusionMask:""}],pollingInterval:"",processingMode:"",emptyFileHandling:"",enableDuplicateHandling:!1,duplicateMessageAlertThreshold:"",disableChannelOnExceed:!1,targetDirectory:"",targetFileName:"",fileConstructionMode:"",overwriteExistingFile:!1,createFileDirectory:!1,filePlacement:"",emptyMessageHandling_receiver:"",maxConcurrentConnections:""}),a=d=>{const c={...r,...d};s(c),t==null||t(c)},o=()=>{const d=[...r.advancedEntries,{directory:"",fileName:"",exclusionMask:""}];a({advancedEntries:d})},i=(d,c,u)=>{const m=[...r.advancedEntries];m[d]={...m[d],[c]:u},a({advancedEntries:m})},l=d=>{if(r.advancedEntries.length>1){const c=r.advancedEntries.filter((u,m)=>m!==d);a({advancedEntries:c})}};return n.jsxs(X,{className:"w-full",children:[n.jsxs(re,{children:[n.jsxs(ae,{children:["FTP ",e==="sender"?"Sender":"Receiver"," Adapter Configuration"]}),n.jsxs(ge,{children:["Configure your FTP ",e," adapter settings"]})]}),n.jsx(te,{children:n.jsxs(Ge,{defaultValue:e==="sender"?"source":"target",className:"w-full",children:[n.jsxs(qe,{className:"grid w-full grid-cols-2",children:[n.jsx(Ne,{value:e==="sender"?"source":"target",children:e==="sender"?"Source":"Target"}),n.jsx(Ne,{value:"processing",children:"Processing"})]}),e==="sender"&&n.jsxs(ye,{value:"source",className:"space-y-6 mt-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"File Access Parameters"}),n.jsx(Ke,{className:"mb-4"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"sourceDirectory",children:"Source Directory *"}),n.jsx(O,{id:"sourceDirectory",value:r.sourceDirectory,onChange:d=>a({sourceDirectory:d.target.value}),placeholder:"Enter source directory path"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"fileName",children:"File Name *"}),n.jsx(O,{id:"fileName",value:r.fileName,onChange:d=>a({fileName:d.target.value}),placeholder:"Enter file name pattern"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"sorting",children:"Sorting"}),n.jsxs(Z,{value:r.sorting,onValueChange:d=>a({sorting:d}),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select sorting option"})}),n.jsxs(J,{children:[n.jsx(A,{value:"none",children:"None"}),n.jsx(A,{value:"timestamp-ascending",children:"Timestamp Ascending"}),n.jsx(A,{value:"timestamp-descending",children:"Timestamp Descending"}),n.jsx(A,{value:"file-size",children:"File Size"}),n.jsx(A,{value:"file-name",children:"File Name"})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"advancedSelection",checked:r.advancedSelection,onCheckedChange:d=>a({advancedSelection:d===!0})}),n.jsx(C,{htmlFor:"advancedSelection",children:"Advanced selection for Source files"})]}),r.advancedSelection&&n.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/20",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"exclusionMask",children:"Exclusion Mask"}),n.jsx(O,{id:"exclusionMask",value:r.exclusionMask,onChange:d=>a({exclusionMask:d.target.value}),placeholder:"Enter exclusion pattern (e.g., *.tmp, backup_*)"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx(C,{className:"text-sm font-medium",children:"Multiple File Selection"}),n.jsx("button",{type:"button",onClick:o,className:"text-sm text-primary hover:underline",children:"+ Add Entry"})]}),r.advancedEntries.map((d,c)=>n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 items-end",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(C,{className:"text-xs",children:"Directory"}),n.jsx(O,{value:d.directory,onChange:u=>i(c,"directory",u.target.value),placeholder:"Directory path",className:"text-sm"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(C,{className:"text-xs",children:"File Name"}),n.jsx(O,{value:d.fileName,onChange:u=>i(c,"fileName",u.target.value),placeholder:"File name pattern",className:"text-sm"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(C,{className:"text-xs",children:"Exclusion Mask"}),n.jsx(O,{value:d.exclusionMask,onChange:u=>i(c,"exclusionMask",u.target.value),placeholder:"Exclusion pattern",className:"text-sm"})]}),r.advancedEntries.length>1&&n.jsx("button",{type:"button",onClick:()=>l(c),className:"text-xs text-destructive hover:underline self-end pb-2",children:"Remove"})]},c))]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Connection Parameters"}),n.jsx(Ke,{className:"mb-4"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"serverAddress",children:"Server Address *"}),n.jsx(O,{id:"serverAddress",value:r.serverAddress,onChange:d=>a({serverAddress:d.target.value}),placeholder:"Enter server address"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"port",children:"Port *"}),n.jsx(O,{id:"port",value:r.port,onChange:d=>a({port:d.target.value}),placeholder:"Enter port number",type:"number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"timeout",children:"Timeout"}),n.jsx(O,{id:"timeout",value:r.timeout,onChange:d=>a({timeout:d.target.value}),placeholder:"Timeout in seconds",type:"number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"connectionSecurity",children:"Connection Security *"}),n.jsxs(Z,{value:r.connectionSecurity,onValueChange:d=>a({connectionSecurity:d}),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select connection security"})}),n.jsxs(J,{children:[n.jsx(A,{value:"explicit-ftps",children:"Explicit FTPS"}),n.jsx(A,{value:"implicit-ftps",children:"Implicit FTPS"}),n.jsx(A,{value:"plain-ftp",children:"Plain FTP - no encryption"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"userName",children:"User Name *"}),n.jsx(O,{id:"userName",value:r.userName,onChange:d=>a({userName:d.target.value}),placeholder:"Enter username"})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsx(jt,{name:"password",label:"Password",placeholder:"Enter password",required:!0,value:r.password,onValueChange:d=>a({password:d})})}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(C,{htmlFor:"connectionMode",children:"Connection Mode *"}),n.jsxs(Z,{value:r.connectionMode,onValueChange:d=>a({connectionMode:d}),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select connection mode"})}),n.jsxs(J,{children:[n.jsx(A,{value:"permanently",children:"Permanently"}),n.jsx(A,{value:"per-file-transfer",children:"Per File Transfer"})]})]})]})]})]})]}),e==="receiver"&&n.jsxs(ye,{value:"target",className:"space-y-6 mt-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"File Access Parameters"}),n.jsx(Ke,{className:"mb-4"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"targetDirectory",children:"Target Directory *"}),n.jsx(O,{id:"targetDirectory",value:r.targetDirectory,onChange:d=>a({targetDirectory:d.target.value}),placeholder:"Enter target directory path"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"targetFileName",children:"File Name *"}),n.jsx(O,{id:"targetFileName",value:r.targetFileName,onChange:d=>a({targetFileName:d.target.value}),placeholder:"Enter file name"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Connection Parameters"}),n.jsx(Ke,{className:"mb-4"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"serverAddress",children:"Server Address *"}),n.jsx(O,{id:"serverAddress",value:r.serverAddress,onChange:d=>a({serverAddress:d.target.value}),placeholder:"Enter server address"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"port",children:"Port *"}),n.jsx(O,{id:"port",value:r.port,onChange:d=>a({port:d.target.value}),placeholder:"Enter port number",type:"number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"timeout",children:"Timeout"}),n.jsx(O,{id:"timeout",value:r.timeout,onChange:d=>a({timeout:d.target.value}),placeholder:"Timeout in seconds",type:"number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"connectionSecurity",children:"Connection Security *"}),n.jsxs(Z,{value:r.connectionSecurity,onValueChange:d=>a({connectionSecurity:d}),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select connection security"})}),n.jsxs(J,{children:[n.jsx(A,{value:"explicit-ftps",children:"Explicit FTPS"}),n.jsx(A,{value:"implicit-ftps",children:"Implicit FTPS"}),n.jsx(A,{value:"plain-ftp",children:"Plain FTP - no encryption"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"userName",children:"User Name *"}),n.jsx(O,{id:"userName",value:r.userName,onChange:d=>a({userName:d.target.value}),placeholder:"Enter username"})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsx(jt,{name:"password",label:"Password",placeholder:"Enter password",required:!0,value:r.password,onValueChange:d=>a({password:d})})}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(C,{htmlFor:"connectionMode",children:"Connection Mode *"}),n.jsxs(Z,{value:r.connectionMode,onValueChange:d=>a({connectionMode:d}),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select connection mode"})}),n.jsxs(J,{children:[n.jsx(A,{value:"permanently",children:"Permanently"}),n.jsx(A,{value:"per-file-transfer",children:"Per File Transfer"})]})]})]})]})]})]}),n.jsxs(ye,{value:"processing",className:"space-y-6 mt-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Processing Parameters"}),n.jsx(Ke,{className:"mb-4"})]}),e==="sender"?n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"pollingInterval",children:"Polling Interval (Secs) *"}),n.jsx(O,{id:"pollingInterval",value:r.pollingInterval,onChange:d=>a({pollingInterval:d.target.value}),placeholder:"Enter polling interval in seconds",type:"number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"processingMode",children:"Processing Mode *"}),n.jsxs(Z,{value:r.processingMode,onValueChange:d=>a({processingMode:d}),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select processing mode"})}),n.jsxs(J,{children:[n.jsx(A,{value:"archive",children:"Archive"}),n.jsx(A,{value:"delete",children:"Delete"}),n.jsx(A,{value:"test",children:"Test"})]})]})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(C,{htmlFor:"emptyFileHandling",children:"Empty File Handling *"}),n.jsxs(Z,{value:r.emptyFileHandling,onValueChange:d=>a({emptyFileHandling:d}),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select empty file handling"})}),n.jsxs(J,{children:[n.jsx(A,{value:"do-not-create",children:"Do not create message"}),n.jsx(A,{value:"process-empty",children:"Process empty files"}),n.jsx(A,{value:"skip-empty",children:"Skip empty files"})]})]})]})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"createFileDirectory",checked:r.createFileDirectory,onCheckedChange:d=>a({createFileDirectory:d===!0})}),n.jsx(C,{htmlFor:"createFileDirectory",children:"Create File Directory"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"overwriteExistingFile",checked:r.overwriteExistingFile,onCheckedChange:d=>a({overwriteExistingFile:d===!0})}),n.jsx(C,{htmlFor:"overwriteExistingFile",children:"Overwrite Existing File"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"fileConstructionMode",children:"File Construction Mode *"}),n.jsxs(Z,{value:r.fileConstructionMode,onValueChange:d=>a({fileConstructionMode:d}),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select file construction mode"})}),n.jsxs(J,{children:[n.jsx(A,{value:"create",children:"Create"}),n.jsx(A,{value:"append",children:"Append"}),n.jsx(A,{value:"add-time-stamp",children:"Add Time Stamp"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"filePlacement",children:"File Placement *"}),n.jsxs(Z,{value:r.filePlacement,onValueChange:d=>a({filePlacement:d}),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select file placement"})}),n.jsxs(J,{children:[n.jsx(A,{value:"use-temporary-file",children:"Use Temporary File"}),n.jsx(A,{value:"write-out-directly",children:"Write Out Directly"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"emptyMessageHandling_receiver",children:"Empty-Message Handling *"}),n.jsxs(Z,{value:r.emptyMessageHandling_receiver,onValueChange:d=>a({emptyMessageHandling_receiver:d}),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select empty message handling"})}),n.jsxs(J,{children:[n.jsx(A,{value:"write-out-empty-file",children:"Write Out Empty File"}),n.jsx(A,{value:"ignore-empty-file",children:"Ignore Empty File"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"maxConcurrentConnections",children:"Maximum Concurrent Connections"}),n.jsx(O,{id:"maxConcurrentConnections",value:r.maxConcurrentConnections,onChange:d=>a({maxConcurrentConnections:d.target.value}),placeholder:"Enter maximum concurrent connections",type:"number"})]})]})]})]}),e==="sender"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Duplicate Handling"}),n.jsx(Ke,{className:"mb-4"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"enableDuplicateHandling",checked:r.enableDuplicateHandling,onCheckedChange:d=>a({enableDuplicateHandling:d===!0})}),n.jsx(C,{htmlFor:"enableDuplicateHandling",children:"Enable Duplicate Handling"})]}),r.enableDuplicateHandling&&n.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/20",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"duplicateThreshold",children:"Duplicate Message Alert Threshold *"}),n.jsx(O,{id:"duplicateThreshold",value:r.duplicateMessageAlertThreshold,onChange:d=>a({duplicateMessageAlertThreshold:d.target.value}),placeholder:"Enter threshold value",type:"number"})]})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"disableChannelOnExceed",checked:r.disableChannelOnExceed,onCheckedChange:d=>a({disableChannelOnExceed:d===!0})}),n.jsx(C,{htmlFor:"disableChannelOnExceed",children:"Disable Channel if Duplicate threshold has been exceeded"})]})]})]})]})]})]})})]})},hX=({mode:e,onConfigChange:t})=>{const[r,s]=p.useState({serverAddress:"",port:"22",timeout:"",authenticationType:"",userName:"",password:"",publicKey:"",privateKey:"",passphrase:"",maxConcurrentConnections:"",retryConnection:"",retryConnectionDelay:"",connectionMode:"",sourceDirectory:"",fileName:"",advancedSelection:!1,exclusionMask:"",advancedEntries:[{directory:"",fileName:"",exclusionMask:""}],pollingInterval:"",processingMode:"",emptyFileHandling:"",enableDuplicateHandling:!1,duplicateMessageAlertThreshold:"",disableChannelOnExceed:!1,targetDirectory:"",targetFileName:"",fileConstructionMode:"",overwriteExistingFile:!1,createFileDirectory:!1,filePlacement:"",emptyMessageHandling_receiver:""}),a=c=>{const u={...r,...c};s(u),t==null||t(u)},o=()=>{const c=[...r.advancedEntries,{directory:"",fileName:"",exclusionMask:""}];a({advancedEntries:c})},i=(c,u,m)=>{const h=[...r.advancedEntries];h[c]={...h[c],[u]:m},a({advancedEntries:h})},l=c=>{if(r.advancedEntries.length>1){const u=r.advancedEntries.filter((m,h)=>h!==c);a({advancedEntries:u})}},d=()=>{switch(r.authenticationType){case"public-key":return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"keyPairSelection",children:"Key Pair Selection *"}),n.jsxs(Z,{value:r.publicKey,onValueChange:c=>a({publicKey:c}),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select a key pair from system"})}),n.jsxs(J,{children:[n.jsx(A,{value:"rsa-key-prod-01",children:"RSA Production Key 01"}),n.jsx(A,{value:"rsa-key-dev-01",children:"RSA Development Key 01"}),n.jsx(A,{value:"ecdsa-key-prod-01",children:"ECDSA Production Key 01"}),n.jsx(A,{value:"ed25519-key-prod-01",children:"Ed25519 Production Key 01"}),n.jsx(A,{value:"rsa-key-staging-01",children:"RSA Staging Key 01"}),n.jsx(A,{value:"custom-key-pair-01",children:"Custom Key Pair 01"})]})]})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsx(jt,{name:"passphrase",label:"Passphrase (optional)",placeholder:"Enter passphrase for selected key pair",required:!1,value:r.passphrase,onValueChange:c=>a({passphrase:c})})})]});case"username-password":return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"userName",children:"User Name *"}),n.jsx(O,{id:"userName",value:r.userName,onChange:c=>a({userName:c.target.value}),placeholder:"Enter username"})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsx(jt,{name:"password",label:"Password",placeholder:"Enter password",required:!0,value:r.password,onValueChange:c=>a({password:c})})})]});case"dual":return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"userName",children:"User Name *"}),n.jsx(O,{id:"userName",value:r.userName,onChange:c=>a({userName:c.target.value}),placeholder:"Enter username"})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsx(jt,{name:"password",label:"Password",placeholder:"Enter password",required:!0,value:r.password,onValueChange:c=>a({password:c})})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"keyPairSelection",children:"Key Pair Selection *"}),n.jsxs(Z,{value:r.publicKey,onValueChange:c=>a({publicKey:c}),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select a key pair from system"})}),n.jsxs(J,{children:[n.jsx(A,{value:"rsa-key-prod-01",children:"RSA Production Key 01"}),n.jsx(A,{value:"rsa-key-dev-01",children:"RSA Development Key 01"}),n.jsx(A,{value:"ecdsa-key-prod-01",children:"ECDSA Production Key 01"}),n.jsx(A,{value:"ed25519-key-prod-01",children:"Ed25519 Production Key 01"}),n.jsx(A,{value:"rsa-key-staging-01",children:"RSA Staging Key 01"}),n.jsx(A,{value:"custom-key-pair-01",children:"Custom Key Pair 01"})]})]})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsx(jt,{name:"passphrase",label:"Passphrase (optional)",placeholder:"Enter passphrase for selected key pair",required:!1,value:r.passphrase,onValueChange:c=>a({passphrase:c})})})]});case"dynamic":return n.jsx("div",{className:"md:col-span-2 p-4 border rounded-lg bg-muted/20",children:n.jsx("p",{className:"text-sm text-muted-foreground",children:"Dynamic authentication will be configured at runtime based on message content."})});default:return null}};return n.jsxs(X,{className:"w-full",children:[n.jsxs(re,{children:[n.jsxs(ae,{children:["SFTP ",e==="sender"?"Sender":"Receiver"," Adapter Configuration"]}),n.jsxs(ge,{children:["Configure your SFTP ",e," adapter settings"]})]}),n.jsx(te,{children:n.jsxs(Ge,{defaultValue:e==="sender"?"source":"target",className:"w-full",children:[n.jsxs(qe,{className:"grid w-full grid-cols-2",children:[n.jsx(Ne,{value:e==="sender"?"source":"target",children:e==="sender"?"Source":"Target"}),n.jsx(Ne,{value:"processing",children:"Processing"})]}),e==="sender"&&n.jsxs(ye,{value:"source",className:"space-y-6 mt-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"File Access Parameters"}),n.jsx(Ke,{className:"mb-4"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"sourceDirectory",children:"Source Directory *"}),n.jsx(O,{id:"sourceDirectory",value:r.sourceDirectory,onChange:c=>a({sourceDirectory:c.target.value}),placeholder:"Enter source directory path"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"fileName",children:"File Name *"}),n.jsx(O,{id:"fileName",value:r.fileName,onChange:c=>a({fileName:c.target.value}),placeholder:"Enter file name pattern"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"advancedSelection",checked:r.advancedSelection,onCheckedChange:c=>a({advancedSelection:c===!0})}),n.jsx(C,{htmlFor:"advancedSelection",children:"Advanced selection for Source files"})]}),r.advancedSelection&&n.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/20",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"exclusionMask",children:"Exclusion Mask"}),n.jsx(O,{id:"exclusionMask",value:r.exclusionMask,onChange:c=>a({exclusionMask:c.target.value}),placeholder:"Enter exclusion pattern (e.g., *.tmp, backup_*)"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx(C,{className:"text-sm font-medium",children:"Multiple File Selection"}),n.jsx("button",{type:"button",onClick:o,className:"text-sm text-primary hover:underline",children:"+ Add Entry"})]}),r.advancedEntries.map((c,u)=>n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 items-end",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(C,{className:"text-xs",children:"Directory"}),n.jsx(O,{value:c.directory,onChange:m=>i(u,"directory",m.target.value),placeholder:"Directory path",className:"text-sm"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(C,{className:"text-xs",children:"File Name"}),n.jsx(O,{value:c.fileName,onChange:m=>i(u,"fileName",m.target.value),placeholder:"File name pattern",className:"text-sm"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(C,{className:"text-xs",children:"Exclusion Mask"}),n.jsx(O,{value:c.exclusionMask,onChange:m=>i(u,"exclusionMask",m.target.value),placeholder:"Exclusion pattern",className:"text-sm"})]}),r.advancedEntries.length>1&&n.jsx("button",{type:"button",onClick:()=>l(u),className:"text-xs text-destructive hover:underline self-end pb-2",children:"Remove"})]},u))]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Connection Parameters"}),n.jsx(Ke,{className:"mb-4"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"serverAddress",children:"Server Address *"}),n.jsx(O,{id:"serverAddress",value:r.serverAddress,onChange:c=>a({serverAddress:c.target.value}),placeholder:"Enter server address"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"port",children:"Port *"}),n.jsx(O,{id:"port",value:r.port,onChange:c=>a({port:c.target.value}),placeholder:"Enter port number (default: 22)",type:"number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"timeout",children:"Timeout"}),n.jsx(O,{id:"timeout",value:r.timeout,onChange:c=>a({timeout:c.target.value}),placeholder:"Timeout in seconds",type:"number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"authenticationType",children:"Authentication *"}),n.jsxs(Z,{value:r.authenticationType,onValueChange:c=>a({authenticationType:c}),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select authentication type"})}),n.jsxs(J,{children:[n.jsx(A,{value:"public-key",children:"Public Key"}),n.jsx(A,{value:"username-password",children:"User Name/Password"}),n.jsx(A,{value:"dual",children:"Dual"}),n.jsx(A,{value:"dynamic",children:"Dynamic"})]})]})]}),d(),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"maxConcurrentConnections",children:"Maximum Concurrent Connections"}),n.jsx(O,{id:"maxConcurrentConnections",value:r.maxConcurrentConnections,onChange:c=>a({maxConcurrentConnections:c.target.value}),placeholder:"Enter max concurrent connections",type:"number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"retryConnection",children:"Retry Connection"}),n.jsx(O,{id:"retryConnection",value:r.retryConnection,onChange:c=>a({retryConnection:c.target.value}),placeholder:"Number of retry attempts",type:"number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"retryConnectionDelay",children:'Retry Connection Delay "in sec"'}),n.jsx(O,{id:"retryConnectionDelay",value:r.retryConnectionDelay,onChange:c=>a({retryConnectionDelay:c.target.value}),placeholder:"Delay between retries in seconds",type:"number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"connectionMode",children:"Connection Mode *"}),n.jsxs(Z,{value:r.connectionMode,onValueChange:c=>a({connectionMode:c}),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select connection mode"})}),n.jsxs(J,{children:[n.jsx(A,{value:"permanently",children:"Permanently"}),n.jsx(A,{value:"per-file-transfer",children:"Per File Transfer"})]})]})]})]})]})]}),e==="receiver"&&n.jsxs(ye,{value:"target",className:"space-y-6 mt-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"File Access Parameters"}),n.jsx(Ke,{className:"mb-4"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"targetDirectory",children:"Target Directory *"}),n.jsx(O,{id:"targetDirectory",value:r.targetDirectory,onChange:c=>a({targetDirectory:c.target.value}),placeholder:"Enter target directory path"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"targetFileName",children:"File Name *"}),n.jsx(O,{id:"targetFileName",value:r.targetFileName,onChange:c=>a({targetFileName:c.target.value}),placeholder:"Enter file name"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Connection Parameters"}),n.jsx(Ke,{className:"mb-4"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"serverAddress",children:"Server Address *"}),n.jsx(O,{id:"serverAddress",value:r.serverAddress,onChange:c=>a({serverAddress:c.target.value}),placeholder:"Enter server address"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"port",children:"Port *"}),n.jsx(O,{id:"port",value:r.port,onChange:c=>a({port:c.target.value}),placeholder:"Enter port number (default: 22)",type:"number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"timeout",children:"Timeout"}),n.jsx(O,{id:"timeout",value:r.timeout,onChange:c=>a({timeout:c.target.value}),placeholder:"Timeout in seconds",type:"number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"authenticationType",children:"Authentication *"}),n.jsxs(Z,{value:r.authenticationType,onValueChange:c=>a({authenticationType:c}),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select authentication type"})}),n.jsxs(J,{children:[n.jsx(A,{value:"public-key",children:"Public Key"}),n.jsx(A,{value:"username-password",children:"User Name/Password"}),n.jsx(A,{value:"dual",children:"Dual"}),n.jsx(A,{value:"dynamic",children:"Dynamic"})]})]})]}),d(),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(C,{htmlFor:"connectionMode",children:"Connection Mode *"}),n.jsxs(Z,{value:r.connectionMode,onValueChange:c=>a({connectionMode:c}),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select connection mode"})}),n.jsxs(J,{children:[n.jsx(A,{value:"permanently",children:"Permanently"}),n.jsx(A,{value:"per-file-transfer",children:"Per File Transfer"})]})]})]})]})]})]}),n.jsx(ye,{value:"processing",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Processing Parameters"}),n.jsx(Ke,{className:"mb-4"})]}),e==="sender"?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"pollingInterval",children:'Polling Interval "Secs" *'}),n.jsx(O,{id:"pollingInterval",value:r.pollingInterval,onChange:c=>a({pollingInterval:c.target.value}),placeholder:"Enter polling interval in seconds",type:"number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"processingMode",children:"Processing Mode *"}),n.jsxs(Z,{value:r.processingMode,onValueChange:c=>a({processingMode:c}),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select processing mode"})}),n.jsxs(J,{children:[n.jsx(A,{value:"archive",children:"Archive"}),n.jsx(A,{value:"delete",children:"Delete"}),n.jsx(A,{value:"keep-file",children:"Keep File"})]})]})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(C,{htmlFor:"emptyFileHandling",children:"Empty File Handling *"}),n.jsxs(Z,{value:r.emptyFileHandling,onValueChange:c=>a({emptyFileHandling:c}),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select empty file handling"})}),n.jsxs(J,{children:[n.jsx(A,{value:"do-not-create-message",children:"Do not create message"}),n.jsx(A,{value:"process-empty-files",children:"Process empty files"}),n.jsx(A,{value:"skip-empty-files",children:"Skip empty files"})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Duplicate Handling"}),n.jsx(Ke,{className:"mb-4"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"enableDuplicateHandling",checked:r.enableDuplicateHandling,onCheckedChange:c=>a({enableDuplicateHandling:c===!0})}),n.jsx(C,{htmlFor:"enableDuplicateHandling",children:"Enable Duplicate Handling"})]}),r.enableDuplicateHandling&&n.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/20",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"duplicateMessageAlertThreshold",children:"Duplicate message alert threshold"}),n.jsx(O,{id:"duplicateMessageAlertThreshold",value:r.duplicateMessageAlertThreshold,onChange:c=>a({duplicateMessageAlertThreshold:c.target.value}),placeholder:"Enter threshold value",type:"number"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"disableChannelOnExceed",checked:r.disableChannelOnExceed,onCheckedChange:c=>a({disableChannelOnExceed:c===!0})}),n.jsx(C,{htmlFor:"disableChannelOnExceed",children:"Disable Channel if Duplicate threshold has been exceeded"})]})]})]})]})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"createFileDirectory",checked:r.createFileDirectory,onCheckedChange:c=>a({createFileDirectory:c===!0})}),n.jsx(C,{htmlFor:"createFileDirectory",children:"Create File Directory"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"overwriteExistingFile",checked:r.overwriteExistingFile,onCheckedChange:c=>a({overwriteExistingFile:c===!0})}),n.jsx(C,{htmlFor:"overwriteExistingFile",children:"Overwrite Existing File"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"fileConstructionMode",children:"File Construction Mode *"}),n.jsxs(Z,{value:r.fileConstructionMode,onValueChange:c=>a({fileConstructionMode:c}),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select file construction mode"})}),n.jsxs(J,{children:[n.jsx(A,{value:"create",children:"Create"}),n.jsx(A,{value:"append",children:"Append"}),n.jsx(A,{value:"add-time-stamp",children:"Add Time Stamp"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"filePlacement",children:"File Placement *"}),n.jsxs(Z,{value:r.filePlacement,onValueChange:c=>a({filePlacement:c}),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select file placement"})}),n.jsxs(J,{children:[n.jsx(A,{value:"use-temporary-file",children:"Use Temporary File"}),n.jsx(A,{value:"write-out-directly",children:"Write Out Directly"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"emptyMessageHandling_receiver",children:"Empty-Message Handling *"}),n.jsxs(Z,{value:r.emptyMessageHandling_receiver,onValueChange:c=>a({emptyMessageHandling_receiver:c}),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select empty message handling"})}),n.jsxs(J,{children:[n.jsx(A,{value:"write-out-empty-file",children:"Write Out Empty File"}),n.jsx(A,{value:"ignore-empty-file",children:"Ignore Empty File"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"maxConcurrentConnections",children:"Maximum Concurrent Connections"}),n.jsx(O,{id:"maxConcurrentConnections",value:r.maxConcurrentConnections,onChange:c=>a({maxConcurrentConnections:c.target.value}),placeholder:"Enter max concurrent connections",type:"number"})]})]})]})]})})]})})]})},mX=({mode:e,onConfigChange:t})=>{const[r,s]=p.useState({sourceDirectory:"",fileName:"",sorting:"",advancedSelection:!1,exclusionMask:"",advancedEntries:[{directory:"",fileName:"",exclusionMask:""}],pollingInterval:"",processingMode:"",emptyFileHandling:"",enableDuplicateHandling:!1,duplicateMessageAlertThreshold:"",disableChannelOnExceed:!1,targetDirectory:"",targetFileName:"",fileConstructionMode:"",overwriteExistingFile:!1,createFileDirectory:!1,filePlacement:"",emptyMessageHandling_receiver:"",maxConcurrentConnections:""}),a=d=>{const c={...r,...d};s(c),t==null||t(c)},o=()=>{const d=[...r.advancedEntries,{directory:"",fileName:"",exclusionMask:""}];a({advancedEntries:d})},i=(d,c,u)=>{const m=[...r.advancedEntries];m[d]={...m[d],[c]:u},a({advancedEntries:m})},l=d=>{if(r.advancedEntries.length>1){const c=r.advancedEntries.filter((u,m)=>m!==d);a({advancedEntries:c})}};return n.jsxs(X,{className:"w-full",children:[n.jsxs(re,{children:[n.jsxs(ae,{children:["File ",e==="sender"?"Sender":"Receiver"," Adapter Configuration"]}),n.jsxs(ge,{children:["Configure your File ",e," adapter settings"]})]}),n.jsx(te,{children:n.jsxs(Ge,{defaultValue:e==="sender"?"source":"target",className:"w-full",children:[n.jsxs(qe,{className:"grid w-full grid-cols-2",children:[n.jsx(Ne,{value:e==="sender"?"source":"target",children:e==="sender"?"Source":"Target"}),n.jsx(Ne,{value:"processing",children:"Processing"})]}),e==="sender"&&n.jsx(ye,{value:"source",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"File Access Parameters"}),n.jsx(Ke,{className:"mb-4"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"sourceDirectory",children:"Source Directory *"}),n.jsx(O,{id:"sourceDirectory",value:r.sourceDirectory,onChange:d=>a({sourceDirectory:d.target.value}),placeholder:"Enter source directory path"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"fileName",children:"File Name *"}),n.jsx(O,{id:"fileName",value:r.fileName,onChange:d=>a({fileName:d.target.value}),placeholder:"Enter file name pattern"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"sorting",children:"Sorting"}),n.jsxs(Z,{value:r.sorting,onValueChange:d=>a({sorting:d}),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select sorting option"})}),n.jsxs(J,{children:[n.jsx(A,{value:"none",children:"None"}),n.jsx(A,{value:"timestamp-ascending",children:"Timestamp Ascending"}),n.jsx(A,{value:"timestamp-descending",children:"Timestamp Descending"}),n.jsx(A,{value:"file-size",children:"File Size"}),n.jsx(A,{value:"file-name",children:"File Name"})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"advancedSelection",checked:r.advancedSelection,onCheckedChange:d=>a({advancedSelection:d===!0})}),n.jsx(C,{htmlFor:"advancedSelection",children:"Advanced selection for Source files"})]}),r.advancedSelection&&n.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/20",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"exclusionMask",children:"Exclusion Mask"}),n.jsx(O,{id:"exclusionMask",value:r.exclusionMask,onChange:d=>a({exclusionMask:d.target.value}),placeholder:"Enter exclusion pattern (e.g., *.tmp, backup_*)"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx(C,{className:"text-sm font-medium",children:"Multiple File Selection"}),n.jsx("button",{type:"button",onClick:o,className:"text-sm text-primary hover:underline",children:"+ Add Entry"})]}),r.advancedEntries.map((d,c)=>n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 items-end",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(C,{className:"text-xs",children:"Directory"}),n.jsx(O,{value:d.directory,onChange:u=>i(c,"directory",u.target.value),placeholder:"Directory path",className:"text-sm"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(C,{className:"text-xs",children:"File Name"}),n.jsx(O,{value:d.fileName,onChange:u=>i(c,"fileName",u.target.value),placeholder:"File name pattern",className:"text-sm"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(C,{className:"text-xs",children:"Exclusion Mask"}),n.jsx(O,{value:d.exclusionMask,onChange:u=>i(c,"exclusionMask",u.target.value),placeholder:"Exclusion pattern",className:"text-sm"})]}),r.advancedEntries.length>1&&n.jsx("button",{type:"button",onClick:()=>l(c),className:"text-xs text-destructive hover:underline self-end pb-2",children:"Remove"})]},c))]})]})]})}),e==="receiver"&&n.jsx(ye,{value:"target",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"File Access Parameters"}),n.jsx(Ke,{className:"mb-4"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"targetDirectory",children:"Target Directory *"}),n.jsx(O,{id:"targetDirectory",value:r.targetDirectory,onChange:d=>a({targetDirectory:d.target.value}),placeholder:"Enter target directory path"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"targetFileName",children:"File Name *"}),n.jsx(O,{id:"targetFileName",value:r.targetFileName,onChange:d=>a({targetFileName:d.target.value}),placeholder:"Enter file name"})]})]})]})}),n.jsxs(ye,{value:"processing",className:"space-y-6 mt-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Processing Parameters"}),n.jsx(Ke,{className:"mb-4"})]}),e==="sender"?n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"pollingInterval",children:"Polling Interval (Secs) *"}),n.jsx(O,{id:"pollingInterval",value:r.pollingInterval,onChange:d=>a({pollingInterval:d.target.value}),placeholder:"Enter polling interval in seconds",type:"number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"processingMode",children:"Processing Mode *"}),n.jsxs(Z,{value:r.processingMode,onValueChange:d=>a({processingMode:d}),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select processing mode"})}),n.jsxs(J,{children:[n.jsx(A,{value:"archive",children:"Archive"}),n.jsx(A,{value:"delete",children:"Delete"}),n.jsx(A,{value:"test",children:"Test"})]})]})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(C,{htmlFor:"emptyFileHandling",children:"Empty File Handling *"}),n.jsxs(Z,{value:r.emptyFileHandling,onValueChange:d=>a({emptyFileHandling:d}),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select empty file handling"})}),n.jsxs(J,{children:[n.jsx(A,{value:"do-not-create",children:"Do not create message"}),n.jsx(A,{value:"process-empty",children:"Process empty files"}),n.jsx(A,{value:"skip-empty",children:"Skip empty files"})]})]})]})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"createFileDirectory",checked:r.createFileDirectory,onCheckedChange:d=>a({createFileDirectory:d===!0})}),n.jsx(C,{htmlFor:"createFileDirectory",children:"Create File Directory"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"overwriteExistingFile",checked:r.overwriteExistingFile,onCheckedChange:d=>a({overwriteExistingFile:d===!0})}),n.jsx(C,{htmlFor:"overwriteExistingFile",children:"Overwrite Existing File"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"fileConstructionMode",children:"File Construction Mode *"}),n.jsxs(Z,{value:r.fileConstructionMode,onValueChange:d=>a({fileConstructionMode:d}),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select file construction mode"})}),n.jsxs(J,{children:[n.jsx(A,{value:"create",children:"Create"}),n.jsx(A,{value:"append",children:"Append"}),n.jsx(A,{value:"add-time-stamp",children:"Add Time Stamp"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"filePlacement",children:"File Placement *"}),n.jsxs(Z,{value:r.filePlacement,onValueChange:d=>a({filePlacement:d}),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select file placement"})}),n.jsxs(J,{children:[n.jsx(A,{value:"use-temporary-file",children:"Use Temporary File"}),n.jsx(A,{value:"write-out-directly",children:"Write Out Directly"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"emptyMessageHandling_receiver",children:"Empty-Message Handling *"}),n.jsxs(Z,{value:r.emptyMessageHandling_receiver,onValueChange:d=>a({emptyMessageHandling_receiver:d}),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select empty message handling"})}),n.jsxs(J,{children:[n.jsx(A,{value:"write-out-empty-file",children:"Write Out Empty File"}),n.jsx(A,{value:"ignore-empty-file",children:"Ignore Empty File"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"maxConcurrentConnections",children:"Maximum Concurrent Connections"}),n.jsx(O,{id:"maxConcurrentConnections",value:r.maxConcurrentConnections,onChange:d=>a({maxConcurrentConnections:d.target.value}),placeholder:"Enter maximum concurrent connections",type:"number"})]})]})]})]}),e==="sender"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Duplicate Handling"}),n.jsx(Ke,{className:"mb-4"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"enableDuplicateHandling",checked:r.enableDuplicateHandling,onCheckedChange:d=>a({enableDuplicateHandling:d===!0})}),n.jsx(C,{htmlFor:"enableDuplicateHandling",children:"Enable Duplicate Handling"})]}),r.enableDuplicateHandling&&n.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/20",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"duplicateThreshold",children:"Duplicate Message Alert Threshold *"}),n.jsx(O,{id:"duplicateThreshold",value:r.duplicateMessageAlertThreshold,onChange:d=>a({duplicateMessageAlertThreshold:d.target.value}),placeholder:"Enter threshold value",type:"number"})]})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"disableChannelOnExceed",checked:r.disableChannelOnExceed,onCheckedChange:d=>a({disableChannelOnExceed:d===!0})}),n.jsx(C,{htmlFor:"disableChannelOnExceed",children:"Disable Channel if Duplicate threshold has been exceeded"})]})]})]})]})]})]})})]})};function pX({configuration:e,onConfigurationChange:t}){const{businessComponents:r,loading:s}=Kr(),{structures:a}=xl(),[o,i]=p.useState(""),[l,d]=p.useState([]);return p.useEffect(()=>{e.processingMode||t("processingMode","ASYNCHRONOUS")},[]),p.useEffect(()=>{if(o){const c=a.filter(u=>u.usage==="source");d(c)}else d([])},[o,a]),n.jsxs(X,{children:[n.jsxs(re,{children:[n.jsx(ae,{children:"HTTP Sender Configuration"}),n.jsx(ge,{children:"Configure your HTTP sender adapter settings"})]}),n.jsx(te,{children:n.jsxs(Ge,{defaultValue:"source",className:"w-full",children:[n.jsxs(qe,{className:"grid w-full grid-cols-2",children:[n.jsx(Ne,{value:"source",children:"Source"}),n.jsx(Ne,{value:"processing",children:"Processing"})]}),n.jsx(ye,{value:"source",className:"space-y-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Connection Details"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"endpointUrl",children:"Endpoint URL"}),n.jsx(O,{id:"endpointUrl",type:"text",placeholder:"The URL where the 3rd party sends requests",value:e.endpointUrl||"",onChange:c=>t("endpointUrl",c.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"httpMethod",children:"HTTP Method"}),n.jsxs(Z,{value:e.httpMethod||"",onValueChange:c=>t("httpMethod",c),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select HTTP method"})}),n.jsxs(J,{children:[n.jsx(A,{value:"GET",children:"GET"}),n.jsx(A,{value:"POST",children:"POST"}),n.jsx(A,{value:"PUT",children:"PUT"}),n.jsx(A,{value:"DELETE",children:"DELETE"}),n.jsx(A,{value:"PATCH",children:"PATCH"}),n.jsx(A,{value:"HEAD",children:"HEAD"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"contentType",children:"Content-Type"}),n.jsxs(Z,{value:e.contentType||"",onValueChange:c=>t("contentType",c),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select media type"})}),n.jsxs(J,{children:[n.jsx(A,{value:"application/json",children:"application/json"}),n.jsx(A,{value:"application/xml",children:"application/xml"}),n.jsx(A,{value:"text/xml",children:"text/xml"}),n.jsx(A,{value:"application/x-www-form-urlencoded",children:"application/x-www-form-urlencoded"}),n.jsx(A,{value:"text/plain",children:"text/plain"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"sslConfig",children:"SSL/TLS Configuration"}),n.jsx(Se,{id:"sslConfig",placeholder:"SSL certificates/truststore info for HTTPS",value:e.sslConfig||"",onChange:c=>t("sslConfig",c.target.value),className:"min-h-[80px]"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"apiVersion",children:"API Version"}),n.jsx(O,{id:"apiVersion",type:"text",placeholder:"Version of the API being called",value:e.apiVersion||"",onChange:c=>t("apiVersion",c.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"rateLimits",children:"Throttling/Rate Limits"}),n.jsx(O,{id:"rateLimits",type:"text",placeholder:"Limits on calls per time period",value:e.rateLimits||"",onChange:c=>t("rateLimits",c.target.value)})]})]})}),n.jsxs(ye,{value:"processing",className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Processing Mode"}),n.jsxs("div",{className:"flex items-center justify-between space-x-4 p-4 border rounded-lg",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(C,{htmlFor:"processingMode",className:"text-sm font-medium",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Asynchronous Processing":"Synchronous Processing"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Return immediate acknowledgment (HTTP 202), process in background":"Wait for complete processing before sending response back to caller"})]}),n.jsx(Pa,{id:"processingMode",checked:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS",onCheckedChange:c=>t("processingMode",c?"ASYNCHRONOUS":"SYNCHRONOUS")})]}),(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"&&n.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"asyncResponseTimeout",children:"Async Response Timeout (ms)"}),n.jsx(O,{id:"asyncResponseTimeout",type:"number",placeholder:"30000",value:e.asyncResponseTimeout||"",onChange:c=>t("asyncResponseTimeout",parseInt(c.target.value)||3e4)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"asyncResponseFormat",children:"Async Response Format"}),n.jsxs(Z,{value:e.asyncResponseFormat||"HTTP_202",onValueChange:c=>t("asyncResponseFormat",c),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select response format"})}),n.jsxs(J,{children:[n.jsx(A,{value:"HTTP_202",children:"HTTP 202 Accepted"}),n.jsx(A,{value:"CUSTOM_RESPONSE",children:"Custom Response"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"asyncCallbackUrl",children:"Callback URL (Optional)"}),n.jsx(O,{id:"asyncCallbackUrl",type:"url",placeholder:"https://callback-endpoint.example.com/webhook",value:e.asyncCallbackUrl||"",onChange:c=>t("asyncCallbackUrl",c.target.value)})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Data Handling"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"businessComponent",children:"Business Component"}),n.jsxs(Z,{value:o,onValueChange:c=>{i(c),t("businessComponentId",c)},disabled:s,children:[n.jsx(Q,{className:"bg-background",children:n.jsx(ee,{placeholder:"Select a business component"})}),n.jsx(J,{className:"bg-background border z-50",children:r.map(c=>n.jsx(A,{value:c.id,children:c.name},c.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"requestPayloadFormat",children:"Request Payload Format"}),n.jsxs(Z,{value:e.requestPayloadFormat||"",onValueChange:c=>t("requestPayloadFormat",c),disabled:!o||l.length===0,children:[n.jsx(Q,{className:"bg-background",children:n.jsx(ee,{placeholder:"Select request structure"})}),n.jsx(J,{className:"bg-background border z-50",children:l.map(c=>n.jsxs(A,{value:c.id,children:[c.name," (",c.type,")"]},c.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"responseFormat",children:"Response Format"}),n.jsxs(Z,{value:e.responseFormat||"",onValueChange:c=>t("responseFormat",c),disabled:!o||l.length===0,children:[n.jsx(Q,{className:"bg-background",children:n.jsx(ee,{placeholder:"Select response structure"})}),n.jsx(J,{className:"bg-background border z-50",children:l.map(c=>n.jsxs(A,{value:c.id,children:[c.name," (",c.type,")"]},c.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"customHeaders",children:"Custom Headers"}),n.jsx(Se,{id:"customHeaders",placeholder:"Additional HTTP headers needed (e.g., correlation ID)",value:e.customHeaders||"",onChange:c=>t("customHeaders",c.target.value),className:"min-h-[80px]"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Security"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"authenticationType",children:"Authentication Type"}),n.jsxs(Z,{value:e.authenticationType||"",onValueChange:c=>t("authenticationType",c),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select authentication method"})}),n.jsxs(J,{children:[n.jsx(A,{value:"basic",children:"Basic Auth"}),n.jsx(A,{value:"oauth2-bearer",children:"OAuth2 Bearer Token"}),n.jsx(A,{value:"api-key",children:"API Key"}),n.jsx(A,{value:"jwt",children:"JWT"})]})]})]}),e.authenticationType==="basic"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"basicUsername",children:"Username"}),n.jsx(O,{id:"basicUsername",type:"text",placeholder:"Basic auth username",value:e.basicUsername||"",onChange:c=>t("basicUsername",c.target.value)})]}),n.jsx("div",{className:"space-y-2",children:n.jsx(jt,{name:"basicPassword",label:"Password",placeholder:"Basic auth password",value:e.basicPassword||"",onValueChange:c=>t("basicPassword",c),showConfirmation:!1})})]}),e.authenticationType==="oauth2-bearer"&&n.jsx("div",{className:"space-y-2",children:n.jsx(jt,{name:"bearerToken",label:"Bearer Token",placeholder:"OAuth2 bearer token",value:e.bearerToken||"",onValueChange:c=>t("bearerToken",c),showConfirmation:!1})}),e.authenticationType==="api-key"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"apiKeyName",children:"API Key Name"}),n.jsx(O,{id:"apiKeyName",type:"text",placeholder:"API key header name (e.g., X-API-Key)",value:e.apiKeyName||"",onChange:c=>t("apiKeyName",c.target.value)})]}),n.jsx("div",{className:"space-y-2",children:n.jsx(jt,{name:"apiKeyValue",label:"API Key Value",placeholder:"API key value",value:e.apiKeyValue||"",onValueChange:c=>t("apiKeyValue",c),showConfirmation:!1})})]}),e.authenticationType==="jwt"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"jwtToken",children:"JWT Token"}),n.jsx(Se,{id:"jwtToken",placeholder:"JWT token or signing key",value:e.jwtToken||"",onChange:c=>t("jwtToken",c.target.value),className:"min-h-[80px]"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"jwtAlgorithm",children:"JWT Algorithm"}),n.jsxs(Z,{value:e.jwtAlgorithm||"",onValueChange:c=>t("jwtAlgorithm",c),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select JWT algorithm"})}),n.jsxs(J,{children:[n.jsx(A,{value:"HS256",children:"HS256"}),n.jsx(A,{value:"HS384",children:"HS384"}),n.jsx(A,{value:"HS512",children:"HS512"}),n.jsx(A,{value:"RS256",children:"RS256"}),n.jsx(A,{value:"RS384",children:"RS384"}),n.jsx(A,{value:"RS512",children:"RS512"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Response & Error Handling"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"errorHandling",children:"Error Handling"}),n.jsx(Se,{id:"errorHandling",placeholder:"Expected error codes and their meanings",value:e.errorHandling||"",onChange:c=>t("errorHandling",c.target.value),className:"min-h-[80px]"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"retryPolicy",children:"Retry Policy"}),n.jsx(Se,{id:"retryPolicy",placeholder:"Instructions on retries or idempotency",value:e.retryPolicy||"",onChange:c=>t("retryPolicy",c.target.value),className:"min-h-[80px]"})]})]})]})]})})]})}const Pj=({id:e,label:t,value:r,onChange:s,businessComponentId:a,placeholder:o="Select certificate",required:i=!1})=>{const l=[{id:"cert-1",name:"Production SSL Certificate",type:"SSL",issuer:"DigiCert Inc",status:"active",businessComponentId:"bc-1"},{id:"cert-2",name:"Client Authentication Certificate",type:"Client Auth",issuer:"Internal CA",status:"active",businessComponentId:"bc-1"},{id:"cert-3",name:"Development SSL Certificate",type:"SSL",issuer:"Let's Encrypt",status:"active",businessComponentId:"bc-2"}],c=(a?l.filter(u=>u.businessComponentId===a):l).filter(u=>u.status==="active");return n.jsxs("div",{className:"space-y-2",children:[n.jsxs(C,{htmlFor:e,className:"flex items-center gap-1",children:[t,i&&n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs(Z,{value:r,onValueChange:s,children:[n.jsx(Q,{id:e,children:n.jsx(ee,{placeholder:o})}),n.jsx(J,{children:c.length===0?n.jsx(A,{value:"",disabled:!0,children:"No certificates available for this business component"}):c.map(u=>n.jsx(A,{value:u.id,children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-medium",children:u.name}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[u.type," • ",u.issuer]})]})},u.id))})]})]})};function fX({configuration:e,onConfigurationChange:t,businessComponentId:r}){return p.useEffect(()=>{e.processingMode||t("processingMode","ASYNCHRONOUS")},[]),n.jsxs(X,{children:[n.jsxs(re,{children:[n.jsx(ae,{children:"HTTP Receiver Configuration"}),n.jsx(ge,{children:"Configure your HTTP receiver adapter settings"})]}),n.jsx(te,{children:n.jsxs(Ge,{defaultValue:"target",className:"w-full",children:[n.jsxs(qe,{className:"grid w-full grid-cols-2",children:[n.jsx(Ne,{value:"target",children:"Target"}),n.jsx(Ne,{value:"processing",children:"Processing"})]}),n.jsx(ye,{value:"target",className:"space-y-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Connection"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"targetEndpointUrl",children:"Target Endpoint URL"}),n.jsx(O,{id:"targetEndpointUrl",type:"text",placeholder:"Full URL of the 3rd party API endpoint",value:e.targetEndpointUrl||"",onChange:s=>t("targetEndpointUrl",s.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"httpMethod",children:"HTTP Method"}),n.jsxs(Z,{value:e.httpMethod||"",onValueChange:s=>t("httpMethod",s),children:[n.jsx(Q,{className:"bg-background",children:n.jsx(ee,{placeholder:"Select HTTP method"})}),n.jsxs(J,{className:"bg-background border z-50",children:[n.jsx(A,{value:"GET",children:"GET"}),n.jsx(A,{value:"POST",children:"POST"}),n.jsx(A,{value:"PUT",children:"PUT"}),n.jsx(A,{value:"DELETE",children:"DELETE"}),n.jsx(A,{value:"PATCH",children:"PATCH"}),n.jsx(A,{value:"HEAD",children:"HEAD"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"connectionTimeout",children:"Connection Timeout"}),n.jsx(O,{id:"connectionTimeout",type:"number",placeholder:"Max time to wait to establish connection (seconds)",value:e.connectionTimeout||"",onChange:s=>t("connectionTimeout",parseInt(s.target.value)||0)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"readTimeout",children:"Read Timeout"}),n.jsx(O,{id:"readTimeout",type:"number",placeholder:"Max time to wait for response (seconds)",value:e.readTimeout||"",onChange:s=>t("readTimeout",parseInt(s.target.value)||0)})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"useProxy",checked:e.useProxy||!1,onCheckedChange:s=>t("useProxy",s)}),n.jsx(C,{htmlFor:"useProxy",children:"Use Proxy Settings"})]}),e.useProxy&&n.jsxs("div",{className:"grid grid-cols-2 gap-4 ml-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"proxyServer",children:"Server"}),n.jsx(O,{id:"proxyServer",type:"text",placeholder:"Proxy server address",value:e.proxyServer||"",onChange:s=>t("proxyServer",s.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"proxyPort",children:"Port"}),n.jsx(O,{id:"proxyPort",type:"number",placeholder:"Proxy port",value:e.proxyPort||"",onChange:s=>t("proxyPort",parseInt(s.target.value)||0)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"proxyUsername",children:"User Name"}),n.jsx(O,{id:"proxyUsername",type:"text",placeholder:"Proxy username",value:e.proxyUsername||"",onChange:s=>t("proxyUsername",s.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"proxyPassword",children:"Password"}),n.jsx(O,{id:"proxyPassword",type:"password",placeholder:"Proxy password",value:e.proxyPassword||"",onChange:s=>t("proxyPassword",s.target.value)})]})]})]})]})}),n.jsxs(ye,{value:"processing",className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Processing Mode"}),n.jsxs("div",{className:"flex items-center justify-between space-x-4 p-4 border rounded-lg",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(C,{htmlFor:"processingMode",className:"text-sm font-medium",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Asynchronous Processing":"Synchronous Processing"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Fire-and-forget: don't wait for response from target system":"Wait for complete response from target system before continuing flow"})]}),n.jsx(Pa,{id:"processingMode",checked:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS",onCheckedChange:s=>t("processingMode",s?"ASYNCHRONOUS":"SYNCHRONOUS")})]}),(e.processingMode||"ASYNCHRONOUS")==="SYNCHRONOUS"&&n.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"responseTimeout",children:"Response Timeout (ms)"}),n.jsx(O,{id:"responseTimeout",type:"number",placeholder:"30000",value:e.responseTimeout||"",onChange:s=>t("responseTimeout",parseInt(s.target.value)||3e4)})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"waitForResponse",checked:e.waitForResponse!==!1,onCheckedChange:s=>t("waitForResponse",s)}),n.jsx(C,{htmlFor:"waitForResponse",className:"text-sm",children:"Wait for response in synchronous mode"})]})]}),e.processingMode==="ASYNCHRONOUS"&&n.jsx("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"asyncCorrelationId",children:"Correlation ID (Optional)"}),n.jsx(O,{id:"asyncCorrelationId",type:"text",placeholder:"Unique identifier for async processing",value:e.asyncCorrelationId||"",onChange:s=>t("asyncCorrelationId",s.target.value)})]})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Security"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"authenticationType",children:"Authentication Type"}),n.jsxs(Z,{value:e.authenticationType||"",onValueChange:s=>t("authenticationType",s),children:[n.jsx(Q,{className:"bg-background",children:n.jsx(ee,{placeholder:"Select authentication method"})}),n.jsxs(J,{className:"bg-background border z-50",children:[n.jsx(A,{value:"none",children:"None"}),n.jsx(A,{value:"basic",children:"Basic"}),n.jsx(A,{value:"oauth2-client-credentials",children:"OAuth2 Client Credentials"}),n.jsx(A,{value:"client-certificate",children:"Client Certificate"})]})]})]}),e.authenticationType==="basic"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"basicUsername",children:"Username"}),n.jsx(O,{id:"basicUsername",type:"text",placeholder:"Basic auth username",value:e.basicUsername||"",onChange:s=>t("basicUsername",s.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"basicPassword",children:"Password"}),n.jsx(O,{id:"basicPassword",type:"password",placeholder:"Basic auth password",value:e.basicPassword||"",onChange:s=>t("basicPassword",s.target.value)})]})]}),e.authenticationType==="oauth2-client-credentials"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"clientId",children:"Client ID"}),n.jsx(O,{id:"clientId",type:"text",placeholder:"OAuth2 client ID",value:e.clientId||"",onChange:s=>t("clientId",s.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"clientSecret",children:"Client Secret"}),n.jsx(O,{id:"clientSecret",type:"password",placeholder:"OAuth2 client secret",value:e.clientSecret||"",onChange:s=>t("clientSecret",s.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"tokenUrl",children:"Token URL"}),n.jsx(O,{id:"tokenUrl",type:"text",placeholder:"OAuth2 token endpoint URL",value:e.tokenUrl||"",onChange:s=>t("tokenUrl",s.target.value)})]})]}),e.authenticationType==="client-certificate"&&n.jsx("div",{className:"space-y-4",children:n.jsx(Pj,{id:"certificate",label:"Client Certificate",value:e.certificateId||"",onChange:s=>t("certificateId",s),businessComponentId:r,placeholder:"Select client certificate",required:!0})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Request"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"requestHeaders",children:"Request Headers"}),n.jsx(Se,{id:"requestHeaders",placeholder:"Headers to send with the HTTP request",value:e.requestHeaders||"",onChange:s=>t("requestHeaders",s.target.value),className:"min-h-[80px]"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"requestPayloadFormat",children:"Request Payload Format"}),n.jsx(Se,{id:"requestPayloadFormat",placeholder:"Expected format/schema for request body",value:e.requestPayloadFormat||"",onChange:s=>t("requestPayloadFormat",s.target.value),className:"min-h-[80px]"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Response"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"responseHandling",children:"Response Handling"}),n.jsx(Se,{id:"responseHandling",placeholder:"Expected response format and handling logic",value:e.responseHandling||"",onChange:s=>t("responseHandling",s.target.value),className:"min-h-[80px]"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"retryPolicy",children:"Retry Policy"}),n.jsx(Se,{id:"retryPolicy",placeholder:"Rules for retrying failed requests",value:e.retryPolicy||"",onChange:s=>t("retryPolicy",s.target.value),className:"min-h-[80px]"})]})]})]})]})})]})}const xX=["TCP/IP","Gateway"];function gX({configuration:e,onConfigurationChange:t}){return n.jsxs(X,{children:[n.jsxs(re,{children:[n.jsx(ae,{children:"IDOC Sender Configuration"}),n.jsx(ge,{children:"Configure your IDOC sender adapter settings"})]}),n.jsx(te,{children:n.jsxs(Ge,{defaultValue:"source",className:"w-full",children:[n.jsxs(qe,{className:"grid w-full grid-cols-2",children:[n.jsx(Ne,{value:"source",children:"Source"}),n.jsx(Ne,{value:"processing",children:"Processing"})]}),n.jsxs(ye,{value:"source",className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"SAP System Identification"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"sapSystemId",children:"SAP System ID (SID)"}),n.jsx(O,{id:"sapSystemId",type:"text",placeholder:"e.g., PRD, DEV",value:e.sapSystemId||"",onChange:r=>t("sapSystemId",r.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"sapClientNumber",children:"SAP Client Number"}),n.jsx(O,{id:"sapClientNumber",type:"text",placeholder:"Client number within SAP system",value:e.sapClientNumber||"",onChange:r=>t("sapClientNumber",r.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"sapSystemNumber",children:"SAP System Number"}),n.jsx(O,{id:"sapSystemNumber",type:"text",placeholder:"Two-digit SAP system number",value:e.sapSystemNumber||"",onChange:r=>t("sapSystemNumber",r.target.value)})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"Connection Details"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"sapApplicationServerHost",children:"SAP Application Server Host"}),n.jsx(O,{id:"sapApplicationServerHost",type:"text",placeholder:"Hostname or IP of SAP application server",value:e.sapApplicationServerHost||"",onChange:r=>t("sapApplicationServerHost",r.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"sapGatewayHost",children:"SAP Gateway Host"}),n.jsx(O,{id:"sapGatewayHost",type:"text",placeholder:"Hostname/IP of SAP gateway (optional)",value:e.sapGatewayHost||"",onChange:r=>t("sapGatewayHost",r.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"sapGatewayService",children:"SAP Gateway Service"}),n.jsx(O,{id:"sapGatewayService",type:"text",placeholder:"Gateway service/port (optional)",value:e.sapGatewayService||"",onChange:r=>t("sapGatewayService",r.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"portNumber",children:"Port Number"}),n.jsx(O,{id:"portNumber",type:"number",placeholder:"Network port if applicable",value:e.portNumber||"",onChange:r=>t("portNumber",parseInt(r.target.value)||0)})]})]}),n.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"connectionType",children:"Connection Type"}),n.jsxs(Z,{value:e.connectionType||"",onValueChange:r=>t("connectionType",r),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select connection type"})}),n.jsx(J,{children:xX.map(r=>n.jsx(A,{value:r,children:r},r))})]})]})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"Authentication"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"sapUser",children:"SAP User"}),n.jsx(O,{id:"sapUser",type:"text",placeholder:"User ID for RFC connection",value:e.sapUser||"",onChange:r=>t("sapUser",r.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"sapPassword",children:"SAP Password"}),n.jsx(O,{id:"sapPassword",type:"password",placeholder:"Password for RFC user",value:e.sapPassword||"",onChange:r=>t("sapPassword",r.target.value)})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"RFC Destination"}),n.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"rfcDestinationName",children:"RFC Destination Name"}),n.jsx(O,{id:"rfcDestinationName",type:"text",placeholder:"SAP RFC destination (optional)",value:e.rfcDestinationName||"",onChange:r=>t("rfcDestinationName",r.target.value)})]})})]})]}),n.jsxs(ye,{value:"processing",className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"IDoc Transmission"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"idocPort",children:"IDoc Port"}),n.jsx(O,{id:"idocPort",type:"text",placeholder:"Logical port configured in SAP for receiving IDocs from middleware",value:e.idocPort||"",onChange:r=>t("idocPort",r.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"listenerServiceName",children:"Listener Service Name"}),n.jsx(O,{id:"listenerServiceName",type:"text",placeholder:"Middleware service or process name sending the IDoc",value:e.listenerServiceName||"",onChange:r=>t("listenerServiceName",r.target.value)})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"IDoc Identification"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"idocType",children:"IDoc Type"}),n.jsx(O,{id:"idocType",type:"text",placeholder:"e.g., ORDERS05",value:e.idocType||"",onChange:r=>t("idocType",r.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"messageType",children:"Message Type"}),n.jsx(O,{id:"messageType",type:"text",placeholder:"e.g., ORDERS",value:e.messageType||"",onChange:r=>t("messageType",r.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"processCode",children:"Process Code"}),n.jsx(O,{id:"processCode",type:"text",placeholder:"SAP process code used for sending the IDoc",value:e.processCode||"",onChange:r=>t("processCode",r.target.value)})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"Security / Encryption"}),n.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"sncSecuritySettings",children:"SNC / Security Settings"}),n.jsx(Se,{id:"sncSecuritySettings",placeholder:"Secure Network Communications parameters (optional)",value:e.sncSecuritySettings||"",onChange:r=>t("sncSecuritySettings",r.target.value),rows:4})]})})]})]})]})})]})}const vX=["TCP/IP","Gateway"];function yX({configuration:e,onConfigurationChange:t}){return n.jsxs(X,{children:[n.jsxs(re,{children:[n.jsx(ae,{children:"IDOC Receiver Configuration"}),n.jsx(ge,{children:"Configure your IDOC receiver adapter settings"})]}),n.jsx(te,{children:n.jsxs(Ge,{defaultValue:"target",className:"w-full",children:[n.jsxs(qe,{className:"grid w-full grid-cols-2",children:[n.jsx(Ne,{value:"target",children:"Target"}),n.jsx(Ne,{value:"processing",children:"Processing"})]}),n.jsxs(ye,{value:"target",className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"SAP System Identification"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"sapSystemId",children:"SAP System ID (SID)"}),n.jsx(O,{id:"sapSystemId",type:"text",placeholder:"e.g., PRD, DEV",value:e.sapSystemId||"",onChange:r=>t("sapSystemId",r.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"sapClientNumber",children:"SAP Client Number"}),n.jsx(O,{id:"sapClientNumber",type:"text",placeholder:"Client number within SAP system",value:e.sapClientNumber||"",onChange:r=>t("sapClientNumber",r.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"sapSystemNumber",children:"SAP System Number"}),n.jsx(O,{id:"sapSystemNumber",type:"text",placeholder:"Two-digit SAP system number",value:e.sapSystemNumber||"",onChange:r=>t("sapSystemNumber",r.target.value)})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"Connection Details"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"sapApplicationServerHost",children:"SAP Application Server Host"}),n.jsx(O,{id:"sapApplicationServerHost",type:"text",placeholder:"Hostname or IP of SAP application server",value:e.sapApplicationServerHost||"",onChange:r=>t("sapApplicationServerHost",r.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"sapGatewayHost",children:"SAP Gateway Host"}),n.jsx(O,{id:"sapGatewayHost",type:"text",placeholder:"Hostname/IP of SAP gateway (optional)",value:e.sapGatewayHost||"",onChange:r=>t("sapGatewayHost",r.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"sapGatewayService",children:"SAP Gateway Service"}),n.jsx(O,{id:"sapGatewayService",type:"text",placeholder:"Gateway service/port (optional)",value:e.sapGatewayService||"",onChange:r=>t("sapGatewayService",r.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"portNumber",children:"Port Number"}),n.jsx(O,{id:"portNumber",type:"number",placeholder:"Network port if applicable",value:e.portNumber||"",onChange:r=>t("portNumber",parseInt(r.target.value)||0)})]})]}),n.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"connectionType",children:"Connection Type"}),n.jsxs(Z,{value:e.connectionType||"",onValueChange:r=>t("connectionType",r),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select connection type"})}),n.jsx(J,{children:vX.map(r=>n.jsx(A,{value:r,children:r},r))})]})]})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"Authentication"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"sapUser",children:"SAP User"}),n.jsx(O,{id:"sapUser",type:"text",placeholder:"User ID for RFC connection",value:e.sapUser||"",onChange:r=>t("sapUser",r.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"sapPassword",children:"SAP Password"}),n.jsx(O,{id:"sapPassword",type:"password",placeholder:"Password for RFC user",value:e.sapPassword||"",onChange:r=>t("sapPassword",r.target.value)})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"RFC Destination"}),n.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"rfcDestinationName",children:"RFC Destination Name"}),n.jsx(O,{id:"rfcDestinationName",type:"text",placeholder:"SAP RFC destination (optional)",value:e.rfcDestinationName||"",onChange:r=>t("rfcDestinationName",r.target.value)})]})})]})]}),n.jsxs(ye,{value:"processing",className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"IDoc Transmission"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"idocPort",children:"IDoc Port"}),n.jsx(O,{id:"idocPort",type:"text",placeholder:"Logical port configured in SAP for receiving IDocs from middleware",value:e.idocPort||"",onChange:r=>t("idocPort",r.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"listenerServiceName",children:"Listener Service Name"}),n.jsx(O,{id:"listenerServiceName",type:"text",placeholder:"Middleware service or process name sending the IDoc",value:e.listenerServiceName||"",onChange:r=>t("listenerServiceName",r.target.value)})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"IDoc Identification"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"idocType",children:"IDoc Type"}),n.jsx(O,{id:"idocType",type:"text",placeholder:"e.g., ORDERS05",value:e.idocType||"",onChange:r=>t("idocType",r.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"messageType",children:"Message Type"}),n.jsx(O,{id:"messageType",type:"text",placeholder:"e.g., ORDERS",value:e.messageType||"",onChange:r=>t("messageType",r.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"processCode",children:"Process Code"}),n.jsx(O,{id:"processCode",type:"text",placeholder:"SAP process code used for sending the IDoc",value:e.processCode||"",onChange:r=>t("processCode",r.target.value)})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"Security / Encryption"}),n.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"sncSecuritySettings",children:"SNC / Security Settings"}),n.jsx(Se,{id:"sncSecuritySettings",placeholder:"Secure Network Communications parameters (optional)",value:e.sncSecuritySettings||"",onChange:r=>t("sncSecuritySettings",r.target.value),rows:4})]})})]})]})]})})]})}function jX({adapter:e,onUpdate:t}){const r=(s,a)=>{t({...e,configuration:{...e.configuration,[s]:a}})};return n.jsx("div",{className:"space-y-6",children:n.jsxs(Ge,{defaultValue:"source",className:"w-full",children:[n.jsxs(qe,{className:"grid w-full grid-cols-2",children:[n.jsx(Ne,{value:"source",children:"Source"}),n.jsx(Ne,{value:"processing",children:"Processing Details"})]}),n.jsx(ye,{value:"source",className:"space-y-6",children:n.jsxs(X,{children:[n.jsx(re,{children:n.jsx(ae,{children:"Connection Details"})}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"connectionFactoryClass",children:"Connection Factory class"}),n.jsx(O,{id:"connectionFactoryClass",placeholder:"com.ibm.mq.jms.MQConnectionFactory",value:e.configuration.connectionFactoryClass||"",onChange:s=>r("connectionFactoryClass",s.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"queueClass",children:"Queue class"}),n.jsx(O,{id:"queueClass",placeholder:"com.ibm.mq.jms.MQQueue",value:e.configuration.queueClass||"",onChange:s=>r("queueClass",s.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"queueManager",children:"Queue Manager Name *"}),n.jsx(O,{id:"queueManager",placeholder:"QM1",value:e.configuration.queueManager||"",onChange:s=>r("queueManager",s.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"host",children:"Host Name / IP *"}),n.jsx(O,{id:"host",placeholder:"mqserver.example.com",value:e.configuration.host||"",onChange:s=>r("host",s.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"port",children:"Port *"}),n.jsx(O,{id:"port",type:"number",placeholder:"1414",value:e.configuration.port||"",onChange:s=>r("port",parseInt(s.target.value)),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"channel",children:"Channel Name *"}),n.jsx(O,{id:"channel",placeholder:"CHANNEL.SVRCONN",value:e.configuration.channel||"",onChange:s=>r("channel",s.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"connectionFactory",children:"Connection Factory JNDI Name"}),n.jsx(O,{id:"connectionFactory",placeholder:"jms/ConnectionFactory",value:e.configuration.connectionFactory||"",onChange:s=>r("connectionFactory",s.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"transportType",children:"Transport Type *"}),n.jsxs(Z,{value:e.configuration.transportType||"CLIENT",onValueChange:s=>r("transportType",s),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select transport type"})}),n.jsxs(J,{children:[n.jsx(A,{value:"CLIENT",children:"Remote TCP/IP"}),n.jsx(A,{value:"BINDINGS",children:"Local (in-memory)"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"username",children:"User Name"}),n.jsx(O,{id:"username",placeholder:"MQ Username",value:e.configuration.username||"",onChange:s=>r("username",s.target.value)})]}),n.jsx("div",{className:"space-y-2",children:n.jsx(jt,{name:"password",label:"Password",placeholder:"MQ Password",required:!1,value:e.configuration.password||"",onValueChange:s=>r("password",s)})})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"useSSL",checked:e.configuration.useSSL||!1,onCheckedChange:s=>r("useSSL",s)}),n.jsx(C,{htmlFor:"useSSL",children:"Use SSL/TLS"})]}),e.configuration.useSSL&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"sslKeystore",children:"SSL Keystore Path"}),n.jsx(O,{id:"sslKeystore",placeholder:"/path/to/keystore",value:e.configuration.sslKeystore||"",onChange:s=>r("sslKeystore",s.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"sslPassword",children:"SSL Keystore Password"}),n.jsx(O,{id:"sslPassword",type:"password",placeholder:"Keystore Password",value:e.configuration.sslPassword||"",onChange:s=>r("sslPassword",s.target.value)})]})]})]})]})}),n.jsx(ye,{value:"processing",className:"space-y-6",children:n.jsxs(X,{children:[n.jsx(re,{children:n.jsx(ae,{children:"Processing Details"})}),n.jsx(te,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"queueName",children:"Queue Name *"}),n.jsx(O,{id:"queueName",placeholder:"INBOUND.FILE.QUEUE",value:e.configuration.queueName||"",onChange:s=>r("queueName",s.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"destinationType",children:"JMS Destination Type *"}),n.jsxs(Z,{value:e.configuration.destinationType||"",onValueChange:s=>r("destinationType",s),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select destination type"})}),n.jsxs(J,{children:[n.jsx(A,{value:"Queue",children:"Queue"}),n.jsx(A,{value:"Topic",children:"Topic"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"messageSelector",children:"Message Selector"}),n.jsx(O,{id:"messageSelector",placeholder:"JMSType='FileMessage'",value:e.configuration.messageSelector||"",onChange:s=>r("messageSelector",s.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"clientId",children:"Client ID"}),n.jsx(O,{id:"clientId",placeholder:"Optional Client ID",value:e.configuration.clientId||"",onChange:s=>r("clientId",s.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"ackMode",children:"Acknowledgement Mode *"}),n.jsxs(Z,{value:e.configuration.ackMode||"AUTO_ACKNOWLEDGE",onValueChange:s=>r("ackMode",s),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select acknowledgement mode"})}),n.jsxs(J,{children:[n.jsx(A,{value:"AUTO_ACKNOWLEDGE",children:"AUTO_ACKNOWLEDGE"}),n.jsx(A,{value:"CLIENT_ACKNOWLEDGE",children:"CLIENT_ACKNOWLEDGE"})]})]})]})]})})]})})]})})}function wX({adapter:e,onUpdate:t,businessComponentId:r}){const s=(a,o)=>{t({...e,configuration:{...e.configuration,[a]:o}})};return n.jsx("div",{className:"space-y-6",children:n.jsxs(Ge,{defaultValue:"target",className:"w-full",children:[n.jsxs(qe,{className:"grid w-full grid-cols-2",children:[n.jsx(Ne,{value:"target",children:"Target"}),n.jsx(Ne,{value:"processing",children:"Processing Details"})]}),n.jsx(ye,{value:"target",className:"space-y-6",children:n.jsxs(X,{children:[n.jsx(re,{children:n.jsx(ae,{children:"Connection Details"})}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"connectionFactoryClass",children:"Connection Factory class"}),n.jsx(O,{id:"connectionFactoryClass",placeholder:"com.ibm.mq.jms.MQConnectionFactory",value:e.configuration.connectionFactoryClass||"",onChange:a=>s("connectionFactoryClass",a.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"queueClass",children:"Queue class"}),n.jsx(O,{id:"queueClass",placeholder:"com.ibm.mq.jms.MQQueue",value:e.configuration.queueClass||"",onChange:a=>s("queueClass",a.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"queueManager",children:"Queue Manager Name *"}),n.jsx(O,{id:"queueManager",placeholder:"QM1",value:e.configuration.queueManager||"",onChange:a=>s("queueManager",a.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"host",children:"Host Name / IP *"}),n.jsx(O,{id:"host",placeholder:"mqserver.example.com",value:e.configuration.host||"",onChange:a=>s("host",a.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"port",children:"Port *"}),n.jsx(O,{id:"port",type:"number",placeholder:"1414",value:e.configuration.port||"",onChange:a=>s("port",parseInt(a.target.value)),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"channel",children:"Channel Name *"}),n.jsx(O,{id:"channel",placeholder:"CHANNEL.SVRCONN",value:e.configuration.channel||"",onChange:a=>s("channel",a.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"connectionFactory",children:"Connection Factory JNDI Name"}),n.jsx(O,{id:"connectionFactory",placeholder:"jms/ConnectionFactory",value:e.configuration.connectionFactory||"",onChange:a=>s("connectionFactory",a.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"transportType",children:"Transport Type *"}),n.jsxs(Z,{value:e.configuration.transportType||"CLIENT",onValueChange:a=>s("transportType",a),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select transport type"})}),n.jsxs(J,{children:[n.jsx(A,{value:"CLIENT",children:"Remote TCP/IP"}),n.jsx(A,{value:"BINDINGS",children:"Local (in-memory)"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"username",children:"User Name"}),n.jsx(O,{id:"username",placeholder:"MQ Username",value:e.configuration.username||"",onChange:a=>s("username",a.target.value)})]}),n.jsx("div",{className:"space-y-2",children:n.jsx(jt,{name:"password",label:"Password",placeholder:"MQ Password",required:!1,value:e.configuration.password||"",onValueChange:a=>s("password",a)})})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"useSSL",checked:e.configuration.useSSL||!1,onCheckedChange:a=>s("useSSL",a)}),n.jsx(C,{htmlFor:"useSSL",children:"Use SSL/TLS"})]}),e.configuration.useSSL&&n.jsx("div",{className:"space-y-4",children:n.jsx(Pj,{id:"sslCertificate",label:"SSL Certificate",value:e.configuration.sslCertificateId||"",onChange:a=>s("sslCertificateId",a),businessComponentId:r,placeholder:"Select SSL certificate",required:!0})})]})]})}),n.jsx(ye,{value:"processing",className:"space-y-6",children:n.jsxs(X,{children:[n.jsx(re,{children:n.jsx(ae,{children:"Processing Details"})}),n.jsx(te,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"queueName",children:"Queue Name *"}),n.jsx(O,{id:"queueName",placeholder:"INBOUND.FILE.QUEUE",value:e.configuration.queueName||"",onChange:a=>s("queueName",a.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"destinationType",children:"JMS Destination Type *"}),n.jsxs(Z,{value:e.configuration.destinationType||"",onValueChange:a=>s("destinationType",a),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select destination type"})}),n.jsxs(J,{children:[n.jsx(A,{value:"Queue",children:"Queue"}),n.jsx(A,{value:"Topic",children:"Topic"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"messageSelector",children:"Message Selector"}),n.jsx(O,{id:"messageSelector",placeholder:"JMSType='FileMessage'",value:e.configuration.messageSelector||"",onChange:a=>s("messageSelector",a.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"clientId",children:"Client ID"}),n.jsx(O,{id:"clientId",placeholder:"Optional Client ID",value:e.configuration.clientId||"",onChange:a=>s("clientId",a.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"ackMode",children:"Acknowledgement Mode *"}),n.jsxs(Z,{value:e.configuration.ackMode||"AUTO_ACKNOWLEDGE",onValueChange:a=>s("ackMode",a),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select acknowledgement mode"})}),n.jsxs(J,{children:[n.jsx(A,{value:"AUTO_ACKNOWLEDGE",children:"AUTO_ACKNOWLEDGE"}),n.jsx(A,{value:"CLIENT_ACKNOWLEDGE",children:"CLIENT_ACKNOWLEDGE"})]})]})]})]})})]})})]})})}function NX({configuration:e,onConfigurationChange:t}){const{businessComponents:r,loading:s}=Kr(),{structures:a}=xl(),[o,i]=p.useState(""),[l,d]=p.useState([]);return p.useEffect(()=>{e.processingMode||t("processingMode","ASYNCHRONOUS")},[]),p.useEffect(()=>{if(o){const c=a.filter(u=>u.usage==="source");d(c)}else d([])},[o,a]),n.jsxs(X,{children:[n.jsxs(re,{children:[n.jsx(ae,{children:"REST Sender Configuration"}),n.jsx(ge,{children:"Configure your REST sender adapter settings"})]}),n.jsx(te,{children:n.jsxs(Ge,{defaultValue:"source",className:"w-full",children:[n.jsxs(qe,{className:"grid w-full grid-cols-2",children:[n.jsx(Ne,{value:"source",children:"Source"}),n.jsx(Ne,{value:"processing",children:"Processing"})]}),n.jsxs(ye,{value:"source",className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Endpoint Information"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"baseEndpointUrl",children:"Base Endpoint URL"}),n.jsx(O,{id:"baseEndpointUrl",type:"text",placeholder:"https://api.yourdomain.com/integration",value:e.baseEndpointUrl||"",onChange:c=>t("baseEndpointUrl",c.target.value)}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Base URL of your REST API"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"resourcePath",children:"Resource Path"}),n.jsx(O,{id:"resourcePath",type:"text",placeholder:"/orders, /status, /submit",value:e.resourcePath||"",onChange:c=>t("resourcePath",c.target.value)}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Specific REST resource or path"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"apiVersion",children:"API Version"}),n.jsx(O,{id:"apiVersion",type:"text",placeholder:"v1, v2",value:e.apiVersion||"",onChange:c=>t("apiVersion",c.target.value)}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Versioning info for API"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Request Method and Format"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"httpMethod",children:"HTTP Method"}),n.jsxs(Z,{value:e.httpMethod||"",onValueChange:c=>t("httpMethod",c),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select HTTP method"})}),n.jsxs(J,{children:[n.jsx(A,{value:"GET",children:"GET"}),n.jsx(A,{value:"POST",children:"POST"}),n.jsx(A,{value:"PUT",children:"PUT"}),n.jsx(A,{value:"DELETE",children:"DELETE"}),n.jsx(A,{value:"PATCH",children:"PATCH"})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"HTTP verb to call"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"contentType",children:"Content-Type"}),n.jsxs(Z,{value:e.contentType||"",onValueChange:c=>t("contentType",c),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select media type"})}),n.jsxs(J,{children:[n.jsx(A,{value:"application/json",children:"application/json"}),n.jsx(A,{value:"application/xml",children:"application/xml"}),n.jsx(A,{value:"application/x-www-form-urlencoded",children:"application/x-www-form-urlencoded"}),n.jsx(A,{value:"text/plain",children:"text/plain"})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected media type for request"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"acceptType",children:"Accept"}),n.jsxs(Z,{value:e.acceptType||"",onValueChange:c=>t("acceptType",c),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select expected response type"})}),n.jsxs(J,{children:[n.jsx(A,{value:"application/json",children:"application/json"}),n.jsx(A,{value:"application/xml",children:"application/xml"}),n.jsx(A,{value:"text/plain",children:"text/plain"}),n.jsx(A,{value:"text/html",children:"text/html"})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected media type of response"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Request Parameters"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"queryParameters",children:"Query Parameters"}),n.jsx(Se,{id:"queryParameters",placeholder:"?page=1&size=10",value:e.queryParameters||"",onChange:c=>t("queryParameters",c.target.value),className:"min-h-[80px]"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected query params for filtering/pagination"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"timeoutSettings",children:"Timeout Settings (seconds)"}),n.jsx(O,{id:"timeoutSettings",type:"number",placeholder:"30",value:e.timeoutSettings||"",onChange:c=>t("timeoutSettings",c.target.value)}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Connection and read timeout limits"})]})]})]}),n.jsxs(ye,{value:"processing",className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Processing Mode"}),n.jsxs("div",{className:"flex items-center justify-between space-x-4 p-4 border rounded-lg",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(C,{htmlFor:"processingMode",className:"text-sm font-medium",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Asynchronous Processing":"Synchronous Processing"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Return immediate acknowledgment (HTTP 202), process in background":"Wait for complete processing before sending response back to caller"})]}),n.jsx(Pa,{id:"processingMode",checked:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS",onCheckedChange:c=>t("processingMode",c?"ASYNCHRONOUS":"SYNCHRONOUS")})]}),(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"&&n.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"asyncResponseTimeout",children:"Async Response Timeout (ms)"}),n.jsx(O,{id:"asyncResponseTimeout",type:"number",placeholder:"30000",value:e.asyncResponseTimeout||"",onChange:c=>t("asyncResponseTimeout",parseInt(c.target.value)||3e4)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"asyncResponseFormat",children:"Async Response Format"}),n.jsxs(Z,{value:e.asyncResponseFormat||"HTTP_202",onValueChange:c=>t("asyncResponseFormat",c),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select response format"})}),n.jsxs(J,{children:[n.jsx(A,{value:"HTTP_202",children:"HTTP 202 Accepted"}),n.jsx(A,{value:"CUSTOM_RESPONSE",children:"Custom Response"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"asyncCallbackUrl",children:"Callback URL (Optional)"}),n.jsx(O,{id:"asyncCallbackUrl",type:"url",placeholder:"https://callback-endpoint.example.com/webhook",value:e.asyncCallbackUrl||"",onChange:c=>t("asyncCallbackUrl",c.target.value)})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Authentication"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"authenticationType",children:"Authentication Type"}),n.jsxs(Z,{value:e.authenticationType||"",onValueChange:c=>t("authenticationType",c),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select authentication method"})}),n.jsxs(J,{children:[n.jsx(A,{value:"none",children:"None"}),n.jsx(A,{value:"basic",children:"Basic Auth"}),n.jsx(A,{value:"oauth2-bearer",children:"OAuth2 Bearer Token"}),n.jsx(A,{value:"api-key",children:"API Key"})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Security method required"})]}),e.authenticationType==="basic"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"basicUsername",children:"Username"}),n.jsx(O,{id:"basicUsername",type:"text",placeholder:"Basic auth username",value:e.basicUsername||"",onChange:c=>t("basicUsername",c.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"basicPassword",children:"Password"}),n.jsx(O,{id:"basicPassword",type:"password",placeholder:"Basic auth password",value:e.basicPassword||"",onChange:c=>t("basicPassword",c.target.value)})]})]}),e.authenticationType==="oauth2-bearer"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"bearerToken",children:"Bearer Token"}),n.jsx(O,{id:"bearerToken",type:"password",placeholder:"OAuth2 bearer token",value:e.bearerToken||"",onChange:c=>t("bearerToken",c.target.value)})]}),e.authenticationType==="api-key"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"apiKeyName",children:"API Key Name"}),n.jsx(O,{id:"apiKeyName",type:"text",placeholder:"X-API-Key",value:e.apiKeyName||"",onChange:c=>t("apiKeyName",c.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"apiKeyValue",children:"API Key Value"}),n.jsx(O,{id:"apiKeyValue",type:"password",placeholder:"API key value",value:e.apiKeyValue||"",onChange:c=>t("apiKeyValue",c.target.value)})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Payload and Headers"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"businessComponent",children:"Business Component"}),n.jsxs(Z,{value:o,onValueChange:c=>{i(c),t("businessComponentId",c)},disabled:s,children:[n.jsx(Q,{className:"bg-background",children:n.jsx(ee,{placeholder:"Select a business component"})}),n.jsx(J,{className:"bg-background border z-50",children:r.map(c=>n.jsx(A,{value:c.id,children:c.name},c.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"requestPayload",children:"Request Payload"}),n.jsxs(Z,{value:e.requestPayload||"",onValueChange:c=>t("requestPayload",c),disabled:!o||l.length===0,children:[n.jsx(Q,{className:"bg-background",children:n.jsx(ee,{placeholder:"Select request structure"})}),n.jsx(J,{className:"bg-background border z-50",children:l.map(c=>n.jsxs(A,{value:c.id,children:[c.name," (",c.type,")"]},c.id))})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Format JSON or XML schema expected in request body"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"responseFormat",children:"Response Format"}),n.jsxs(Z,{value:e.responseFormat||"",onValueChange:c=>t("responseFormat",c),disabled:!o||l.length===0,children:[n.jsx(Q,{className:"bg-background",children:n.jsx(ee,{placeholder:"Select response structure"})}),n.jsx(J,{className:"bg-background border z-50",children:l.map(c=>n.jsxs(A,{value:c.id,children:[c.name," (",c.type,")"]},c.id))})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Format of API response"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"customHeaders",children:"Headers"}),n.jsx(Se,{id:"customHeaders",placeholder:"X-Correlation-ID: <UUID>",value:e.customHeaders||"",onChange:c=>t("customHeaders",c.target.value),className:"min-h-[80px]"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Required custom HTTP headers"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Error Handling and Throttling"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"errorHandling",children:"Error Handling"}),n.jsx(Se,{id:"errorHandling",placeholder:"4xx/5xx codes, JSON error payload",value:e.errorHandling||"",onChange:c=>t("errorHandling",c.target.value),className:"min-h-[80px]"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected HTTP status codes and error message formats"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"rateLimiting",children:"Rate Limiting / Throttling"}),n.jsx(O,{id:"rateLimiting",type:"text",placeholder:"1000 requests/minute",value:e.rateLimiting||"",onChange:c=>t("rateLimiting",c.target.value)}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Limits on API calls per time interval"})]})]})]})]})})]})}function bX({configuration:e,onConfigurationChange:t}){const{businessComponents:r,loading:s}=Kr(),{structures:a}=xl(),[o,i]=p.useState(""),[l,d]=p.useState([]);return p.useEffect(()=>{e.processingMode||t("processingMode","ASYNCHRONOUS")},[]),p.useEffect(()=>{if(o){const c=a.filter(u=>u.usage==="source");d(c)}else d([])},[o,a]),n.jsxs(X,{children:[n.jsxs(re,{children:[n.jsx(ae,{children:"REST Receiver Configuration"}),n.jsx(ge,{children:"Configure your REST receiver adapter settings"})]}),n.jsx(te,{children:n.jsxs(Ge,{defaultValue:"target",className:"w-full",children:[n.jsxs(qe,{className:"grid w-full grid-cols-2",children:[n.jsx(Ne,{value:"target",children:"Target"}),n.jsx(Ne,{value:"processing",children:"Processing"})]}),n.jsxs(ye,{value:"target",className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Endpoint Information"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"targetEndpointUrl",children:"Target Endpoint URL"}),n.jsx(O,{id:"targetEndpointUrl",type:"text",placeholder:"https://api.thirdparty.com/endpoint",value:e.targetEndpointUrl||"",onChange:c=>t("targetEndpointUrl",c.target.value)}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Full URL of the 3rd party API"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"resourcePath",children:"Resource Path"}),n.jsx(O,{id:"resourcePath",type:"text",placeholder:"/submit, /orders",value:e.resourcePath||"",onChange:c=>t("resourcePath",c.target.value)}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Specific API resource or path"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"apiVersion",children:"API Version"}),n.jsx(O,{id:"apiVersion",type:"text",placeholder:"v1, v2",value:e.apiVersion||"",onChange:c=>t("apiVersion",c.target.value)}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"API version info"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Request Method and Format"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"httpMethod",children:"HTTP Method"}),n.jsxs(Z,{value:e.httpMethod||"",onValueChange:c=>t("httpMethod",c),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select HTTP method"})}),n.jsxs(J,{children:[n.jsx(A,{value:"POST",children:"POST"}),n.jsx(A,{value:"PUT",children:"PUT"}),n.jsx(A,{value:"GET",children:"GET"}),n.jsx(A,{value:"DELETE",children:"DELETE"}),n.jsx(A,{value:"PATCH",children:"PATCH"})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"HTTP verb to use"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"contentType",children:"Content-Type"}),n.jsxs(Z,{value:e.contentType||"",onValueChange:c=>t("contentType",c),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select media type"})}),n.jsxs(J,{children:[n.jsx(A,{value:"application/json",children:"application/json"}),n.jsx(A,{value:"application/xml",children:"application/xml"}),n.jsx(A,{value:"application/x-www-form-urlencoded",children:"application/x-www-form-urlencoded"}),n.jsx(A,{value:"text/plain",children:"text/plain"})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Media type sent in request body"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"acceptType",children:"Accept"}),n.jsxs(Z,{value:e.acceptType||"",onValueChange:c=>t("acceptType",c),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select expected response type"})}),n.jsxs(J,{children:[n.jsx(A,{value:"application/json",children:"application/json"}),n.jsx(A,{value:"application/xml",children:"application/xml"}),n.jsx(A,{value:"text/plain",children:"text/plain"}),n.jsx(A,{value:"text/html",children:"text/html"})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected media type in response"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Request Parameters"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"queryParameters",children:"Query Parameters"}),n.jsx(Se,{id:"queryParameters",placeholder:"?page=1&size=10",value:e.queryParameters||"",onChange:c=>t("queryParameters",c.target.value),className:"min-h-[80px]"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Optional query params for filtering/pagination"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"timeoutSettings",children:"Timeout Settings (seconds)"}),n.jsx(O,{id:"timeoutSettings",type:"number",placeholder:"30",value:e.timeoutSettings||"",onChange:c=>t("timeoutSettings",c.target.value)}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Connection and read timeout limits"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"proxySettings",children:"Proxy Settings"}),n.jsx(Se,{id:"proxySettings",placeholder:"Proxy host, port",value:e.proxySettings||"",onChange:c=>t("proxySettings",c.target.value),className:"min-h-[80px]"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Optional HTTP proxy configuration"})]})]})]}),n.jsxs(ye,{value:"processing",className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Processing Mode"}),n.jsxs("div",{className:"flex items-center justify-between space-x-4 p-4 border rounded-lg",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(C,{htmlFor:"processingMode",className:"text-sm font-medium",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Asynchronous Processing":"Synchronous Processing"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Fire-and-forget: don't wait for response from target system":"Wait for complete response from target system before continuing flow"})]}),n.jsx(Pa,{id:"processingMode",checked:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS",onCheckedChange:c=>t("processingMode",c?"ASYNCHRONOUS":"SYNCHRONOUS")})]}),(e.processingMode||"ASYNCHRONOUS")==="SYNCHRONOUS"&&n.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"responseTimeout",children:"Response Timeout (ms)"}),n.jsx(O,{id:"responseTimeout",type:"number",placeholder:"30000",value:e.responseTimeout||"",onChange:c=>t("responseTimeout",parseInt(c.target.value)||3e4)})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"waitForResponse",checked:e.waitForResponse!==!1,onCheckedChange:c=>t("waitForResponse",c)}),n.jsx(C,{htmlFor:"waitForResponse",className:"text-sm",children:"Wait for response in synchronous mode"})]})]}),e.processingMode==="ASYNCHRONOUS"&&n.jsx("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"asyncCorrelationId",children:"Correlation ID (Optional)"}),n.jsx(O,{id:"asyncCorrelationId",type:"text",placeholder:"Unique identifier for async processing",value:e.asyncCorrelationId||"",onChange:c=>t("asyncCorrelationId",c.target.value)})]})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Authentication"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"authenticationType",children:"Authentication Type"}),n.jsxs(Z,{value:e.authenticationType||"",onValueChange:c=>t("authenticationType",c),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select authentication method"})}),n.jsxs(J,{children:[n.jsx(A,{value:"none",children:"None"}),n.jsx(A,{value:"basic",children:"Basic Auth"}),n.jsx(A,{value:"oauth2-bearer",children:"OAuth2 Bearer Token"}),n.jsx(A,{value:"api-key",children:"API Key"})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Security method for outbound calls"})]}),e.authenticationType==="basic"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"basicUsername",children:"Username"}),n.jsx(O,{id:"basicUsername",type:"text",placeholder:"Basic auth username",value:e.basicUsername||"",onChange:c=>t("basicUsername",c.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"basicPassword",children:"Password"}),n.jsx(O,{id:"basicPassword",type:"password",placeholder:"Basic auth password",value:e.basicPassword||"",onChange:c=>t("basicPassword",c.target.value)})]})]}),e.authenticationType==="oauth2-bearer"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"bearerToken",children:"Bearer Token"}),n.jsx(O,{id:"bearerToken",type:"password",placeholder:"OAuth2 bearer token",value:e.bearerToken||"",onChange:c=>t("bearerToken",c.target.value)})]}),e.authenticationType==="api-key"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"apiKeyName",children:"API Key Name"}),n.jsx(O,{id:"apiKeyName",type:"text",placeholder:"X-API-Key",value:e.apiKeyName||"",onChange:c=>t("apiKeyName",c.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"apiKeyValue",children:"API Key Value"}),n.jsx(O,{id:"apiKeyValue",type:"password",placeholder:"API key value",value:e.apiKeyValue||"",onChange:c=>t("apiKeyValue",c.target.value)})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Payload and Headers"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"businessComponent",children:"Business Component"}),n.jsxs(Z,{value:o,onValueChange:c=>{i(c),t("businessComponentId",c)},disabled:s,children:[n.jsx(Q,{className:"bg-background",children:n.jsx(ee,{placeholder:"Select a business component"})}),n.jsx(J,{className:"bg-background border z-50",children:r.map(c=>n.jsx(A,{value:c.id,children:c.name},c.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"requestPayloadFormat",children:"Request Payload Format"}),n.jsxs(Z,{value:e.requestPayloadFormat||"",onValueChange:c=>t("requestPayloadFormat",c),disabled:!o||l.length===0,children:[n.jsx(Q,{className:"bg-background",children:n.jsx(ee,{placeholder:"Select request structure"})}),n.jsx(J,{className:"bg-background border z-50",children:l.map(c=>n.jsxs(A,{value:c.id,children:[c.name," (",c.type,")"]},c.id))})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Schema and format of data sent"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"responseFormat",children:"Response Format"}),n.jsxs(Z,{value:e.responseFormat||"",onValueChange:c=>t("responseFormat",c),disabled:!o||l.length===0,children:[n.jsx(Q,{className:"bg-background",children:n.jsx(ee,{placeholder:"Select response structure"})}),n.jsx(J,{className:"bg-background border z-50",children:l.map(c=>n.jsxs(A,{value:c.id,children:[c.name," (",c.type,")"]},c.id))})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected format of API response"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"customHeaders",children:"Custom Headers"}),n.jsx(Se,{id:"customHeaders",placeholder:"X-Request-ID, Authorization",value:e.customHeaders||"",onChange:c=>t("customHeaders",c.target.value),className:"min-h-[80px]"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"HTTP headers sent with requests"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Error Handling and Retry"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"errorHandling",children:"Error Handling"}),n.jsx(Se,{id:"errorHandling",placeholder:"HTTP 4xx/5xx codes, error JSON",value:e.errorHandling||"",onChange:c=>t("errorHandling",c.target.value),className:"min-h-[80px]"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected error codes and handling logic"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"retryPolicy",children:"Retry Policy"}),n.jsx(Se,{id:"retryPolicy",placeholder:"Number of retries, backoff strategy",value:e.retryPolicy||"",onChange:c=>t("retryPolicy",c.target.value),className:"min-h-[80px]"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Rules for retrying failed requests"})]})]})]})]})})]})}function SX({configuration:e,onConfigurationChange:t}){var o;p.useEffect(()=>{e.processingMode||t("processingMode","ASYNCHRONOUS")},[]);const r=i=>{t("authentication.type",i),t("authentication.credentials",{})},s=(i,l)=>{var c;const d={...((c=e.authentication)==null?void 0:c.credentials)||{}};d[i]=l,t("authentication.credentials",d)},a=()=>{var d,c;const i=(d=e.authentication)==null?void 0:d.type,l=((c=e.authentication)==null?void 0:c.credentials)||{};switch(i){case"basic":return n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"auth-username",children:"Username"}),n.jsx(O,{id:"auth-username",value:l.username||"",onChange:u=>s("username",u.target.value),placeholder:"Enter username"})]}),n.jsx("div",{className:"space-y-2",children:n.jsx(jt,{name:"auth-password",label:"Password",placeholder:"Enter password",value:l.password||"",onValueChange:u=>s("password",u),showConfirmation:!1})})]});case"ws-security":return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-md font-medium text-muted-foreground",children:"Authentication Credentials"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"auth-username",children:"Username"}),n.jsx(O,{id:"auth-username",value:l.username||"",onChange:u=>s("username",u.target.value),placeholder:"Enter username"})]}),n.jsx("div",{className:"space-y-2",children:n.jsx(jt,{name:"auth-password",label:"Password",placeholder:"Enter password",value:l.password||"",onValueChange:u=>s("password",u),showConfirmation:!1})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"password-type",children:"Password Type"}),n.jsxs(Z,{value:l.passwordType||"digest",onValueChange:u=>s("passwordType",u),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select password type"})}),n.jsxs(J,{children:[n.jsx(A,{value:"digest",children:"Password Digest"}),n.jsx(A,{value:"plaintext",children:"Plain Text"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-md font-medium text-muted-foreground",children:"WS-Security Policies"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"security-policy",children:"Security Policy"}),n.jsxs(Z,{value:l.securityPolicy||"",onValueChange:u=>s("securityPolicy",u),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select security policy"})}),n.jsxs(J,{children:[n.jsx(A,{value:"usernametoken",children:"Username Token Only"}),n.jsx(A,{value:"timestamp",children:"Timestamp"}),n.jsx(A,{value:"usernametoken-timestamp",children:"Username Token + Timestamp"}),n.jsx(A,{value:"sign",children:"Digital Sign"}),n.jsx(A,{value:"encrypt",children:"Encrypt"}),n.jsx(A,{value:"sign-encrypt",children:"Sign + Encrypt"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"ws-addressing",children:"WS-Addressing"}),n.jsxs(Z,{value:l.wsAddressing||"disabled",onValueChange:u=>s("wsAddressing",u),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select WS-Addressing"})}),n.jsxs(J,{children:[n.jsx(A,{value:"disabled",children:"Disabled"}),n.jsx(A,{value:"optional",children:"Optional"}),n.jsx(A,{value:"required",children:"Required"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"timestamp-ttl",children:"Timestamp TTL (seconds)"}),n.jsx(O,{id:"timestamp-ttl",type:"number",value:l.timestampTTL||"",onChange:u=>s("timestampTTL",u.target.value),placeholder:"300"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"security-algorithm",children:"Security Algorithm"}),n.jsxs(Z,{value:l.securityAlgorithm||"",onValueChange:u=>s("securityAlgorithm",u),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select algorithm"})}),n.jsxs(J,{children:[n.jsx(A,{value:"aes128",children:"AES-128"}),n.jsx(A,{value:"aes256",children:"AES-256"}),n.jsx(A,{value:"3des",children:"Triple DES"}),n.jsx(A,{value:"rsa15",children:"RSA 1.5"}),n.jsx(A,{value:"rsa-oaep",children:"RSA-OAEP"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-md font-medium text-muted-foreground",children:"Certificate & Key Management"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"keystore-alias",children:"Private Key Alias"}),n.jsx(O,{id:"keystore-alias",value:l.keystoreAlias||"",onChange:u=>s("keystoreAlias",u.target.value),placeholder:"mykey"})]}),n.jsx("div",{className:"space-y-2",children:n.jsx(jt,{name:"keystore-password",label:"Private Key Password",placeholder:"Enter private key password",value:l.keystorePassword||"",onValueChange:u=>s("keystorePassword",u),showConfirmation:!1})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"certificate-alias",children:"Certificate Alias"}),n.jsx(O,{id:"certificate-alias",value:l.certificateAlias||"",onChange:u=>s("certificateAlias",u.target.value),placeholder:"receiver-cert"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"verify-server-certificate",children:"Verify Server Certificate"}),n.jsxs(Z,{value:l.verifyServerCertificate||"true",onValueChange:u=>s("verifyServerCertificate",u),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select verification"})}),n.jsxs(J,{children:[n.jsx(A,{value:"true",children:"Yes"}),n.jsx(A,{value:"false",children:"No"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-md font-medium text-muted-foreground",children:"Advanced Settings"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"custom-policy",children:"Custom Security Policy"}),n.jsx(Se,{id:"custom-policy",value:l.customPolicy||"",onChange:u=>s("customPolicy",u.target.value),placeholder:"Enter custom WS-Security policy XML if needed",rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"security-token-reference",children:"Security Token Reference"}),n.jsxs(Z,{value:l.securityTokenReference||"binarySecurityToken",onValueChange:u=>s("securityTokenReference",u),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select token reference"})}),n.jsxs(J,{children:[n.jsx(A,{value:"binarySecurityToken",children:"Binary Security Token"}),n.jsx(A,{value:"keyIdentifier",children:"Key Identifier"}),n.jsx(A,{value:"x509Data",children:"X509 Data"}),n.jsx(A,{value:"thumbprint",children:"Thumbprint Reference"})]})]})]})]})]})]});case"oauth":return n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"auth-client-id",children:"Client ID"}),n.jsx(O,{id:"auth-client-id",value:l.clientId||"",onChange:u=>s("clientId",u.target.value),placeholder:"Enter client ID"})]}),n.jsx("div",{className:"space-y-2",children:n.jsx(jt,{name:"auth-client-secret",label:"Client Secret",placeholder:"Enter client secret",value:l.clientSecret||"",onValueChange:u=>s("clientSecret",u),showConfirmation:!1})})]});default:return null}};return n.jsxs(X,{children:[n.jsxs(re,{children:[n.jsx(ae,{children:"SOAP Sender Configuration"}),n.jsx(ge,{children:"Configure your SOAP sender adapter settings"})]}),n.jsx(te,{children:n.jsxs(Ge,{defaultValue:"source",className:"w-full",children:[n.jsxs(qe,{className:"grid w-full grid-cols-2",children:[n.jsx(Ne,{value:"source",children:"Source"}),n.jsx(Ne,{value:"processing",children:"Processing"})]}),n.jsxs(ye,{value:"source",className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Endpoint Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"service-endpoint",children:"Service Endpoint URL"}),n.jsx(O,{id:"service-endpoint",value:e.serviceEndpointUrl||"",onChange:i=>t("serviceEndpointUrl",i.target.value),placeholder:"https://api.yourdomain.com/soap/service"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"wsdl-url",children:"WSDL URL"}),n.jsx(O,{id:"wsdl-url",value:e.wsdlUrl||"",onChange:i=>t("wsdlUrl",i.target.value),placeholder:"https://api.yourdomain.com/soap/service?wsdl"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"soap-action",children:"SOAP Action"}),n.jsx(O,{id:"soap-action",value:e.soapAction||"",onChange:i=>t("soapAction",i.target.value),placeholder:"urn:getOrderDetails"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"soap-version",children:"SOAP Version"}),n.jsxs(Z,{value:e.soapVersion||"",onValueChange:i=>t("soapVersion",i),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select SOAP version"})}),n.jsxs(J,{children:[n.jsx(A,{value:"1.1",children:"SOAP 1.1"}),n.jsx(A,{value:"1.2",children:"SOAP 1.2"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Request Format"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"request-message",children:"Request Message"}),n.jsx(Se,{id:"request-message",value:e.requestMessage||"",onChange:i=>t("requestMessage",i.target.value),placeholder:"XML schema / structure expected in SOAP request",rows:4})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"content-type",children:"Content-Type"}),n.jsxs(Z,{value:e.contentType||"",onValueChange:i=>t("contentType",i),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select content type"})}),n.jsxs(J,{children:[n.jsx(A,{value:"text/xml",children:"text/xml"}),n.jsx(A,{value:"application/soap+xml",children:"application/soap+xml"})]})]})]})]})]})]}),n.jsxs(ye,{value:"processing",className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Processing Mode"}),n.jsxs("div",{className:"flex items-center justify-between space-x-4 p-4 border rounded-lg",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(C,{htmlFor:"processingMode",className:"text-sm font-medium",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Asynchronous Processing":"Synchronous Processing"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Return immediate acknowledgment (HTTP 202), process in background":"Wait for complete processing before sending response back to caller"})]}),n.jsx(Pa,{id:"processingMode",checked:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS",onCheckedChange:i=>t("processingMode",i?"ASYNCHRONOUS":"SYNCHRONOUS")})]}),(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"&&n.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"asyncResponseTimeout",children:"Async Response Timeout (ms)"}),n.jsx(O,{id:"asyncResponseTimeout",type:"number",placeholder:"30000",value:e.asyncResponseTimeout||"",onChange:i=>t("asyncResponseTimeout",parseInt(i.target.value)||3e4)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"asyncResponseFormat",children:"Async Response Format"}),n.jsxs(Z,{value:e.asyncResponseFormat||"HTTP_202",onValueChange:i=>t("asyncResponseFormat",i),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select response format"})}),n.jsxs(J,{children:[n.jsx(A,{value:"HTTP_202",children:"HTTP 202 Accepted"}),n.jsx(A,{value:"CUSTOM_RESPONSE",children:"Custom Response"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"asyncCallbackUrl",children:"Callback URL (Optional)"}),n.jsx(O,{id:"asyncCallbackUrl",type:"url",placeholder:"https://callback-endpoint.example.com/webhook",value:e.asyncCallbackUrl||"",onChange:i=>t("asyncCallbackUrl",i.target.value)})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Authentication & Security"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"auth-type",children:"Authentication Type"}),n.jsxs(Z,{value:((o=e.authentication)==null?void 0:o.type)||"none",onValueChange:r,children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select authentication type"})}),n.jsxs(J,{children:[n.jsx(A,{value:"none",children:"None"}),n.jsx(A,{value:"basic",children:"Basic Auth"}),n.jsx(A,{value:"ws-security",children:"WS-Security UsernameToken"}),n.jsx(A,{value:"oauth",children:"OAuth"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"ws-security-policies",children:"WS-Security Policies:"}),n.jsxs(Z,{value:e.wsSecurityPolicyType||"",onValueChange:i=>t("wsSecurityPolicyType",i),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Define Parameter"})}),n.jsxs(J,{children:[n.jsx(A,{value:"none",children:"None"}),n.jsx(A,{value:"manual",children:"Via Manual Configuration in Channel"})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Security policies applied"})]}),a()]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Headers and Metadata"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"custom-headers",children:"Custom SOAP Headers"}),n.jsx(Se,{id:"custom-headers",value:e.customHeaders||"",onChange:i=>t("customHeaders",i.target.value),placeholder:"Additional headers required by service (WS-Addressing, Custom headers)",rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"fault-handling",children:"SOAP Fault Handling"}),n.jsx(Se,{id:"fault-handling",value:e.faultHandling||"",onChange:i=>t("faultHandling",i.target.value),placeholder:"Expected fault codes and handling logic",rows:3})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Response Format and Error Handling"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"response-message",children:"Response Message"}),n.jsx(Se,{id:"response-message",value:e.responseMessage||"",onChange:i=>t("responseMessage",i.target.value),placeholder:"Expected SOAP response XML schema",rows:4})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"error-handling",children:"Error Handling"}),n.jsx(Se,{id:"error-handling",value:e.errorHandling||"",onChange:i=>t("errorHandling",i.target.value),placeholder:"Expected SOAP fault codes and error handling",rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"timeout",children:"Timeout Settings (seconds)"}),n.jsx(O,{id:"timeout",type:"number",value:e.timeout||"",onChange:i=>t("timeout",parseInt(i.target.value)||0),placeholder:"30"})]})]})]})]})]})})]})}function CX({configuration:e,onConfigurationChange:t,businessComponentId:r}){var i;p.useEffect(()=>{e.processingMode||t("processingMode","ASYNCHRONOUS")},[]);const s=l=>{t("authentication.type",l),t("authentication.credentials",{})},a=(l,d)=>{var u;const c={...((u=e.authentication)==null?void 0:u.credentials)||{}};c[l]=d,t("authentication.credentials",c)},o=()=>{var c,u;const l=(c=e.authentication)==null?void 0:c.type,d=((u=e.authentication)==null?void 0:u.credentials)||{};switch(l){case"basic":return n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"auth-username",children:"Username"}),n.jsx(O,{id:"auth-username",value:d.username||"",onChange:m=>a("username",m.target.value),placeholder:"Enter username"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"auth-password",children:"Password"}),n.jsx(O,{id:"auth-password",type:"password",value:d.password||"",onChange:m=>a("password",m.target.value),placeholder:"Enter password"})]})]});case"ws-security":return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-md font-medium text-muted-foreground",children:"Authentication Credentials"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"auth-username",children:"Username"}),n.jsx(O,{id:"auth-username",value:d.username||"",onChange:m=>a("username",m.target.value),placeholder:"Enter username"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"auth-password",children:"Password"}),n.jsx(O,{id:"auth-password",type:"password",value:d.password||"",onChange:m=>a("password",m.target.value),placeholder:"Enter password"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"password-type",children:"Password Type"}),n.jsxs(Z,{value:d.passwordType||"digest",onValueChange:m=>a("passwordType",m),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select password type"})}),n.jsxs(J,{children:[n.jsx(A,{value:"digest",children:"Password Digest"}),n.jsx(A,{value:"plaintext",children:"Plain Text"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-md font-medium text-muted-foreground",children:"WS-Security Policies"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"security-policy",children:"Security Policy"}),n.jsxs(Z,{value:d.securityPolicy||"",onValueChange:m=>a("securityPolicy",m),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select security policy"})}),n.jsxs(J,{children:[n.jsx(A,{value:"usernametoken",children:"Username Token Only"}),n.jsx(A,{value:"timestamp",children:"Timestamp"}),n.jsx(A,{value:"usernametoken-timestamp",children:"Username Token + Timestamp"}),n.jsx(A,{value:"sign",children:"Digital Sign"}),n.jsx(A,{value:"encrypt",children:"Encrypt"}),n.jsx(A,{value:"sign-encrypt",children:"Sign + Encrypt"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"ws-addressing",children:"WS-Addressing"}),n.jsxs(Z,{value:d.wsAddressing||"disabled",onValueChange:m=>a("wsAddressing",m),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select WS-Addressing"})}),n.jsxs(J,{children:[n.jsx(A,{value:"disabled",children:"Disabled"}),n.jsx(A,{value:"optional",children:"Optional"}),n.jsx(A,{value:"required",children:"Required"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"timestamp-ttl",children:"Timestamp TTL (seconds)"}),n.jsx(O,{id:"timestamp-ttl",type:"number",value:d.timestampTTL||"",onChange:m=>a("timestampTTL",m.target.value),placeholder:"300"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"security-algorithm",children:"Security Algorithm"}),n.jsxs(Z,{value:d.securityAlgorithm||"",onValueChange:m=>a("securityAlgorithm",m),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select algorithm"})}),n.jsxs(J,{children:[n.jsx(A,{value:"aes128",children:"AES-128"}),n.jsx(A,{value:"aes256",children:"AES-256"}),n.jsx(A,{value:"3des",children:"Triple DES"}),n.jsx(A,{value:"rsa15",children:"RSA 1.5"}),n.jsx(A,{value:"rsa-oaep",children:"RSA-OAEP"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-md font-medium text-muted-foreground",children:"Certificate & Key Management"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsx(Pj,{id:"soapCertificate",label:"SOAP Certificate",value:e.certificateId||"",onChange:m=>t("certificateId",m),businessComponentId:r,placeholder:"Select SOAP certificate",required:!0}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"verify-server-certificate",children:"Verify Server Certificate"}),n.jsxs(Z,{value:e.verifyServerCertificate||"true",onValueChange:m=>t("verifyServerCertificate",m),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select verification"})}),n.jsxs(J,{children:[n.jsx(A,{value:"true",children:"Yes"}),n.jsx(A,{value:"false",children:"No"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-md font-medium text-muted-foreground",children:"Advanced Settings"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"custom-policy",children:"Custom Security Policy"}),n.jsx(Se,{id:"custom-policy",value:d.customPolicy||"",onChange:m=>a("customPolicy",m.target.value),placeholder:"Enter custom WS-Security policy XML if needed",rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"security-token-reference",children:"Security Token Reference"}),n.jsxs(Z,{value:d.securityTokenReference||"binarySecurityToken",onValueChange:m=>a("securityTokenReference",m),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select token reference"})}),n.jsxs(J,{children:[n.jsx(A,{value:"binarySecurityToken",children:"Binary Security Token"}),n.jsx(A,{value:"keyIdentifier",children:"Key Identifier"}),n.jsx(A,{value:"x509Data",children:"X509 Data"}),n.jsx(A,{value:"thumbprint",children:"Thumbprint Reference"})]})]})]})]})]})]});case"oauth":return n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"auth-client-id",children:"Client ID"}),n.jsx(O,{id:"auth-client-id",value:d.clientId||"",onChange:m=>a("clientId",m.target.value),placeholder:"Enter client ID"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"auth-client-secret",children:"Client Secret"}),n.jsx(O,{id:"auth-client-secret",type:"password",value:d.clientSecret||"",onChange:m=>a("clientSecret",m.target.value),placeholder:"Enter client secret"})]})]});default:return null}};return n.jsxs(X,{children:[n.jsxs(re,{children:[n.jsx(ae,{children:"SOAP Receiver Configuration"}),n.jsx(ge,{children:"Configure your SOAP receiver adapter settings"})]}),n.jsx(te,{children:n.jsxs(Ge,{defaultValue:"target",className:"w-full",children:[n.jsxs(qe,{className:"grid w-full grid-cols-2",children:[n.jsx(Ne,{value:"target",children:"Target"}),n.jsx(Ne,{value:"processing",children:"Processing"})]}),n.jsxs(ye,{value:"target",className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Endpoint Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"target-endpoint",children:"Target Endpoint URL"}),n.jsx(O,{id:"target-endpoint",value:e.targetEndpointUrl||"",onChange:l=>t("targetEndpointUrl",l.target.value),placeholder:"https://api.thirdparty.com/soap/service"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"wsdl-url",children:"WSDL URL"}),n.jsx(O,{id:"wsdl-url",value:e.wsdlUrl||"",onChange:l=>t("wsdlUrl",l.target.value),placeholder:"https://api.thirdparty.com/soap/service?wsdl"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"soap-action",children:"SOAP Action"}),n.jsx(O,{id:"soap-action",value:e.soapAction||"",onChange:l=>t("soapAction",l.target.value),placeholder:"urn:submitOrder"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"soap-version",children:"SOAP Version"}),n.jsxs(Z,{value:e.soapVersion||"",onValueChange:l=>t("soapVersion",l),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select SOAP version"})}),n.jsxs(J,{children:[n.jsx(A,{value:"1.1",children:"SOAP 1.1"}),n.jsx(A,{value:"1.2",children:"SOAP 1.2"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Request Format"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"request-message",children:"Request Message"}),n.jsx(Se,{id:"request-message",value:e.requestMessage||"",onChange:l=>t("requestMessage",l.target.value),placeholder:"XML schema / structure sent in SOAP request",rows:4})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"content-type",children:"Content-Type"}),n.jsxs(Z,{value:e.contentType||"",onValueChange:l=>t("contentType",l),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select content type"})}),n.jsxs(J,{children:[n.jsx(A,{value:"text/xml",children:"text/xml"}),n.jsx(A,{value:"application/soap+xml",children:"application/soap+xml"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Connection Parameters"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"connection-timeout",children:"Connection Timeout (seconds)"}),n.jsx(O,{id:"connection-timeout",type:"number",value:e.connectionTimeout||"",onChange:l=>t("connectionTimeout",parseInt(l.target.value)||0),placeholder:"30"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"read-timeout",children:"Read Timeout (seconds)"}),n.jsx(O,{id:"read-timeout",type:"number",value:e.readTimeout||"",onChange:l=>t("readTimeout",parseInt(l.target.value)||0),placeholder:"30"})]}),n.jsxs("div",{className:"space-y-2 col-span-2",children:[n.jsx(C,{htmlFor:"proxy-settings",children:"Proxy Settings"}),n.jsx(O,{id:"proxy-settings",value:e.proxySettings||"",onChange:l=>t("proxySettings",l.target.value),placeholder:"Optional proxy hostname and port"})]})]})]})]}),n.jsxs(ye,{value:"processing",className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Processing Mode"}),n.jsxs("div",{className:"flex items-center justify-between space-x-4 p-4 border rounded-lg",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(C,{htmlFor:"processingMode",className:"text-sm font-medium",children:"Asynchronous Processing"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:e.processingMode==="ASYNCHRONOUS"?"Fire-and-forget: don't wait for response from target system":"Wait for complete response from target system before continuing flow"})]}),n.jsx(Pa,{id:"processingMode",checked:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS",onCheckedChange:l=>t("processingMode",l?"ASYNCHRONOUS":"SYNCHRONOUS")})]}),(e.processingMode||"ASYNCHRONOUS")==="SYNCHRONOUS"&&n.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"responseTimeout",children:"Response Timeout (ms)"}),n.jsx(O,{id:"responseTimeout",type:"number",placeholder:"30000",value:e.responseTimeout||"",onChange:l=>t("responseTimeout",parseInt(l.target.value)||3e4)})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"waitForResponse",checked:e.waitForResponse!==!1,onCheckedChange:l=>t("waitForResponse",l)}),n.jsx(C,{htmlFor:"waitForResponse",className:"text-sm",children:"Wait for response in synchronous mode"})]})]}),(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"&&n.jsx("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"asyncCorrelationId",children:"Correlation ID (Optional)"}),n.jsx(O,{id:"asyncCorrelationId",type:"text",placeholder:"Unique identifier for async processing",value:e.asyncCorrelationId||"",onChange:l=>t("asyncCorrelationId",l.target.value)})]})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Authentication & Security"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"auth-type",children:"Authentication Type"}),n.jsxs(Z,{value:((i=e.authentication)==null?void 0:i.type)||"none",onValueChange:s,children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select authentication type"})}),n.jsxs(J,{children:[n.jsx(A,{value:"none",children:"None"}),n.jsx(A,{value:"basic",children:"Basic Auth"}),n.jsx(A,{value:"ws-security",children:"WS-Security UsernameToken"}),n.jsx(A,{value:"oauth",children:"OAuth"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"ws-security-policies",children:"WS-Security Policies:"}),n.jsxs(Z,{value:e.wsSecurityPolicyType||"",onValueChange:l=>t("wsSecurityPolicyType",l),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Define Parameter"})}),n.jsxs(J,{children:[n.jsx(A,{value:"none",children:"None"}),n.jsx(A,{value:"manual",children:"Via Manual Configuration in Channel"})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Security policies applied"})]}),o()]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Headers and Metadata"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"custom-headers",children:"Custom SOAP Headers"}),n.jsx(Se,{id:"custom-headers",value:e.customHeaders||"",onChange:l=>t("customHeaders",l.target.value),placeholder:"Additional SOAP headers required by service (WS-Addressing, Custom headers)",rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"fault-handling",children:"SOAP Fault Handling"}),n.jsx(Se,{id:"fault-handling",value:e.faultHandling||"",onChange:l=>t("faultHandling",l.target.value),placeholder:"Expected fault codes and fault handling logic",rows:3})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Response Format and Error Handling"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"response-message",children:"Response Message"}),n.jsx(Se,{id:"response-message",value:e.responseMessage||"",onChange:l=>t("responseMessage",l.target.value),placeholder:"Expected SOAP response XML schema",rows:4})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"error-handling",children:"Error Handling"}),n.jsx(Se,{id:"error-handling",value:e.errorHandling||"",onChange:l=>t("errorHandling",l.target.value),placeholder:"Expected SOAP fault codes and error handling",rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"retry-policy",children:"Retry Policy"}),n.jsx(Se,{id:"retry-policy",value:e.retryPolicy||"",onChange:l=>t("retryPolicy",l.target.value),placeholder:"Rules for retrying failed SOAP calls (Number of retries, backoff strategy)",rows:3})]})]})]})]})]})})]})}const EX=({configuration:e,onConfigurationChange:t})=>{var s;const r=()=>{var o,i,l,d,c,u,m,h,f,j,x,w,v,g,y,N,b;switch(((o=e.authentication)==null?void 0:o.type)||"none"){case"basic":return n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"username",children:"Username"}),n.jsx(O,{id:"username",value:((l=(i=e.authentication)==null?void 0:i.credentials)==null?void 0:l.username)||"",onChange:E=>{var S;return t("authentication",{...e.authentication,credentials:{...(S=e.authentication)==null?void 0:S.credentials,username:E.target.value}})},placeholder:"Enter username"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"password",children:"Password"}),n.jsx(O,{id:"password",type:"password",value:((c=(d=e.authentication)==null?void 0:d.credentials)==null?void 0:c.password)||"",onChange:E=>{var S;return t("authentication",{...e.authentication,credentials:{...(S=e.authentication)==null?void 0:S.credentials,password:E.target.value}})},placeholder:"Enter password"})]})]});case"oauth2":return n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"clientId",children:"Client ID"}),n.jsx(O,{id:"clientId",value:((m=(u=e.authentication)==null?void 0:u.credentials)==null?void 0:m.clientId)||"",onChange:E=>{var S;return t("authentication",{...e.authentication,credentials:{...(S=e.authentication)==null?void 0:S.credentials,clientId:E.target.value}})},placeholder:"Enter client ID"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"clientSecret",children:"Client Secret"}),n.jsx(O,{id:"clientSecret",type:"password",value:((f=(h=e.authentication)==null?void 0:h.credentials)==null?void 0:f.clientSecret)||"",onChange:E=>{var S;return t("authentication",{...e.authentication,credentials:{...(S=e.authentication)==null?void 0:S.credentials,clientSecret:E.target.value}})},placeholder:"Enter client secret"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"tokenUrl",children:"Token URL"}),n.jsx(O,{id:"tokenUrl",value:((x=(j=e.authentication)==null?void 0:j.credentials)==null?void 0:x.tokenUrl)||"",onChange:E=>{var S;return t("authentication",{...e.authentication,credentials:{...(S=e.authentication)==null?void 0:S.credentials,tokenUrl:E.target.value}})},placeholder:"https://oauth.example.com/token"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"scope",children:"Scope"}),n.jsx(O,{id:"scope",value:((v=(w=e.authentication)==null?void 0:w.credentials)==null?void 0:v.scope)||"",onChange:E=>{var S;return t("authentication",{...e.authentication,credentials:{...(S=e.authentication)==null?void 0:S.credentials,scope:E.target.value}})},placeholder:"read write"})]})]});case"api-key":return n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"apiKey",children:"API Key"}),n.jsx(O,{id:"apiKey",type:"password",value:((y=(g=e.authentication)==null?void 0:g.credentials)==null?void 0:y.apiKey)||"",onChange:E=>{var S;return t("authentication",{...e.authentication,credentials:{...(S=e.authentication)==null?void 0:S.credentials,apiKey:E.target.value}})},placeholder:"Enter API key"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"apiKeyHeader",children:"API Key Header"}),n.jsx(O,{id:"apiKeyHeader",value:((b=(N=e.authentication)==null?void 0:N.credentials)==null?void 0:b.apiKeyHeader)||"X-API-Key",onChange:E=>{var S;return t("authentication",{...e.authentication,credentials:{...(S=e.authentication)==null?void 0:S.credentials,apiKeyHeader:E.target.value}})},placeholder:"X-API-Key"})]})]});default:return null}};return n.jsx("div",{className:"space-y-6",children:n.jsxs(Ge,{defaultValue:"target",className:"w-full",children:[n.jsxs(qe,{className:"grid w-full grid-cols-2",children:[n.jsx(Ne,{value:"target",children:"Target"}),n.jsx(Ne,{value:"processing",children:"Processing"})]}),n.jsx(ye,{value:"target",className:"space-y-6",children:n.jsxs(X,{children:[n.jsxs(re,{children:[n.jsx(ae,{children:"Service Connection"}),n.jsx(ge,{children:"Configure OData service connection parameters"})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"serviceBaseUrl",children:"Service Base URL"}),n.jsx(O,{id:"serviceBaseUrl",value:e.baseUrl||"",onChange:a=>t("baseUrl",a.target.value),placeholder:"https://odata.example.com/service"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Base URL of the OData service"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"entitySetName",children:"Entity Set Name"}),n.jsx(O,{id:"entitySetName",value:e.entitySetName||"",onChange:a=>t("entitySetName",a.target.value),placeholder:"Products, Orders"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Specific OData entity set to query"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"apiVersion",children:"API Version"}),n.jsxs(Z,{value:e.apiVersion||"",onValueChange:a=>t("apiVersion",a),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select OData version"})}),n.jsxs(J,{children:[n.jsx(A,{value:"v2",children:"v2"}),n.jsx(A,{value:"v4",children:"v4"})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"OData protocol version"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"authenticationType",children:"Authentication Type"}),n.jsxs(Z,{value:((s=e.authentication)==null?void 0:s.type)||"none",onValueChange:a=>t("authentication",{type:a,credentials:{}}),children:[n.jsx(Q,{children:n.jsx(ee,{})}),n.jsxs(J,{children:[n.jsx(A,{value:"none",children:"None"}),n.jsx(A,{value:"basic",children:"Basic Auth"}),n.jsx(A,{value:"oauth2",children:"OAuth2"}),n.jsx(A,{value:"api-key",children:"API Key"})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Method to authenticate"})]}),r(),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"queryOptions",children:"Query Options"}),n.jsx(Se,{id:"queryOptions",value:e.queryOptions||"",onChange:a=>t("queryOptions",a.target.value),placeholder:"$filter=Price gt 100&$top=10",rows:3}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"OData query parameters (e.g., $filter, $top)"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"timeout",children:"Timeout Settings (seconds)"}),n.jsx(O,{id:"timeout",type:"number",value:e.timeout||"",onChange:a=>t("timeout",parseInt(a.target.value)||30),placeholder:"30"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Connection and read timeout limits"})]})]})]})}),n.jsx(ye,{value:"processing",className:"space-y-6",children:n.jsxs(X,{children:[n.jsxs(re,{children:[n.jsx(ae,{children:"Data Handling"}),n.jsx(ge,{children:"Configure data processing and validation"})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"dataMappingRules",children:"Data Mapping Rules"}),n.jsx(Se,{id:"dataMappingRules",value:e.dataMappingRules||"",onChange:a=>t("dataMappingRules",a.target.value),placeholder:"Map ProductID to id",rows:4}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Mapping OData fields to middleware objects"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"dataValidationRules",children:"Data Validation Rules"}),n.jsx(Se,{id:"dataValidationRules",value:e.dataValidationRules||"",onChange:a=>t("dataValidationRules",a.target.value),placeholder:"Required fields, format checks",rows:4}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Validation on received data"})]})]})]})})]})})},PX=({configuration:e,onConfigurationChange:t})=>{var s;const r=()=>{var o,i,l,d,c,u,m,h,f,j,x,w,v,g,y,N,b;switch(((o=e.authentication)==null?void 0:o.type)||"none"){case"basic":return n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"username",children:"Username"}),n.jsx(O,{id:"username",value:((l=(i=e.authentication)==null?void 0:i.credentials)==null?void 0:l.username)||"",onChange:E=>{var S;return t("authentication",{...e.authentication,credentials:{...(S=e.authentication)==null?void 0:S.credentials,username:E.target.value}})},placeholder:"Enter username"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"password",children:"Password"}),n.jsx(O,{id:"password",type:"password",value:((c=(d=e.authentication)==null?void 0:d.credentials)==null?void 0:c.password)||"",onChange:E=>{var S;return t("authentication",{...e.authentication,credentials:{...(S=e.authentication)==null?void 0:S.credentials,password:E.target.value}})},placeholder:"Enter password"})]})]});case"oauth2":return n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"clientId",children:"Client ID"}),n.jsx(O,{id:"clientId",value:((m=(u=e.authentication)==null?void 0:u.credentials)==null?void 0:m.clientId)||"",onChange:E=>{var S;return t("authentication",{...e.authentication,credentials:{...(S=e.authentication)==null?void 0:S.credentials,clientId:E.target.value}})},placeholder:"Enter client ID"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"clientSecret",children:"Client Secret"}),n.jsx(O,{id:"clientSecret",type:"password",value:((f=(h=e.authentication)==null?void 0:h.credentials)==null?void 0:f.clientSecret)||"",onChange:E=>{var S;return t("authentication",{...e.authentication,credentials:{...(S=e.authentication)==null?void 0:S.credentials,clientSecret:E.target.value}})},placeholder:"Enter client secret"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"tokenUrl",children:"Token URL"}),n.jsx(O,{id:"tokenUrl",value:((x=(j=e.authentication)==null?void 0:j.credentials)==null?void 0:x.tokenUrl)||"",onChange:E=>{var S;return t("authentication",{...e.authentication,credentials:{...(S=e.authentication)==null?void 0:S.credentials,tokenUrl:E.target.value}})},placeholder:"https://oauth.example.com/token"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"scope",children:"Scope"}),n.jsx(O,{id:"scope",value:((v=(w=e.authentication)==null?void 0:w.credentials)==null?void 0:v.scope)||"",onChange:E=>{var S;return t("authentication",{...e.authentication,credentials:{...(S=e.authentication)==null?void 0:S.credentials,scope:E.target.value}})},placeholder:"read write"})]})]});case"api-key":return n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"apiKey",children:"API Key"}),n.jsx(O,{id:"apiKey",type:"password",value:((y=(g=e.authentication)==null?void 0:g.credentials)==null?void 0:y.apiKey)||"",onChange:E=>{var S;return t("authentication",{...e.authentication,credentials:{...(S=e.authentication)==null?void 0:S.credentials,apiKey:E.target.value}})},placeholder:"Enter API key"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"apiKeyHeader",children:"API Key Header"}),n.jsx(O,{id:"apiKeyHeader",value:((b=(N=e.authentication)==null?void 0:N.credentials)==null?void 0:b.apiKeyHeader)||"X-API-Key",onChange:E=>{var S;return t("authentication",{...e.authentication,credentials:{...(S=e.authentication)==null?void 0:S.credentials,apiKeyHeader:E.target.value}})},placeholder:"X-API-Key"})]})]});default:return null}};return n.jsx("div",{className:"space-y-6",children:n.jsxs(Ge,{defaultValue:"source",className:"w-full",children:[n.jsxs(qe,{className:"grid w-full grid-cols-2",children:[n.jsx(Ne,{value:"source",children:"Source"}),n.jsx(Ne,{value:"processing",children:"Processing"})]}),n.jsx(ye,{value:"source",className:"space-y-6",children:n.jsxs(X,{children:[n.jsxs(re,{children:[n.jsx(ae,{children:"Service Connection"}),n.jsx(ge,{children:"Configure OData service connection parameters"})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"serviceBaseUrl",children:"Service Base URL"}),n.jsx(O,{id:"serviceBaseUrl",value:e.baseUrl||"",onChange:a=>t("baseUrl",a.target.value),placeholder:"https://odata.example.com/service"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Base URL of the OData service"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"entitySetName",children:"Entity Set Name"}),n.jsx(O,{id:"entitySetName",value:e.entitySetName||"",onChange:a=>t("entitySetName",a.target.value),placeholder:"Orders, Customers"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"OData entity set to update/create"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"apiVersion",children:"API Version"}),n.jsxs(Z,{value:e.apiVersion||"",onValueChange:a=>t("apiVersion",a),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select OData version"})}),n.jsxs(J,{children:[n.jsx(A,{value:"v2",children:"v2"}),n.jsx(A,{value:"v4",children:"v4"})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"OData protocol version"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"authenticationType",children:"Authentication Type"}),n.jsxs(Z,{value:((s=e.authentication)==null?void 0:s.type)||"none",onValueChange:a=>t("authentication",{type:a,credentials:{}}),children:[n.jsx(Q,{children:n.jsx(ee,{})}),n.jsxs(J,{children:[n.jsx(A,{value:"none",children:"None"}),n.jsx(A,{value:"basic",children:"Basic Auth"}),n.jsx(A,{value:"oauth2",children:"OAuth2"}),n.jsx(A,{value:"api-key",children:"API Key"})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Authentication method"})]}),r(),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"timeout",children:"Timeout Settings (seconds)"}),n.jsx(O,{id:"timeout",type:"number",value:e.timeout||"",onChange:a=>t("timeout",parseInt(a.target.value)||30),placeholder:"30"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Connection and read timeout limits"})]})]})]})}),n.jsx(ye,{value:"processing",className:"space-y-6",children:n.jsxs(X,{children:[n.jsxs(re,{children:[n.jsx(ae,{children:"Data Preparation"}),n.jsx(ge,{children:"Configure data processing and validation before sending"})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"dataMappingRules",children:"Data Mapping Rules"}),n.jsx(Se,{id:"dataMappingRules",value:e.dataMappingRules||"",onChange:a=>t("dataMappingRules",a.target.value),placeholder:"Map OrderID to OrderId",rows:4}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Mapping middleware objects to OData fields"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"dataValidationRules",children:"Data Validation Rules"}),n.jsx(Se,{id:"dataValidationRules",value:e.dataValidationRules||"",onChange:a=>t("dataValidationRules",a.target.value),placeholder:"Required fields, format checks",rows:4}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Validate data before sending"})]})]})]})})]})})},kX=({configuration:e,onConfigurationChange:t})=>n.jsx("div",{className:"space-y-6",children:n.jsxs(Ge,{defaultValue:"target",className:"w-full",children:[n.jsxs(qe,{className:"grid w-full grid-cols-2",children:[n.jsx(Ne,{value:"target",children:"Target"}),n.jsx(Ne,{value:"processing",children:"Processing"})]}),n.jsxs(ye,{value:"target",className:"space-y-6",children:[n.jsxs(X,{children:[n.jsxs(re,{children:[n.jsx(ae,{children:"SAP System Identification"}),n.jsx(ge,{children:"SAP system connection details"})]}),n.jsx(te,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"sapSystemId",children:"SAP System ID (SID)"}),n.jsx(O,{id:"sapSystemId",value:e.sapSystemId||"",onChange:r=>t("sapSystemId",r.target.value),placeholder:"PRD, DEV"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"SAP system identifier"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"sapClientNumber",children:"SAP Client Number"}),n.jsx(O,{id:"sapClientNumber",value:e.sapClientNumber||"",onChange:r=>t("sapClientNumber",r.target.value),placeholder:"100"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"SAP client number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"sapSystemNumber",children:"SAP System Number"}),n.jsx(O,{id:"sapSystemNumber",value:e.sapSystemNumber||"",onChange:r=>t("sapSystemNumber",r.target.value),placeholder:"00"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Two-digit system number"})]})]})})]}),n.jsxs(X,{children:[n.jsxs(re,{children:[n.jsx(ae,{children:"Connection Details"}),n.jsx(ge,{children:"SAP application server and gateway configuration"})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"sapApplicationServerHost",children:"SAP Application Server Host"}),n.jsx(O,{id:"sapApplicationServerHost",value:e.sapApplicationServerHost||"",onChange:r=>t("sapApplicationServerHost",r.target.value),placeholder:"sapserver.example.com"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Hostname or IP of SAP application server"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"sapGatewayHost",children:"SAP Gateway Host"}),n.jsx(O,{id:"sapGatewayHost",value:e.sapGatewayHost||"",onChange:r=>t("sapGatewayHost",r.target.value),placeholder:"sapgw.example.com"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Gateway host (optional)"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"sapGatewayService",children:"SAP Gateway Service"}),n.jsx(O,{id:"sapGatewayService",value:e.sapGatewayService||"",onChange:r=>t("sapGatewayService",r.target.value),placeholder:"sapgw00"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Gateway service/port (optional)"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"portNumber",children:"Port Number"}),n.jsx(O,{id:"portNumber",type:"number",value:e.portNumber||"",onChange:r=>t("portNumber",r.target.value),placeholder:"3300"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Port number (optional)"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"connectionType",children:"Connection Type"}),n.jsxs(Z,{value:e.connectionType||"",onValueChange:r=>t("connectionType",r),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select connection type"})}),n.jsxs(J,{children:[n.jsx(A,{value:"TCP",children:"TCP/IP"}),n.jsx(A,{value:"Gateway",children:"Gateway"})]})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"TCP/IP or Gateway"})]})]})]})]}),n.jsxs(X,{children:[n.jsxs(re,{children:[n.jsx(ae,{children:"Authentication"}),n.jsx(ge,{children:"SAP user credentials"})]}),n.jsx(te,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"sapUser",children:"SAP User"}),n.jsx(O,{id:"sapUser",value:e.sapUser||"",onChange:r=>t("sapUser",r.target.value),placeholder:"sapuser"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"User for RFC connection"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"sapPassword",children:"SAP Password"}),n.jsx(O,{id:"sapPassword",type:"password",value:e.sapPassword||"",onChange:r=>t("sapPassword",r.target.value),placeholder:"secret"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Password for RFC user"})]})]})})]}),n.jsxs(X,{children:[n.jsxs(re,{children:[n.jsx(ae,{children:"RFC Configuration"}),n.jsx(ge,{children:"RFC-specific settings"})]}),n.jsx(te,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"rfcDestinationName",children:"RFC Destination Name"}),n.jsx(O,{id:"rfcDestinationName",value:e.rfcDestinationName||"",onChange:r=>t("rfcDestinationName",r.target.value),placeholder:"MIDDLEWARE_DEST"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"RFC destination configured in SAP"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"listenerServiceName",children:"Listener Service Name"}),n.jsx(O,{id:"listenerServiceName",value:e.listenerServiceName||"",onChange:r=>t("listenerServiceName",r.target.value),placeholder:"RfcReceiverService"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Middleware service listening for RFC"})]})]})})]})]}),n.jsx(ye,{value:"processing",className:"space-y-6",children:n.jsxs(X,{children:[n.jsxs(re,{children:[n.jsx(ae,{children:"Data Handling"}),n.jsx(ge,{children:"Configuration for handling received RFC data"})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"dataMappingRules",children:"Data Mapping Rules"}),n.jsx(Se,{id:"dataMappingRules",value:e.dataMappingRules||"",onChange:r=>t("dataMappingRules",r.target.value),placeholder:"Map VBELN to SalesOrderNumber",rows:4}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Mapping SAP RFC fields to middleware data structures"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"validationRules",children:"Validation Rules"}),n.jsx(Se,{id:"validationRules",value:e.validationRules||"",onChange:r=>t("validationRules",r.target.value),placeholder:"Mandatory fields, formats",rows:4}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Validation on incoming data"})]})]})]})})]})}),TX=({configuration:e,onConfigurationChange:t})=>n.jsx("div",{className:"space-y-6",children:n.jsxs(Ge,{defaultValue:"source",className:"w-full",children:[n.jsxs(qe,{className:"grid w-full grid-cols-2",children:[n.jsx(Ne,{value:"source",children:"Source"}),n.jsx(Ne,{value:"processing",children:"Processing"})]}),n.jsxs(ye,{value:"source",className:"space-y-6",children:[n.jsxs(X,{children:[n.jsxs(re,{children:[n.jsx(ae,{children:"SAP System Identification"}),n.jsx(ge,{children:"SAP system connection details"})]}),n.jsx(te,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"sapSystemId",children:"SAP System ID (SID)"}),n.jsx(O,{id:"sapSystemId",value:e.sapSystemId||"",onChange:r=>t("sapSystemId",r.target.value),placeholder:"PRD, DEV"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"SAP system identifier"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"sapClientNumber",children:"SAP Client Number"}),n.jsx(O,{id:"sapClientNumber",value:e.sapClientNumber||"",onChange:r=>t("sapClientNumber",r.target.value),placeholder:"100"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"SAP client number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"sapSystemNumber",children:"SAP System Number"}),n.jsx(O,{id:"sapSystemNumber",value:e.sapSystemNumber||"",onChange:r=>t("sapSystemNumber",r.target.value),placeholder:"00"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Two-digit system number"})]})]})})]}),n.jsxs(X,{children:[n.jsxs(re,{children:[n.jsx(ae,{children:"Connection Details"}),n.jsx(ge,{children:"SAP application server and gateway configuration"})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"sapApplicationServerHost",children:"SAP Application Server Host"}),n.jsx(O,{id:"sapApplicationServerHost",value:e.sapApplicationServerHost||"",onChange:r=>t("sapApplicationServerHost",r.target.value),placeholder:"sapserver.example.com"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Hostname or IP of SAP application server"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"sapGatewayHost",children:"SAP Gateway Host"}),n.jsx(O,{id:"sapGatewayHost",value:e.sapGatewayHost||"",onChange:r=>t("sapGatewayHost",r.target.value),placeholder:"sapgw.example.com"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Gateway host (optional)"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"sapGatewayService",children:"SAP Gateway Service"}),n.jsx(O,{id:"sapGatewayService",value:e.sapGatewayService||"",onChange:r=>t("sapGatewayService",r.target.value),placeholder:"sapgw00"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Gateway service/port (optional)"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"portNumber",children:"Port Number"}),n.jsx(O,{id:"portNumber",type:"number",value:e.portNumber||"",onChange:r=>t("portNumber",r.target.value),placeholder:"3300"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Port number (optional)"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"connectionType",children:"Connection Type"}),n.jsxs(Z,{value:e.connectionType||"",onValueChange:r=>t("connectionType",r),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select connection type"})}),n.jsxs(J,{children:[n.jsx(A,{value:"TCP",children:"TCP/IP"}),n.jsx(A,{value:"Gateway",children:"Gateway"})]})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"TCP/IP or Gateway"})]})]})]})]}),n.jsxs(X,{children:[n.jsxs(re,{children:[n.jsx(ae,{children:"Authentication"}),n.jsx(ge,{children:"SAP user credentials"})]}),n.jsx(te,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"sapUser",children:"SAP User"}),n.jsx(O,{id:"sapUser",value:e.sapUser||"",onChange:r=>t("sapUser",r.target.value),placeholder:"sapuser"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"User for RFC connection"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(jt,{name:"sapPassword",label:"SAP Password",placeholder:"secret",value:e.sapPassword||"",onValueChange:r=>t("sapPassword",r),showConfirmation:!1}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Password for RFC user"})]})]})})]}),n.jsxs(X,{children:[n.jsxs(re,{children:[n.jsx(ae,{children:"RFC Configuration"}),n.jsx(ge,{children:"RFC-specific settings"})]}),n.jsx(te,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"rfcDestinationName",children:"RFC Destination Name"}),n.jsx(O,{id:"rfcDestinationName",value:e.rfcDestinationName||"",onChange:r=>t("rfcDestinationName",r.target.value),placeholder:"MIDDLEWARE_DEST"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"RFC destination configured in SAP"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"callerServiceName",children:"Caller Service Name"}),n.jsx(O,{id:"callerServiceName",value:e.callerServiceName||"",onChange:r=>t("callerServiceName",r.target.value),placeholder:"RfcSenderService"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Middleware service calling the RFC"})]})]})})]})]}),n.jsx(ye,{value:"processing",className:"space-y-6",children:n.jsxs(X,{children:[n.jsxs(re,{children:[n.jsx(ae,{children:"Data Preparation"}),n.jsx(ge,{children:"Configuration for preparing data before sending to SAP"})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"dataMappingRules",children:"Data Mapping Rules"}),n.jsx(Se,{id:"dataMappingRules",value:e.dataMappingRules||"",onChange:r=>t("dataMappingRules",r.target.value),placeholder:"Map OrderID to VBELN",rows:4}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Map middleware data to SAP RFC parameters"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"validationRules",children:"Validation Rules"}),n.jsx(Se,{id:"validationRules",value:e.validationRules||"",onChange:r=>t("validationRules",r.target.value),placeholder:"Mandatory fields, formats",rows:4}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Validate data before sending"})]})]})]})})]})}),AX=({configuration:e,onConfigurationChange:t})=>n.jsx("div",{className:"space-y-6",children:n.jsxs(Ge,{defaultValue:"source",className:"w-full",children:[n.jsxs(qe,{className:"grid w-full grid-cols-2",children:[n.jsx(Ne,{value:"source",children:"Source"}),n.jsx(Ne,{value:"processing",children:"Processing"})]}),n.jsxs(ye,{value:"source",className:"space-y-6",children:[n.jsxs(X,{children:[n.jsxs(re,{children:[n.jsx(ae,{children:"Mail Server Connection"}),n.jsx(ge,{children:"Configure connection to the incoming mail server"})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"mailServerHost",children:"Mail Server Host"}),n.jsx(O,{id:"mailServerHost",value:e.mailServerHost||"",onChange:r=>t("mailServerHost",r.target.value),placeholder:"imap.mailserver.com, pop3.mail.com"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Hostname or IP of the incoming mail server"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"mailServerPort",children:"Mail Server Port"}),n.jsx(O,{id:"mailServerPort",type:"number",value:e.mailServerPort||"",onChange:r=>t("mailServerPort",r.target.value),placeholder:"993 for IMAP SSL, 995 for POP3 SSL"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Port number for IMAP/POP3 service"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"mailProtocol",children:"Protocol"}),n.jsxs(Z,{value:e.mailProtocol||"",onValueChange:r=>t("mailProtocol",r),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select mail protocol"})}),n.jsxs(J,{children:[n.jsx(A,{value:"IMAP",children:"IMAP"}),n.jsx(A,{value:"POP3",children:"POP3"})]})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Mail protocol used"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"mailUsername",children:"Username"}),n.jsx(O,{id:"mailUsername",value:e.mailUsername||"",onChange:r=>t("mailUsername",r.target.value),placeholder:"user@example.com"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Mail account username"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(jt,{name:"mailPassword",label:"Password",placeholder:"password",value:e.mailPassword||"",onValueChange:r=>t("mailPassword",r),showConfirmation:!1}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Mail account password"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"useSSLTLS",checked:e.useSSLTLS||!1,onCheckedChange:r=>t("useSSLTLS",r)}),n.jsx(C,{htmlFor:"useSSLTLS",className:"text-sm font-normal",children:"Use SSL/TLS"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable secure connection"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"folderName",children:"Folder Name"}),n.jsx(O,{id:"folderName",value:e.folderName||"INBOX",onChange:r=>t("folderName",r.target.value),placeholder:"INBOX"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Mail folder to poll"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"pollingInterval",children:"Polling Interval (ms)"}),n.jsx(O,{id:"pollingInterval",type:"number",value:e.pollingInterval||"",onChange:r=>t("pollingInterval",r.target.value),placeholder:"60000"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Frequency of checking for new emails"})]})]})]})]}),n.jsxs(X,{children:[n.jsxs(re,{children:[n.jsx(ae,{children:"Message Filtering and Fetching"}),n.jsx(ge,{children:"Configure email search criteria and limits"})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"searchCriteria",children:"Search Criteria"}),n.jsx(O,{id:"searchCriteria",value:e.searchCriteria||"",onChange:r=>t("searchCriteria",r.target.value),placeholder:"UNSEEN or FROM:support@example.com"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Email search/filter criteria (subject, sender, flags)"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"maxMessages",children:"Max Messages"}),n.jsx(O,{id:"maxMessages",type:"number",value:e.maxMessages||"",onChange:r=>t("maxMessages",r.target.value),placeholder:"100"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Maximum number of emails to fetch per poll"})]})]})]})]}),n.jsx(ye,{value:"processing",className:"space-y-6",children:n.jsxs(X,{children:[n.jsxs(re,{children:[n.jsx(ae,{children:"Message Processing"}),n.jsx(ge,{children:"Configure how emails are processed after retrieval"})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"contentHandling",children:"Content Handling"}),n.jsx(Se,{id:"contentHandling",value:e.contentHandling||"",onChange:r=>t("contentHandling",r.target.value),placeholder:"Save attachments, parse body text",rows:3}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"How to handle email content (plain text, HTML, attachments)"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"mailEncoding",children:"Encoding"}),n.jsxs(Z,{value:e.mailEncoding||"",onValueChange:r=>t("mailEncoding",r),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select encoding"})}),n.jsxs(J,{children:[n.jsx(A,{value:"UTF-8",children:"UTF-8"}),n.jsx(A,{value:"ISO-8859-1",children:"ISO-8859-1"}),n.jsx(A,{value:"ASCII",children:"ASCII"})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Character encoding used"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"deleteAfterFetch",checked:e.deleteAfterFetch||!1,onCheckedChange:r=>t("deleteAfterFetch",r)}),n.jsx(C,{htmlFor:"deleteAfterFetch",className:"text-sm font-normal",children:"Delete After Fetch"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Delete emails after processing"})]})]})]})]})})]})}),MX=({configuration:e,onConfigurationChange:t})=>n.jsx("div",{className:"space-y-6",children:n.jsxs(Ge,{defaultValue:"source",className:"w-full",children:[n.jsxs(qe,{className:"grid w-full grid-cols-2",children:[n.jsx(Ne,{value:"source",children:"Source"}),n.jsx(Ne,{value:"processing",children:"Processing"})]}),n.jsx(ye,{value:"source",className:"space-y-6",children:n.jsxs(X,{children:[n.jsxs(re,{children:[n.jsx(ae,{children:"SMTP Server Connection"}),n.jsx(ge,{children:"Configure connection to the SMTP server for sending emails"})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"smtpServerHost",children:"SMTP Server Host"}),n.jsx(O,{id:"smtpServerHost",value:e.smtpServerHost||"",onChange:r=>t("smtpServerHost",r.target.value),placeholder:"smtp.mailserver.com"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Hostname or IP of the SMTP server"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"smtpServerPort",children:"SMTP Server Port"}),n.jsx(O,{id:"smtpServerPort",type:"number",value:e.smtpServerPort||"",onChange:r=>t("smtpServerPort",r.target.value),placeholder:"587 (TLS), 465 (SSL)"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Port number for SMTP service"})]}),n.jsxs("div",{className:"flex items-center space-x-2 pt-7",children:[n.jsx(Ie,{id:"smtpUseSSLTLS",checked:e.smtpUseSSLTLS||!1,onCheckedChange:r=>t("smtpUseSSLTLS",r)}),n.jsx(C,{htmlFor:"smtpUseSSLTLS",className:"text-sm font-normal",children:"Use SSL/TLS"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable secure connection"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"smtpUsername",children:"Username"}),n.jsx(O,{id:"smtpUsername",value:e.smtpUsername||"",onChange:r=>t("smtpUsername",r.target.value),placeholder:"user@example.com"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"SMTP authentication username"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(jt,{name:"smtpPassword",label:"Password",placeholder:"password",value:e.smtpPassword||"",onValueChange:r=>t("smtpPassword",r),showConfirmation:!1}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"SMTP authentication password"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"connectionTimeout",children:"Connection Timeout (ms)"}),n.jsx(O,{id:"connectionTimeout",type:"number",value:e.connectionTimeout||"",onChange:r=>t("connectionTimeout",r.target.value),placeholder:"30000"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Connection timeout in milliseconds"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"readTimeout",children:"Read Timeout (ms)"}),n.jsx(O,{id:"readTimeout",type:"number",value:e.readTimeout||"",onChange:r=>t("readTimeout",r.target.value),placeholder:"30000"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Read timeout in milliseconds"})]})]})]})]})}),n.jsx(ye,{value:"processing",className:"space-y-6",children:n.jsxs(X,{children:[n.jsxs(re,{children:[n.jsx(ae,{children:"Message Preparation"}),n.jsx(ge,{children:"Configure email content and recipients"})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"fromAddress",children:"From Address"}),n.jsx(O,{id:"fromAddress",value:e.fromAddress||"",onChange:r=>t("fromAddress",r.target.value),placeholder:"sender@example.com"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Sender's email address"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"toAddresses",children:"To Addresses"}),n.jsx(Se,{id:"toAddresses",value:e.toAddresses||"",onChange:r=>t("toAddresses",r.target.value),placeholder:"recipient1@example.com, recipient2@example.com",rows:2}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Recipient email addresses (comma-separated)"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"ccAddresses",children:"CC Addresses"}),n.jsx(Se,{id:"ccAddresses",value:e.ccAddresses||"",onChange:r=>t("ccAddresses",r.target.value),placeholder:"cc1@example.com, cc2@example.com",rows:2}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"CC recipients (optional)"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"bccAddresses",children:"BCC Addresses"}),n.jsx(Se,{id:"bccAddresses",value:e.bccAddresses||"",onChange:r=>t("bccAddresses",r.target.value),placeholder:"bcc1@example.com, bcc2@example.com",rows:2}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"BCC recipients (optional)"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"emailSubject",children:"Subject"}),n.jsx(O,{id:"emailSubject",value:e.emailSubject||"",onChange:r=>t("emailSubject",r.target.value),placeholder:"Order Confirmation"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Email subject line"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"emailBody",children:"Body"}),n.jsx(Se,{id:"emailBody",value:e.emailBody||"",onChange:r=>t("emailBody",r.target.value),placeholder:"Email content - plain text or HTML",rows:6}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Email body (plain text or HTML content)"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"emailAttachments",children:"Attachments"}),n.jsx(Se,{id:"emailAttachments",value:e.emailAttachments||"",onChange:r=>t("emailAttachments",r.target.value),placeholder:"PDF, images, etc.",rows:2}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Files to attach"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"emailEncoding",children:"Encoding"}),n.jsxs(Z,{value:e.emailEncoding||"",onValueChange:r=>t("emailEncoding",r),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select encoding"})}),n.jsxs(J,{children:[n.jsx(A,{value:"UTF-8",children:"UTF-8"}),n.jsx(A,{value:"ISO-8859-1",children:"ISO-8859-1"}),n.jsx(A,{value:"ASCII",children:"ASCII"})]})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Character encoding used"})]})]})]})]})})]})});class DX{async createAdapter(t){return ce.post("/adapters",t)}async getAdapters(t){const r=new URLSearchParams;t&&Object.entries(t).forEach(([a,o])=>{o!==void 0&&r.append(a,o.toString())});const s=`/adapters${r.toString()?`?${r.toString()}`:""}`;return ce.get(s)}async getAdapter(t){return ce.get(`/adapters/${t}`)}async updateAdapter(t,r){return ce.put(`/adapters/${t}`,r)}async deleteAdapter(t){return ce.delete(`/adapters/${t}`)}async cloneAdapter(t,r){return ce.post(`/adapters/${t}/clone`,{name:r})}}class RX{async testAdapter(t,r){return ce.post(`/adapters/${t}/test`,{testData:r})}async testAdapterConfiguration(t,r){return ce.post("/adapters/test-config",{configuration:t,type:r})}async validateAdapterConfig(t,r){return ce.post("/adapters/validate-config",{type:t,configuration:r})}}class FX{constructor(){rt(this,"websocket",null);rt(this,"reconnectAttempts",0);rt(this,"maxReconnectAttempts",5);rt(this,"reconnectInterval",3e3);rt(this,"logListeners",[]);rt(this,"statsListeners",[])}async getAdapterStats(t,r){const s=`/adapters/${t}/stats${r?`?timeRange=${r}`:""}`;return ce.get(s)}async getAdapterLogs(t,r){const s=new URLSearchParams;r&&Object.entries(r).forEach(([o,i])=>{i!==void 0&&s.append(o,i.toString())});const a=`/adapters/${t}/logs${s.toString()?`?${s.toString()}`:""}`;return ce.get(a)}connectWebSocket(t){var s;if(((s=this.websocket)==null?void 0:s.readyState)===WebSocket.OPEN)return;const r=`ws://localhost:8080/ws/adapters${t?`/${t}/logs`:"/logs"}`;try{this.websocket=new WebSocket(r),this.websocket.onopen=()=>{console.log("WebSocket connected for adapter monitoring"),this.reconnectAttempts=0},this.websocket.onmessage=a=>{try{const o=JSON.parse(a.data);o.type==="new_log"?this.logListeners.forEach(i=>i(o.log)):o.type==="stats_update"&&this.statsListeners.forEach(i=>i(o.stats))}catch(o){console.error("Error parsing WebSocket message:",o)}},this.websocket.onclose=()=>{console.log("WebSocket connection closed"),this.attemptReconnect(t)},this.websocket.onerror=a=>{console.error("WebSocket error:",a)}}catch(a){console.error("Failed to create WebSocket connection:",a)}}attemptReconnect(t){this.reconnectAttempts<this.maxReconnectAttempts&&(this.reconnectAttempts++,console.log(`Attempting to reconnect WebSocket (${this.reconnectAttempts}/${this.maxReconnectAttempts})`),setTimeout(()=>{this.connectWebSocket(t)},this.reconnectInterval*this.reconnectAttempts))}disconnectWebSocket(){this.websocket&&(this.websocket.close(),this.websocket=null),this.logListeners=[],this.statsListeners=[],this.reconnectAttempts=0}onLogUpdate(t){return this.logListeners.push(t),()=>{const r=this.logListeners.indexOf(t);r>-1&&this.logListeners.splice(r,1)}}onStatsUpdate(t){return this.statsListeners.push(t),()=>{const r=this.statsListeners.indexOf(t);r>-1&&this.statsListeners.splice(r,1)}}sendCommand(t,r){var s;((s=this.websocket)==null?void 0:s.readyState)===WebSocket.OPEN&&this.websocket.send(JSON.stringify({command:t,data:r}))}}class _X{async getAdapterTypes(t){const r=new URLSearchParams;t&&Object.entries(t).forEach(([a,o])=>{o!==void 0&&r.append(a,o.toString())});const s=`/adapters/types${r.toString()?`?${r.toString()}`:""}`;return ce.get(s)}async getAdapterType(t){return ce.get(`/adapters/types/${t}`)}async createAdapterType(t){return ce.post("/adapters/types",t)}async updateAdapterType(t,r){return ce.put(`/adapters/types/${t}`,r)}async deleteAdapterType(t){return ce.delete(`/adapters/types/${t}`)}async cloneAdapterType(t,r){return ce.post(`/adapters/types/${t}/clone`,{name:r})}async getAdapterTypesByCategory(t){return ce.get(`/adapters/types?category=${t}`)}async updateAdapterTypeStatus(t,r){return ce.patch(`/adapters/types/${t}/status`,{isActive:r})}async validateAdapterTypeConfiguration(t,r){return ce.post("/adapters/types/validate",{configuration:t,category:r})}async searchAdapterTypes(t,r){const s=new URLSearchParams({q:t,...(r==null?void 0:r.category)&&{category:r.category},...(r==null?void 0:r.isActive)!==void 0&&{isActive:r.isActive.toString()},page:((r==null?void 0:r.page)||1).toString(),limit:((r==null?void 0:r.limit)||50).toString()});return ce.get(`/adapters/types/search?${s}`)}async getAdapterTypeUsage(t){return ce.get(`/adapters/types/${t}/usage`)}}class OX{constructor(){rt(this,"mockServers",new Map)}async validateAdapter(t){const r=Date.now(),s=[],a=[],o=[];try{const i=this.validateConfiguration(t);i.isValid||(s.push(...i.errors),a.push(...i.warnings)),await this.setupMockServers(t.adapterType);for(const d of t.testScenarios){const c=await this.runTestScenario(t,d);o.push(c),c.status==="failed"&&s.push(`Test '${d.name}' failed: ${c.message}`)}await this.cleanupMockServers(t.adapterType);const l=Date.now()-r;return fh({title:"Adapter Validation Complete",description:`${o.length} tests completed in ${l}ms`,variant:o.some(d=>d.status==="failed")?"destructive":"default"}),{isValid:s.length===0,errors:s,warnings:a,testResults:o}}catch(i){return s.push(`Validation failed: ${i instanceof Error?i.message:"Unknown error"}`),{isValid:!1,errors:s,warnings:a,testResults:o}}}validateConfiguration(t){const r=[],s=[],a=this.getRequiredFields(t.adapterType);for(const o of a)t.configuration[o]||r.push(`Required field '${o}' is missing`);switch(t.adapterType){case"http_sender":case"http_receiver":this.validateHttpConfiguration(t.configuration,r,s);break;case"ftp":case"sftp":this.validateFtpConfiguration(t.configuration,r,s);break;case"jdbc_sender":case"jdbc_receiver":this.validateJdbcConfiguration(t.configuration,r,s);break;case"soap_sender":case"soap_receiver":this.validateSoapConfiguration(t.configuration,r,s);break}return{isValid:r.length===0,errors:r,warnings:s}}validateHttpConfiguration(t,r,s){if(t.url)try{new URL(t.url)}catch{r.push("Invalid URL format")}t.authentication==="basic"&&(!t.username||!t.password)&&r.push("Username and password required for basic authentication"),t.timeout&&(t.timeout<1e3||t.timeout>3e5)&&s.push("Timeout should be between 1000ms and 300000ms")}validateFtpConfiguration(t,r,s){t.host||r.push("FTP host is required"),t.port&&(t.port<1||t.port>65535)&&r.push("Invalid port number"),t.username||s.push("Anonymous FTP access may not be secure")}validateJdbcConfiguration(t,r,s){t.connectionUrl||r.push("JDBC connection URL is required"),t.driverClass||r.push("JDBC driver class is required"),t.connectionUrl&&!t.connectionUrl.startsWith("jdbc:")&&r.push("Invalid JDBC URL format")}validateSoapConfiguration(t,r,s){if(!t.wsdlUrl&&!t.endpointUrl&&r.push("Either WSDL URL or endpoint URL is required"),t.wsdlUrl)try{new URL(t.wsdlUrl)}catch{r.push("Invalid WSDL URL format")}}async runTestScenario(t,r){const s=Date.now();try{switch(r.type){case"connection":return await this.testConnection(t,r);case"authentication":return await this.testAuthentication(t,r);case"data_transmission":return await this.testDataTransmission(t,r);case"error_handling":return await this.testErrorHandling(t,r);default:throw new Error(`Unknown test scenario type: ${r.type}`)}}catch(a){return{testName:r.name,status:"failed",message:a instanceof Error?a.message:"Unknown error",duration:Date.now()-s}}}async testConnection(t,r){const s=Date.now();await new Promise(i=>setTimeout(i,1e3));const a=this.mockServers.get(t.adapterType),o=(a==null?void 0:a.isRunning())??!0;return{testName:r.name,status:o?"passed":"failed",message:o?"Connection successful":"Connection failed",duration:Date.now()-s}}async testAuthentication(t,r){const s=Date.now();await new Promise(o=>setTimeout(o,800));const a=t.configuration.username&&t.configuration.password;return{testName:r.name,status:a?"passed":"failed",message:a?"Authentication successful":"Authentication failed",duration:Date.now()-s}}async testDataTransmission(t,r){const s=Date.now();return await new Promise(a=>setTimeout(a,1500)),{testName:r.name,status:"passed",message:"Data transmission successful",duration:Date.now()-s}}async testErrorHandling(t,r){const s=Date.now();return await new Promise(a=>setTimeout(a,600)),{testName:r.name,status:"passed",message:"Error handling working correctly",duration:Date.now()-s}}async setupMockServers(t){const r=new IX(t);await r.start(),this.mockServers.set(t,r)}async cleanupMockServers(t){const r=this.mockServers.get(t);r&&(await r.stop(),this.mockServers.delete(t))}getRequiredFields(t){return{http_sender:["url","method"],http_receiver:["port"],ftp:["host","port"],sftp:["host","port","username"],jdbc_sender:["connectionUrl","driverClass"],jdbc_receiver:["connectionUrl","driverClass"],soap_sender:["wsdlUrl"],soap_receiver:["wsdlUrl"],rest_sender:["url","method"],rest_receiver:["port"],jms_sender:["connectionFactory","destination"],jms_receiver:["connectionFactory","destination"],mail_sender:["smtpHost","port"],mail_receiver:["host","port"],file:["directory"],rfc_sender:["host","systemNumber"],rfc_receiver:["host","systemNumber"],idoc_sender:["host","systemNumber"],idoc_receiver:["host","systemNumber"],odata_sender:["serviceUrl"],odata_receiver:["serviceUrl"]}[t]||[]}}class IX{constructor(t){rt(this,"running",!1);this.adapterType=t}async start(){await new Promise(t=>setTimeout(t,500)),this.running=!0}async stop(){this.running=!1}isRunning(){return this.running}}const FD=new OX;class LX{constructor(){rt(this,"api");rt(this,"testing");rt(this,"monitoring");rt(this,"types");this.api=new DX,this.testing=new RX,this.monitoring=new FX,this.types=new _X}async createAdapter(...t){return this.api.createAdapter(...t)}async getAdapters(...t){return this.api.getAdapters(...t)}async getAdapter(...t){return this.api.getAdapter(...t)}async updateAdapter(...t){return this.api.updateAdapter(...t)}async deleteAdapter(...t){return this.api.deleteAdapter(...t)}async cloneAdapter(...t){return this.api.cloneAdapter(...t)}async testAdapter(...t){return this.testing.testAdapter(...t)}async testAdapterConfiguration(...t){return this.testing.testAdapterConfiguration(...t)}async validateAdapterConfig(...t){return this.testing.validateAdapterConfig(...t)}async getAdapterStats(...t){return this.monitoring.getAdapterStats(...t)}async getAdapterLogs(...t){return this.monitoring.getAdapterLogs(...t)}async getAdapterTypes(...t){return this.types.getAdapterTypes(...t)}async validateAdapter(t){return FD.validateAdapter(t)}}const _D=new LX,$X=({adapterType:e,configuration:t,children:r})=>{var x,w,v;const[s,a]=p.useState(!1),[o,i]=p.useState(!1),[l,d]=p.useState(null),[c,u]=p.useState(0),m=[{name:"Connection Test",type:"connection",expectedResult:"success"},{name:"Authentication Test",type:"authentication",expectedResult:"success"},{name:"Data Transmission Test",type:"data_transmission",expectedResult:"success"},{name:"Error Handling Test",type:"error_handling",expectedResult:"success"}],h=async()=>{if(!t||Object.keys(t).length===0){fh({title:"Validation Error",description:"No configuration found to validate",variant:"destructive"});return}i(!0),u(0),d(null);try{const g={adapterType:e,configuration:t,testScenarios:m},y=setInterval(()=>{u(b=>Math.min(b+20,90))},500),N=await FD.validateAdapter(g);clearInterval(y),u(100),d(N)}catch(g){fh({title:"Validation Failed",description:g instanceof Error?g.message:"Unknown error occurred",variant:"destructive"})}finally{i(!1),setTimeout(()=>u(0),1e3)}},f=g=>{switch(g){case"passed":return n.jsx(Pn,{className:"h-4 w-4 text-green-500"});case"failed":return n.jsx(ia,{className:"h-4 w-4 text-red-500"});case"warning":return n.jsx(vs,{className:"h-4 w-4 text-yellow-500"});default:return null}},j=g=>{const y={passed:"default",failed:"destructive",warning:"secondary"};return n.jsx(oe,{variant:y[g]||"outline",children:g})};return n.jsxs(wt,{open:s,onOpenChange:a,children:[n.jsx(io,{asChild:!0,children:r}),n.jsxs(xt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[n.jsx(Nt,{children:n.jsxs(bt,{className:"flex items-center gap-2",children:[n.jsx(jw,{className:"h-5 w-5"}),"Adapter Validation - ",e.replace("_"," ").toUpperCase()]})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs(X,{children:[n.jsx(re,{children:n.jsx(ae,{className:"text-lg",children:"Validation Controls"})}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Run comprehensive validation tests for this adapter configuration"}),n.jsx(W,{onClick:h,disabled:o,className:"flex items-center gap-2",children:o?n.jsxs(n.Fragment,{children:[n.jsx(Jt,{className:"h-4 w-4 animate-spin"}),"Validating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(jw,{className:"h-4 w-4"}),"Run Validation"]})})]}),o&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Validation Progress"}),n.jsxs("span",{children:[c,"%"]})]}),n.jsx(fd,{value:c,className:"h-2"})]})]})]}),l&&n.jsxs(X,{children:[n.jsx(re,{children:n.jsxs(ae,{className:"flex items-center gap-2",children:[l.isValid?n.jsx(Pn,{className:"h-5 w-5 text-green-500"}):n.jsx(ia,{className:"h-5 w-5 text-red-500"}),"Validation Results"]})}),n.jsx(te,{children:n.jsxs(Ge,{defaultValue:"summary",className:"w-full",children:[n.jsxs(qe,{children:[n.jsx(Ne,{value:"summary",children:"Summary"}),n.jsx(Ne,{value:"tests",children:"Test Results"}),n.jsx(Ne,{value:"errors",children:"Issues"})]}),n.jsxs(ye,{value:"summary",className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsx(X,{children:n.jsxs(te,{className:"pt-6",children:[n.jsx("div",{className:"text-2xl font-bold text-center",children:((x=l.testResults)==null?void 0:x.filter(g=>g.status==="passed").length)||0}),n.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Passed"})]})}),n.jsx(X,{children:n.jsxs(te,{className:"pt-6",children:[n.jsx("div",{className:"text-2xl font-bold text-center text-red-500",children:((w=l.testResults)==null?void 0:w.filter(g=>g.status==="failed").length)||0}),n.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Failed"})]})}),n.jsx(X,{children:n.jsxs(te,{className:"pt-6",children:[n.jsx("div",{className:"text-2xl font-bold text-center text-yellow-500",children:l.warnings.length}),n.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Warnings"})]})})]}),n.jsx(or,{children:n.jsx(ir,{children:l.isValid?"All validation tests passed successfully. This adapter configuration is ready for deployment.":"Some validation tests failed. Please review the issues before proceeding."})})]}),n.jsx(ye,{value:"tests",className:"space-y-4",children:(v=l.testResults)==null?void 0:v.map((g,y)=>n.jsx(X,{children:n.jsx(te,{className:"pt-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[f(g.status),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",children:g.testName}),n.jsx("p",{className:"text-sm text-muted-foreground",children:g.message})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[j(g.status),g.duration&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:[g.duration,"ms"]})]})]})})},y))}),n.jsxs(ye,{value:"errors",className:"space-y-4",children:[l.errors.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-medium text-red-500",children:"Errors"}),l.errors.map((g,y)=>n.jsxs(or,{variant:"destructive",children:[n.jsx(ia,{className:"h-4 w-4"}),n.jsx(ir,{children:g})]},y))]}),l.warnings.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-medium text-yellow-500",children:"Warnings"}),l.warnings.map((g,y)=>n.jsxs(or,{children:[n.jsx(vs,{className:"h-4 w-4"}),n.jsx(ir,{children:g})]},y))]}),l.errors.length===0&&l.warnings.length===0&&n.jsxs(or,{children:[n.jsx(Pn,{className:"h-4 w-4"}),n.jsx(ir,{children:"No issues found. The adapter configuration is valid."})]})]})]})})]})]})]})]})},$b=[{id:"sms-gateway",name:"SMS Gateway",icon:nI,description:"Send SMS messages via gateway API",category:"SMS",fields:[{name:"provider",label:"SMS Provider",type:"select",required:!0,options:["Twilio","AWS SNS","Nexmo","Custom"]},{name:"apiKey",label:"API Key",type:"password",required:!0,placeholder:"Your API Key"},{name:"apiSecret",label:"API Secret",type:"password",required:!0,placeholder:"Your API Secret"},{name:"endpoint",label:"API Endpoint",type:"text",required:!0,placeholder:"https://api.twilio.com/2010-04-01"},{name:"fromNumber",label:"From Number",type:"text",required:!0,placeholder:"+1234567890"},{name:"region",label:"Region",type:"select",required:!1,options:["US","EU","APAC"]},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]}]},{id:"file",name:"FILE",icon:Ht,description:"File system operations and transfers",category:"File System",fields:[{name:"basePath",label:"Base Path",type:"text",required:!0,placeholder:"/data/files"},{name:"encoding",label:"File Encoding",type:"select",required:!1,options:["UTF-8","ASCII","ISO-8859-1","UTF-16"]},{name:"permissions",label:"File Permissions",type:"text",required:!1,placeholder:"755"},{name:"createDirs",label:"Create Directories",type:"select",required:!1,options:["true","false"]}]},{id:"ftp",name:"FTP",icon:QC,description:"File Transfer Protocol connections",category:"File Transfer",fields:[{name:"host",label:"FTP Host",type:"text",required:!0,placeholder:"ftp.example.com"},{name:"port",label:"Port",type:"number",required:!1,placeholder:"21"},{name:"username",label:"Username",type:"text",required:!0,placeholder:"ftpuser"},{name:"password",label:"Password",type:"password",required:!0,placeholder:"FTP Password"},{name:"passiveMode",label:"Passive Mode",type:"select",required:!1,options:["true","false"]},{name:"transferMode",label:"Transfer Mode",type:"select",required:!1,options:["binary","ascii"]},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]}]},{id:"sftp",name:"SFTP",icon:Qx,description:"Secure File Transfer Protocol",category:"File Transfer",fields:[{name:"host",label:"SFTP Host",type:"text",required:!0,placeholder:"sftp.example.com"},{name:"port",label:"Port",type:"number",required:!1,placeholder:"22"},{name:"username",label:"Username",type:"text",required:!0,placeholder:"sftpuser"},{name:"password",label:"Password",type:"password",required:!1,placeholder:"SFTP Password"},{name:"privateKey",label:"Private Key Path",type:"text",required:!1,placeholder:"/path/to/private/key"},{name:"keyPassphrase",label:"Key Passphrase",type:"password",required:!1,placeholder:"Key passphrase"},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]}]},{id:"http",name:"HTTP",icon:ro,description:"HTTP/HTTPS protocol connections",category:"HTTP",fields:[{name:"protocol",label:"Protocol",type:"select",required:!0,options:["HTTP","HTTPS"]},{name:"url",label:"URL",type:"text",required:!0,placeholder:"https://api.example.com/endpoint"},{name:"method",label:"HTTP Method",type:"select",required:!0,options:["POST","PUT","PATCH","GET"]},{name:"contentType",label:"Content Type",type:"select",required:!0,options:["application/json","application/xml","application/x-www-form-urlencoded"]},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]},{name:"authValue",label:"Auth Value",type:"password",required:!1,placeholder:"Token or credentials"},{name:"timeout",label:"Timeout (ms)",type:"number",required:!1,placeholder:"30000"}]},{id:"rest",name:"REST",icon:ls,description:"REST API integrations",category:"API",fields:[{name:"url",label:"REST API URL",type:"text",required:!0,placeholder:"https://api.example.com/v1/endpoint"},{name:"method",label:"HTTP Method",type:"select",required:!0,options:["POST","PUT","PATCH","GET"]},{name:"contentType",label:"Content Type",type:"select",required:!0,options:["application/json","application/xml","application/x-www-form-urlencoded"]},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]},{name:"authValue",label:"Auth Value",type:"password",required:!1,placeholder:"Token or credentials"},{name:"timeout",label:"Timeout (ms)",type:"number",required:!1,placeholder:"30000"}]},{id:"soap",name:"SOAP",icon:al,description:"SOAP web services integration",category:"Web Services",fields:[{name:"senderAddress",label:"Address",type:"text",required:!0,placeholder:"/UtilitiesDeviceERPSmartMeterRegisterBulkCreateConfirmation",conditionalField:"sender"},{name:"receiverAddress",label:"Target Address",type:"text",required:!0,placeholder:"https://api.example.com/soap",conditionalField:"receiver"},{name:"wsdl",label:"WSDL",type:"select",required:!0,options:["Select WSDL...","UserService.wsdl","PaymentService.wsdl","NotificationService.wsdl"],conditionalField:"receiver"},{name:"receiverAuthentication",label:"Authentication",type:"select",required:!0,options:["None","Basic","Client Certificate","OAuth","OAuth 2"],conditionalField:"receiver"},{name:"username",label:"Username",type:"text",required:!0,placeholder:"Enter username",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"Basic"},{name:"password",label:"Password",type:"password",required:!0,placeholder:"Enter password",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"Basic"},{name:"clientCertificate",label:"Client Certificate",type:"certificate-dropdown",required:!0,conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"Client Certificate"},{name:"oauthClientId",label:"Client ID",type:"text",required:!0,placeholder:"Enter OAuth client ID",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"OAuth"},{name:"oauthClientSecret",label:"Client Secret",type:"password",required:!0,placeholder:"Enter OAuth client secret",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"OAuth"},{name:"oauthTokenUrl",label:"Token URL",type:"text",required:!0,placeholder:"https://auth.example.com/oauth/token",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"OAuth"},{name:"oauth2ClientId",label:"Client ID",type:"text",required:!0,placeholder:"Enter OAuth 2 client ID",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"OAuth 2"},{name:"oauth2ClientSecret",label:"Client Secret",type:"password",required:!0,placeholder:"Enter OAuth 2 client secret",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"OAuth 2"},{name:"oauth2TokenUrl",label:"Token URL",type:"text",required:!0,placeholder:"https://auth.example.com/oauth2/token",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"OAuth 2"},{name:"oauth2Scope",label:"Scope",type:"text",required:!1,placeholder:"read write",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"OAuth 2"},{name:"receiverTimeout",label:"Timeout (seconds)",type:"number",required:!1,placeholder:"30",conditionalField:"receiver"},{name:"connectionType",label:"Connection Type",type:"select",required:!0,options:["Synchronous","Asynchronous"],conditionalField:"receiver"}]},{id:"jms",name:"JMS",icon:an,description:"Java Message Service connections",category:"Messaging",fields:[{name:"driverJar",label:"JMS Driver JAR",type:"jar-selector",required:!0,driverTypeFilter:"Message Queue"},{name:"brokerUrl",label:"Broker URL",type:"text",required:!0,placeholder:"tcp://localhost:61616"},{name:"queueName",label:"Queue Name",type:"text",required:!1,placeholder:"myqueue"},{name:"topicName",label:"Topic Name",type:"text",required:!1,placeholder:"mytopic"},{name:"username",label:"Username",type:"text",required:!1,placeholder:"JMS Username"},{name:"password",label:"Password",type:"password",required:!1,placeholder:"JMS Password"},{name:"connectionFactory",label:"Connection Factory",type:"text",required:!1,placeholder:"ConnectionFactory"},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]}]},{id:"odata",name:"ODATA",icon:lc,description:"Open Data Protocol services",category:"API",fields:[{name:"serviceUrl",label:"Service URL",type:"text",required:!0,placeholder:"https://services.odata.org/V4/service"},{name:"version",label:"OData Version",type:"select",required:!0,options:["V4","V3","V2"]},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","SSL Certificate"]},{name:"authValue",label:"Auth Value",type:"password",required:!1,placeholder:"Token or credentials"},{name:"maxPageSize",label:"Max Page Size",type:"number",required:!1,placeholder:"1000"}]},{id:"idoc",name:"IDOC",icon:qO,description:"SAP Intermediate Document format",category:"SAP",fields:[{name:"sapHost",label:"SAP Host",type:"text",required:!0,placeholder:"sap.example.com"},{name:"systemNumber",label:"System Number",type:"text",required:!0,placeholder:"00"},{name:"client",label:"Client",type:"text",required:!0,placeholder:"100"},{name:"username",label:"Username",type:"text",required:!0,placeholder:"SAP Username"},{name:"password",label:"Password",type:"password",required:!0,placeholder:"SAP Password"},{name:"language",label:"Language",type:"text",required:!1,placeholder:"EN"},{name:"idocType",label:"IDOC Type",type:"text",required:!1,placeholder:"ORDERS05"},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]}]},{id:"jdbc",name:"JDBC",icon:qt,description:"Java Database Connectivity",category:"Database",fields:[{name:"driverJar",label:"JDBC Driver JAR",type:"jar-selector",required:!0,driverTypeFilter:"Database"},{name:"jdbcUrl",label:"JDBC URL",type:"text",required:!0,placeholder:"jdbc:postgresql://localhost:5432/mydb"},{name:"username",label:"Username",type:"text",required:!0,placeholder:"dbuser"},{name:"password",label:"Password",type:"password",required:!0,placeholder:"Database Password"},{name:"maxPoolSize",label:"Max Pool Size",type:"number",required:!1,placeholder:"10"},{name:"connectionTimeout",label:"Connection Timeout (ms)",type:"number",required:!1,placeholder:"30000"}]},{id:"as2",name:"AS2",icon:LO,description:"Applicability Statement 2 protocol",category:"EDI",fields:[{name:"as2Url",label:"AS2 URL",type:"text",required:!0,placeholder:"https://partner.example.com/as2"},{name:"as2From",label:"AS2 From",type:"text",required:!0,placeholder:"MyCompany"},{name:"as2To",label:"AS2 To",type:"text",required:!0,placeholder:"PartnerCompany"},{name:"certificate",label:"Certificate",type:"certificate-dropdown",required:!0,placeholder:"Select certificate"},{name:"encryptionAlgorithm",label:"Encryption Algorithm",type:"select",required:!1,options:["3DES","AES128","AES192","AES256"]},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]}]},{id:"rfc",name:"RFC",icon:WC,description:"SAP Remote Function Call protocol",category:"SAP",fields:[{name:"sapSystemId",label:"SAP System ID (SID)",type:"text",required:!0,placeholder:"PRD, DEV"},{name:"sapClientNumber",label:"SAP Client Number",type:"text",required:!0,placeholder:"100"},{name:"sapSystemNumber",label:"SAP System Number",type:"text",required:!0,placeholder:"00"},{name:"sapApplicationServerHost",label:"SAP Application Server Host",type:"text",required:!0,placeholder:"sapserver.example.com"},{name:"sapUser",label:"SAP User",type:"text",required:!0,placeholder:"sapuser"},{name:"sapPassword",label:"SAP Password",type:"password",required:!0,placeholder:"secret"},{name:"rfcDestinationName",label:"RFC Destination Name",type:"text",required:!0,placeholder:"MIDDLEWARE_DEST"}]},{id:"kafka",name:"KAFKA",icon:no,description:"Apache Kafka messaging platform",category:"Streaming",fields:[{name:"bootstrapServers",label:"Bootstrap Servers",type:"text",required:!0,placeholder:"localhost:9092"},{name:"topicName",label:"Topic Name",type:"text",required:!0,placeholder:"my-topic"},{name:"groupId",label:"Consumer Group ID",type:"text",required:!1,placeholder:"my-consumer-group"},{name:"securityProtocol",label:"Security Protocol",type:"select",required:!1,options:["PLAINTEXT","SSL","SASL_PLAINTEXT","SASL_SSL"]},{name:"saslMechanism",label:"SASL Mechanism",type:"select",required:!1,options:["PLAIN","SCRAM-SHA-256","SCRAM-SHA-512"]},{name:"username",label:"Username",type:"text",required:!1,placeholder:"Kafka Username"},{name:"password",label:"Password",type:"password",required:!1,placeholder:"Kafka Password"},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]}]},{id:"mail",name:"MAIL",icon:cd,description:"Email communication via IMAP/POP3/SMTP",category:"Email",fields:[{name:"mailServerHost",label:"Mail Server Host",type:"text",required:!0,placeholder:"imap.mailserver.com"},{name:"mailServerPort",label:"Mail Server Port",type:"number",required:!0,placeholder:"993"},{name:"mailProtocol",label:"Protocol",type:"select",required:!0,options:["IMAP","POP3"]},{name:"mailUsername",label:"Username",type:"text",required:!0,placeholder:"user@example.com"},{name:"mailPassword",label:"Password",type:"password",required:!0,placeholder:"password"},{name:"useSSLTLS",label:"Use SSL/TLS",type:"checkbox",required:!1},{name:"folderName",label:"Folder Name",type:"text",required:!1,placeholder:"INBOX"}]}],UX=()=>{const[e,t]=p.useState(null),[r,s]=p.useState(""),[a,o]=p.useState(""),[i,l]=p.useState("sender"),[d,c]=p.useState(""),[u,m]=p.useState(!0),[h,f]=p.useState({}),[j,x]=p.useState(!1),[w,v]=p.useState("idle"),[g,y]=p.useState(!1),{toast:N}=Qe(),b=$b.find(T=>T.id===r),E=T=>{switch(T){case"Basic Auth":return[{name:"authUsername",label:"Username",type:"text",required:!0,placeholder:"Enter username"},{name:"authPassword",label:"Password",type:"password",required:!0,placeholder:"Enter password"}];case"Bearer Token":return[{name:"bearerToken",label:"Bearer Token",type:"password",required:!0,placeholder:"Enter bearer token"}];case"API Key":return[{name:"apiKeyValue",label:"API Key",type:"password",required:!0,placeholder:"Enter API key"},{name:"apiKeyLocation",label:"API Key Location",type:"select",required:!0,options:["Header","Query Parameter"]},{name:"apiKeyName",label:"API Key Name",type:"text",required:!0,placeholder:"e.g., X-API-Key or api_key"}];case"OAuth":return[{name:"oauthClientId",label:"Client ID",type:"text",required:!0,placeholder:"Enter client ID"},{name:"oauthClientSecret",label:"Client Secret",type:"password",required:!0,placeholder:"Enter client secret"},{name:"oauthAuthUrl",label:"Authorization URL",type:"text",required:!0,placeholder:"https://auth.example.com/oauth/authorize"},{name:"oauthTokenUrl",label:"Token URL",type:"text",required:!0,placeholder:"https://auth.example.com/oauth/token"},{name:"oauthScope",label:"Scope",type:"text",required:!1,placeholder:"read write"}];case"OAuth 2.0":return[{name:"oauth2ClientId",label:"Client ID",type:"text",required:!0,placeholder:"Enter client ID"},{name:"oauth2ClientSecret",label:"Client Secret",type:"password",required:!0,placeholder:"Enter client secret"},{name:"oauth2AuthUrl",label:"Authorization URL",type:"text",required:!0,placeholder:"https://auth.example.com/oauth2/authorize"},{name:"oauth2TokenUrl",label:"Token URL",type:"text",required:!0,placeholder:"https://auth.example.com/oauth2/token"},{name:"oauth2GrantType",label:"Grant Type",type:"select",required:!0,options:["authorization_code","client_credentials","password","refresh_token"]},{name:"oauth2Scope",label:"Scope",type:"text",required:!1,placeholder:"read write"}];case"SSL Certificate":return[{name:"sslCertPath",label:"Certificate Path",type:"text",required:!0,placeholder:"/path/to/certificate.pem"},{name:"sslKeyPath",label:"Private Key Path",type:"text",required:!0,placeholder:"/path/to/private-key.pem"},{name:"sslKeyPassword",label:"Key Password",type:"password",required:!1,placeholder:"Private key password (if encrypted)"},{name:"sslCaPath",label:"CA Certificate Path",type:"text",required:!1,placeholder:"/path/to/ca-certificate.pem"},{name:"sslVerifyPeer",label:"Verify Peer",type:"select",required:!1,options:["true","false"]}];default:return[]}},S=(T,D)=>{f(k=>({...k,[T]:D}))},P=async()=>{if(!r){N({title:"No Adapter Selected",description:"Please select a communication adapter first",variant:"destructive"});return}x(!0),v("idle");try{await new Promise(D=>setTimeout(D,2e3)),Math.random()>.3?(v("success"),N({title:"Connection Successful",description:`Successfully connected to ${b==null?void 0:b.name}`,variant:"default"})):(v("error"),N({title:"Connection Failed",description:"Please check your configuration and try again",variant:"destructive"}))}catch{v("error"),N({title:"Connection Error",description:"An error occurred while testing the connection",variant:"destructive"})}finally{x(!1)}},_=async()=>{if(!e){N({title:"Validation Error",description:"Please select a customer for this adapter",variant:"destructive"});return}if(!a||!r||!i){N({title:"Validation Error",description:"Please provide adapter name, select a type, and choose adapter mode",variant:"destructive"});return}const D=((b==null?void 0:b.fields.filter($=>!(!$.required||$.conditionalField==="receiver"&&i==="sender"||$.conditionalField==="sender"&&i==="receiver"||$.parentField&&$.parentValue&&h[$.parentField]!==$.parentValue)))||[]).filter($=>!h[$.name]);if(D.length>0){N({title:"Missing Required Fields",description:`Please fill in: ${D.map($=>$.label).join(", ")}`,variant:"destructive"});return}const k=i==="sender"?"SENDER":"RECEIVER",U=i==="sender"?"INBOUND":"OUTBOUND",M={name:a,type:r.toUpperCase(),mode:k,direction:U,description:d,active:u,businessComponentId:e.id,configJson:JSON.stringify(h)};try{const $=await _D.createAdapter(M);$.success?(N({title:"Adapter Saved Successfully",description:`Communication adapter "${a}" has been created`,variant:"default"}),t(null),o(""),l(""),c(""),m(!0),s(""),f({}),v("idle")):N({title:"Save Failed",description:$.error||"Failed to save adapter configuration",variant:"destructive"})}catch($){console.error("Error saving adapter:",$),N({title:"Save Error",description:"An error occurred while saving the adapter",variant:"destructive"})}};return n.jsxs(n.Fragment,{children:[g&&n.jsx(vj,{onClose:()=>y(!1)}),n.jsxs("div",{className:"p-6 space-y-6 animate-fade-in",children:[n.jsxs("div",{className:"animate-slide-up",children:[n.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[n.jsx(e2,{className:"h-8 w-8"}),"Create Communication Adapter"]}),n.jsx("p",{className:"text-muted-foreground",children:"Configure communication channels for sending messages, emails, and notifications"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsx(dX,{selectedBusinessComponent:e,setSelectedBusinessComponent:t}),n.jsxs(X,{className:"animate-scale-in",children:[n.jsxs(re,{children:[n.jsx(ae,{children:"Adapter Details"}),n.jsx(ge,{children:"Basic information for your communication adapter"})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"adapterName",children:"Adapter Name *"}),n.jsx(O,{id:"adapterName",placeholder:"e.g., Production Email Server",value:a,onChange:T=>o(T.target.value),className:"transition-all duration-300 focus:scale-[1.01]"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"description",children:"Description"}),n.jsx(Se,{id:"description",placeholder:"Describe the purpose of this communication adapter...",value:d,onChange:T=>c(T.target.value),className:"transition-all duration-300 focus:scale-[1.01]",rows:3})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"isActive",checked:u,onCheckedChange:T=>m(T===!0)}),n.jsxs(C,{htmlFor:"isActive",className:"text-sm font-normal flex items-center gap-1",children:["Active adapter",n.jsx(oe,{variant:u?"default":"secondary",className:"text-xs",children:u?"Active":"Inactive"})]})]})]})]}),n.jsxs(X,{className:"animate-scale-in",style:{animationDelay:"0.1s"},children:[n.jsxs(re,{children:[n.jsx(ae,{children:"Adapter Type Selection"}),n.jsx(ge,{children:"Choose the type of communication adapter to configure"})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"adapterType",children:"Adapter Type *"}),n.jsx(oX,{options:$b.map(T=>({value:T.id,label:T.name,icon:T.icon,category:T.category,description:T.description})),value:r,onValueChange:T=>{s(T),f({})},placeholder:"Select communication adapter type",searchPlaceholder:"Search adapters...",emptyMessage:"No adapter found.",className:"transition-all duration-300 hover:bg-accent/50"})]}),b&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(b.icon,{className:"h-4 w-4 text-primary"}),n.jsx("span",{className:"font-medium",children:b.name}),n.jsx(oe,{variant:"outline",className:"text-xs",children:b.category})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:b.description})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"adapterMode",children:"Adapter Mode *"}),n.jsxs(Z,{value:i,onValueChange:T=>{l(T),f({})},children:[n.jsx(Q,{className:"transition-all duration-300 hover:bg-accent/50",children:n.jsx(ee,{placeholder:"Select adapter mode"})}),n.jsxs(J,{children:[n.jsx(A,{value:"sender",children:"Sender"}),n.jsx(A,{value:"receiver",children:"Receiver"})]})]})]})]})]})]}),b&&i&&n.jsx(n.Fragment,{children:r==="ftp"?n.jsx(uX,{mode:i,onConfigChange:f}):r==="sftp"?n.jsx(hX,{mode:i,onConfigChange:f}):r==="file"?n.jsx(mX,{mode:i,onConfigChange:f}):r==="http"&&i==="sender"?n.jsx(pX,{configuration:h,onConfigurationChange:(T,D)=>S(T,D)}):r==="http"&&i==="receiver"?n.jsx(fX,{configuration:h,onConfigurationChange:(T,D)=>S(T,D)}):r==="idoc"&&i==="sender"?n.jsx(gX,{configuration:h,onConfigurationChange:(T,D)=>S(T,D)}):r==="idoc"&&i==="receiver"?n.jsx(yX,{configuration:h,onConfigurationChange:(T,D)=>S(T,D)}):r==="jms"&&i==="sender"?n.jsx(jX,{adapter:{name:"",type:"jms",mode:"outbound",configuration:h,status:"inactive"},onUpdate:T=>f(T.configuration)}):r==="jms"&&i==="receiver"?n.jsx(wX,{adapter:{name:"",type:"jms",mode:"inbound",configuration:h,status:"inactive"},onUpdate:T=>f(T.configuration)}):r==="rest"&&i==="sender"?n.jsx(NX,{configuration:h,onConfigurationChange:(T,D)=>S(T,D)}):r==="rest"&&i==="receiver"?n.jsx(bX,{configuration:h,onConfigurationChange:(T,D)=>S(T,D)}):r==="soap"&&i==="sender"?n.jsx(SX,{configuration:h,onConfigurationChange:(T,D)=>S(T,D)}):r==="soap"&&i==="receiver"?n.jsx(CX,{configuration:h,onConfigurationChange:(T,D)=>S(T,D)}):r==="odata"&&i==="sender"?n.jsx(PX,{configuration:h,onConfigurationChange:(T,D)=>S(T,D)}):r==="odata"&&i==="receiver"?n.jsx(EX,{configuration:h,onConfigurationChange:(T,D)=>S(T,D)}):r==="rfc"&&i==="sender"?n.jsx(TX,{configuration:h,onConfigurationChange:(T,D)=>S(T,D)}):r==="rfc"&&i==="receiver"?n.jsx(kX,{configuration:h,onConfigurationChange:(T,D)=>S(T,D)}):r==="mail"&&i==="sender"?n.jsx(MX,{configuration:h,onConfigurationChange:(T,D)=>S(T,D)}):r==="mail"&&i==="receiver"?n.jsx(AX,{configuration:h,onConfigurationChange:(T,D)=>S(T,D)}):n.jsxs(X,{className:"animate-scale-in",style:{animationDelay:"0.2s"},children:[n.jsxs(re,{children:[n.jsxs(ae,{className:"flex items-center gap-2",children:[n.jsx(b.icon,{className:"h-5 w-5"}),b.name," Configuration"]}),n.jsx(ge,{children:"Configure the connection parameters and authentication"})]}),n.jsx(te,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.fields.filter(T=>!(T.conditionalField==="receiver"&&i==="sender"||T.conditionalField==="sender"&&i==="receiver"||T.parentField&&T.parentValue&&h[T.parentField]!==T.parentValue)).map(T=>{var D;return n.jsx("div",{className:T.name==="url"||T.name==="webhookUrl"||T.name==="customHeaders"||T.type==="password"?"md:col-span-2":"",children:T.type==="jar-selector"?n.jsxs(n.Fragment,{children:[n.jsxs(C,{htmlFor:T.name,className:"flex items-center gap-1",children:[T.label,T.required&&n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(cX,{selectedJarId:h[T.name]||"",onJarSelect:k=>S(T.name,k),label:"",placeholder:`Choose ${T.label}`,driverTypeFilter:T.driverTypeFilter||void 0})]}):T.type==="select"?n.jsxs(n.Fragment,{children:[n.jsxs(C,{htmlFor:T.name,className:"flex items-center gap-1",children:[T.label,T.required&&n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs(Z,{value:h[T.name]||"",onValueChange:k=>S(T.name,k),children:[n.jsx(Q,{className:"transition-all duration-300 hover:bg-accent/50",children:n.jsx(ee,{placeholder:`Select ${T.label}`})}),n.jsx(J,{className:"bg-card border-border shadow-lg z-50",children:(D=T.options)==null?void 0:D.map(k=>n.jsx(A,{value:k,children:k},k))})]})]}):T.type==="textarea"?n.jsxs(n.Fragment,{children:[n.jsxs(C,{htmlFor:T.name,className:"flex items-center gap-1",children:[T.label,T.required&&n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(Se,{id:T.name,placeholder:T.placeholder,value:h[T.name]||"",onChange:k=>S(T.name,k.target.value),className:"transition-all duration-300 focus:scale-[1.01]",rows:3})]}):T.type==="checkbox"?n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{id:T.name,type:"checkbox",checked:h[T.name]==="true"||h[T.name]===!0||h[T.name]==="on",onChange:k=>S(T.name,k.target.checked.toString()),className:"h-4 w-4 rounded border-border"}),n.jsx(C,{htmlFor:T.name,className:"text-sm font-normal",children:T.label})]}):T.type==="password"?n.jsx(jt,{name:T.name,label:T.label,placeholder:T.placeholder,required:T.required,value:h[T.name]||"",onValueChange:k=>S(T.name,k)}):n.jsxs(n.Fragment,{children:[n.jsxs(C,{htmlFor:T.name,className:"flex items-center gap-1",children:[T.label,T.required&&n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(O,{id:T.name,type:T.type,placeholder:T.placeholder,value:h[T.name]||"",onChange:k=>S(T.name,k.target.value),className:"transition-all duration-300 focus:scale-[1.01]"})]})},T.name)}),h.authType&&h.authType!=="None"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx(Ke,{className:"my-4"}),n.jsxs("h4",{className:"font-medium text-sm text-muted-foreground mb-4",children:[h.authType," Configuration"]})]}),E(h.authType).map(T=>{var D;return n.jsx("div",{className:T.name.includes("Url")||T.name.includes("url")||T.type==="password"?"md:col-span-2":"",children:T.type==="select"?n.jsxs(n.Fragment,{children:[n.jsxs(C,{htmlFor:T.name,className:"flex items-center gap-1",children:[T.label,T.required&&n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs(Z,{value:h[T.name]||"",onValueChange:k=>S(T.name,k),children:[n.jsx(Q,{className:"transition-all duration-300 hover:bg-accent/50",children:n.jsx(ee,{placeholder:`Select ${T.label}`})}),n.jsx(J,{className:"bg-card border-border shadow-lg z-50",children:(D=T.options)==null?void 0:D.map(k=>n.jsx(A,{value:k,children:k},k))})]})]}):T.type==="password"?n.jsx(jt,{name:T.name,label:T.label,placeholder:T.placeholder,required:T.required,value:h[T.name]||"",onValueChange:k=>S(T.name,k)}):n.jsxs(n.Fragment,{children:[n.jsxs(C,{htmlFor:T.name,className:"flex items-center gap-1",children:[T.label,T.required&&n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(O,{id:T.name,type:T.type,placeholder:T.placeholder,value:h[T.name]||"",onChange:k=>S(T.name,k.target.value),className:"transition-all duration-300 focus:scale-[1.01]"})]})},T.name)})]})]})})]})})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(X,{className:"animate-scale-in",style:{animationDelay:"0.3s"},children:[n.jsxs(re,{children:[n.jsx(ae,{children:"Connection Testing"}),n.jsx(ge,{children:"Test your adapter configuration"})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsx(W,{onClick:P,disabled:!r||j,className:"w-full bg-gradient-accent hover:opacity-90 transition-all duration-300",variant:"outline",children:j?n.jsxs(n.Fragment,{children:[n.jsx(ef,{className:"h-4 w-4 mr-2 animate-spin"}),"Testing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(ef,{className:"h-4 w-4 mr-2"}),"Test Connection"]})}),r==="soap"&&n.jsxs(W,{onClick:()=>y(!0),className:"w-full bg-gradient-primary hover:opacity-90 transition-all duration-300",variant:"outline",children:[n.jsx(WC,{className:"h-4 w-4 mr-2"}),"Configure Field Mapping"]}),w!=="idle"&&n.jsxs("div",{className:`flex items-center gap-2 p-3 rounded-lg ${w==="success"?"bg-success/10 text-success":"bg-destructive/10 text-destructive"}`,children:[w==="success"?n.jsx(Pn,{className:"h-4 w-4"}):n.jsx(xs,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm font-medium",children:w==="success"?"Connection Successful":"Connection Failed"})]}),n.jsx(Ke,{}),n.jsxs("div",{className:"space-y-2",children:[n.jsx($X,{adapterType:(b==null?void 0:b.id)||"",configuration:h,children:n.jsxs(W,{variant:"outline",className:"w-full",disabled:!b,children:[n.jsx(ef,{className:"h-4 w-4 mr-2"}),"Validate Configuration"]})}),n.jsxs(W,{onClick:_,className:"w-full bg-gradient-primary hover:opacity-90 transition-all duration-300",children:[n.jsx(jo,{className:"h-4 w-4 mr-2"}),"Save Adapter"]})]})]})]}),n.jsxs(X,{className:"animate-scale-in",style:{animationDelay:"0.4s"},children:[n.jsx(re,{children:n.jsx(ae,{children:"Configuration Summary"})}),n.jsx(te,{className:"space-y-3",children:n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Status:"}),n.jsx(oe,{variant:"secondary",children:"Draft"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Type:"}),n.jsx("span",{children:(b==null?void 0:b.name)||"Not selected"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Mode:"}),n.jsx("span",{children:i||"Not selected"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Category:"}),n.jsx("span",{children:(b==null?void 0:b.category)||"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Connection:"}),n.jsx(oe,{variant:w==="success"?"default":w==="error"?"destructive":"secondary",children:w==="success"?"Verified":w==="error"?"Failed":"Not tested"})]})]})})]}),n.jsxs(X,{className:"animate-scale-in",style:{animationDelay:"0.5s"},children:[n.jsx(re,{children:n.jsx(ae,{children:"Security Notes"})}),n.jsx(te,{children:n.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(Cn,{className:"h-4 w-4 mt-0.5 text-primary"}),n.jsx("span",{children:"Credentials are encrypted and stored securely"})]}),n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(gs,{className:"h-4 w-4 mt-0.5 text-primary"}),n.jsx("span",{children:"Test connections before using in production"})]}),n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(_i,{className:"h-4 w-4 mt-0.5 text-primary"}),n.jsx("span",{children:"Use environment-specific configurations"})]})]})})]})]})]})]})]})},HX=({structureName:e,setStructureName:t,structureDescription:r,setStructureDescription:s})=>n.jsxs(X,{className:"animate-scale-in",children:[n.jsxs(re,{children:[n.jsx(ae,{children:"Create Data Structure"}),n.jsx(ge,{children:"Import existing schemas or create custom structures"})]}),n.jsx(te,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"structureName",children:"Structure Name *"}),n.jsx(O,{id:"structureName",placeholder:"e.g., Customer Order Schema",value:e,onChange:a=>t(a.target.value),className:"transition-all duration-300 focus:scale-[1.01]"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"description",children:"Description"}),n.jsx(Se,{id:"description",placeholder:"Describe the purpose and context of this data structure...",value:r,onChange:a=>s(a.target.value),className:"transition-all duration-300 focus:scale-[1.01]",rows:3})]})]})})]}),VX=({selectedBusinessComponent:e,setSelectedBusinessComponent:t})=>{const{businessComponents:r,loading:s}=Kr();return n.jsxs(X,{className:"animate-scale-in",children:[n.jsxs(re,{children:[n.jsxs(ae,{className:"flex items-center gap-2",children:[n.jsx(Bt,{className:"h-5 w-5"}),"Business Component Selection"]}),n.jsx(ge,{children:"Select the business component this data structure belongs to"})]}),n.jsx(te,{children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"businessComponent",children:"Business Component *"}),n.jsxs(Z,{value:(e==null?void 0:e.id)||"",onValueChange:a=>{const o=r.find(i=>i.id===a)||null;t(o)},disabled:s,children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select a business component"})}),n.jsx(J,{children:r.map(a=>n.jsx(A,{value:a.id,children:a.name},a.id))})]})]})})]})},ip=({icon:e,title:t,description:r,acceptTypes:s,dragOver:a,onDrop:o,onDragOver:i,onDragLeave:l,onFileSelect:d,uploadId:c,buttonText:u})=>n.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${a?"border-primary bg-primary/10":"border-border"}`,onDrop:o,onDragOver:i,onDragLeave:l,children:[n.jsx(e,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:r}),n.jsx("input",{type:"file",accept:s,onChange:m=>{var h;return((h=m.target.files)==null?void 0:h[0])&&d(m.target.files[0])},className:"hidden",id:c}),n.jsxs(W,{variant:"outline",onClick:()=>{var m;return(m=document.getElementById(c))==null?void 0:m.click()},children:[n.jsx(ey,{className:"h-4 w-4 mr-2"}),u]})]}),BX=({jsonInput:e,setJsonInput:t,onResetAllFields:r})=>{const[s,a]=p.useState(!1),{toast:o}=Qe(),i=c=>{const u=new FileReader;u.onload=m=>{var f;const h=(f=m.target)==null?void 0:f.result;try{const j=JSON.parse(h);t(JSON.stringify(j,null,2)),o({title:"JSON File Loaded",description:`Successfully loaded ${c.name}`})}catch{o({title:"Invalid JSON",description:"The uploaded file contains invalid JSON",variant:"destructive"})}},u.readAsText(c)},l=c=>{c.preventDefault(),a(!1);const u=Array.from(c.dataTransfer.files);u.length>0&&i(u[0])},d=()=>{r(),o({title:"All Fields Cleared",description:"All form fields have been reset"})};return n.jsxs("div",{className:"space-y-4",children:[!e.trim()&&n.jsx(ip,{icon:Jv,title:"JSON Upload",description:"Drag & drop a JSON file or paste JSON structure below",acceptTypes:".json",dragOver:s,onDrop:l,onDragOver:c=>{c.preventDefault(),a(!0)},onDragLeave:()=>a(!1),onFileSelect:i,uploadId:"json-upload",buttonText:"Upload JSON File"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(C,{children:"JSON Structure"}),e.trim()&&n.jsxs(W,{variant:"outline",size:"sm",onClick:d,className:"text-destructive hover:text-destructive",children:[n.jsx(ut,{className:"h-4 w-4 mr-1"}),"Clear JSON"]})]}),n.jsx(Se,{placeholder:'{"orderId": "string", "amount": 100.50, "items": []}',value:e,onChange:c=>t(c.target.value),className:"font-mono text-sm",rows:8})]})]})},kj=({type:e,namespaceConfig:t,setNamespaceConfig:r})=>{const s=e==="wsdl";return n.jsxs(X,{className:"p-4 bg-muted/30",children:[n.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[n.jsx(nt,{className:"h-4 w-4"}),s?"WSDL":"XML"," Namespace Configuration"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"text-xs",children:s?"Service Namespace *":"Namespace URI *"}),n.jsx(O,{placeholder:s?"http://example.com/service":"http://example.com/namespace",value:t.uri,onChange:a=>r({...t,uri:a.target.value}),className:"text-sm"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"text-xs",children:s?"Service Prefix":"Namespace Prefix"}),n.jsx(O,{placeholder:s?"svc":"ns1",value:t.prefix,onChange:a=>r({...t,prefix:a.target.value}),className:"text-sm"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"text-xs",children:"Target Namespace"}),n.jsx(O,{placeholder:"http://example.com/target",value:t.targetNamespace,onChange:a=>r({...t,targetNamespace:a.target.value}),className:"text-sm"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"text-xs",children:s?"WSDL Location":"Schema Location"}),n.jsx(O,{placeholder:s?"http://example.com/service.wsdl":"http://example.com/schema.xsd",value:t.schemaLocation,onChange:a=>r({...t,schemaLocation:a.target.value}),className:"text-sm"})]})]})]})},zX=({xsdInput:e,setXsdInput:t,namespaceConfig:r,setNamespaceConfig:s,onResetAllFields:a})=>{const[o,i]=p.useState(!1),{toast:l}=Qe(),d=m=>{const h=new FileReader;h.onload=f=>{var x;const j=(x=f.target)==null?void 0:x.result;t(j),l({title:"XSD File Loaded",description:`Successfully loaded ${m.name}`})},h.readAsText(m)},c=m=>{m.preventDefault(),i(!1);const h=Array.from(m.dataTransfer.files);h.length>0&&d(h[0])},u=()=>{a(),l({title:"All Fields Cleared",description:"All form fields have been reset"})};return n.jsxs("div",{className:"space-y-4",children:[n.jsx(kj,{type:"xml",namespaceConfig:r,setNamespaceConfig:s}),!e.trim()&&n.jsx(ip,{icon:al,title:"XSD Upload",description:"Drag & drop XSD or WSDL files",acceptTypes:".xsd,.wsdl,.xml",dragOver:o,onDrop:c,onDragOver:m=>{m.preventDefault(),i(!0)},onDragLeave:()=>i(!1),onFileSelect:d,uploadId:"xsd-upload",buttonText:"Upload XSD/WSDL"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(C,{children:"XSD/SOAP Content"}),e.trim()&&n.jsxs(W,{variant:"outline",size:"sm",onClick:u,className:"text-destructive hover:text-destructive",children:[n.jsx(ut,{className:"h-4 w-4 mr-1"}),"Clear XSD"]})]}),n.jsx(Se,{placeholder:"Paste your XSD or SOAP schema here...",value:e,onChange:m=>t(m.target.value),className:"font-mono text-sm",rows:8})]})]})},qX=({wsdlInput:e,setWsdlInput:t,namespaceConfig:r,setNamespaceConfig:s,onWsdlAnalyzed:a,onResetAllFields:o})=>{const[i,l]=p.useState(!1),{toast:d}=Qe(),c=f=>{const j=YU(f),x=KU(f);x&&s(x),a&&a(j,x)},u=f=>{const j=new FileReader;j.onload=x=>{var v;const w=(v=x.target)==null?void 0:v.result;t(w),c(w),d({title:"WSDL File Loaded",description:`Successfully loaded ${f.name}`})},j.readAsText(f)},m=f=>{f.preventDefault(),l(!1);const j=Array.from(f.dataTransfer.files);j.length>0&&u(j[0])},h=()=>{o(),d({title:"All Fields Cleared",description:"All form fields have been reset"})};return n.jsxs("div",{className:"space-y-4",children:[n.jsx(kj,{type:"wsdl",namespaceConfig:r,setNamespaceConfig:s}),!e.trim()&&n.jsx(ip,{icon:al,title:"WSDL Upload",description:"Drag & drop a WSDL file or paste WSDL content below",acceptTypes:".wsdl,.xml",dragOver:i,onDrop:m,onDragOver:f=>{f.preventDefault(),l(!0)},onDragLeave:()=>l(!1),onFileSelect:u,uploadId:"wsdl-upload",buttonText:"Upload WSDL File"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(C,{children:"WSDL Content"}),e.trim()&&n.jsxs(W,{variant:"outline",size:"sm",onClick:h,className:"text-destructive hover:text-destructive",children:[n.jsx(ut,{className:"h-4 w-4 mr-1"}),"Clear WSDL"]})]}),n.jsx(Se,{placeholder:"Paste your WSDL definition here...",value:e,onChange:f=>{const j=f.target.value;t(j),j.trim()&&c(j)},className:"font-mono text-sm",rows:8})]})]})},WX=({edmxInput:e,setEdmxInput:t,namespaceConfig:r,setNamespaceConfig:s,onResetAllFields:a})=>{const[o,i]=p.useState(!1),{toast:l}=Qe(),d=f=>{f.preventDefault(),i(!1);const j=f.dataTransfer.files;j[0]&&m(j[0])},c=f=>{f.preventDefault(),i(!0)},u=()=>{i(!1)},m=f=>{const j=new FileReader;j.onload=x=>{var v;const w=(v=x.target)==null?void 0:v.result;t(w),l({title:"EDMX File Loaded",description:`Successfully loaded ${f.name}`})},j.readAsText(f)},h=()=>{a(),l({title:"All Fields Cleared",description:"All form fields have been reset"})};return n.jsxs("div",{className:"space-y-4",children:[!e.trim()&&n.jsx(ip,{icon:al,title:"Upload EDMX File",description:"Drag and drop your EDMX file here, or click to browse",acceptTypes:".edmx,.xml",dragOver:o,onDrop:d,onDragOver:c,onDragLeave:u,onFileSelect:m,uploadId:"edmx-upload",buttonText:"Upload EDMX File"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(C,{htmlFor:"edmxInput",children:"EDMX Structure"}),e.trim()&&n.jsxs(W,{variant:"outline",size:"sm",onClick:h,className:"text-destructive hover:text-destructive",children:[n.jsx(ut,{className:"h-4 w-4 mr-1"}),"Clear EDMX"]})]}),n.jsx(Se,{id:"edmxInput",placeholder:"Paste your EDMX content here or upload a file above...",value:e,onChange:f=>t(f.target.value),className:"min-h-[300px] font-mono text-sm",rows:15})]}),n.jsx(kj,{type:"xml",namespaceConfig:r,setNamespaceConfig:s})]})},YX=["string","number","boolean","date","datetime","object","array","integer","decimal","email","url"],KX=({field:e,canHaveChildren:t,isExpanded:r,onToggleExpanded:s,onUpdate:a,onRemove:o,depth:i})=>n.jsxs("div",{className:"grid grid-cols-12 gap-2 items-end",children:[n.jsx("div",{className:"col-span-1 flex items-center",children:t&&n.jsx(W,{onClick:s,size:"sm",variant:"ghost",className:"h-6 w-6 p-0 hover-scale",children:r?n.jsx(pr,{className:"h-3 w-3"}):n.jsx(qn,{className:"h-3 w-3"})})}),n.jsxs("div",{className:"col-span-3",children:[n.jsx(C,{className:"text-xs",children:"Field Name"}),n.jsx(O,{placeholder:"fieldName",value:e.name,onChange:l=>a({name:l.target.value}),className:"text-sm animate-fade-in"})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx(C,{className:"text-xs",children:"Type"}),n.jsxs(Z,{value:e.type,onValueChange:l=>a({type:l}),children:[n.jsx(Q,{className:"text-sm",children:n.jsx(ee,{})}),n.jsx(J,{children:YX.map(l=>n.jsx(A,{value:l,children:l},l))})]})]}),n.jsxs("div",{className:"col-span-3",children:[n.jsx(C,{className:"text-xs",children:"Description"}),n.jsx(O,{placeholder:"Field description...",value:e.description||"",onChange:l=>a({description:l.target.value}),className:"text-sm animate-fade-in"})]}),n.jsx("div",{className:"col-span-2 flex items-center space-x-2",children:n.jsxs("label",{className:"flex items-center space-x-1 text-xs",children:[n.jsx("input",{type:"checkbox",checked:e.required,onChange:l=>a({required:l.target.checked}),className:"rounded"}),n.jsx("span",{children:"Required"})]})}),n.jsx("div",{className:"col-span-1",children:n.jsx(W,{onClick:o,size:"sm",variant:"ghost",className:"text-destructive hover:text-destructive h-6 w-6 p-0 hover-scale",children:n.jsx(ba,{className:"h-3 w-3"})})})]}),GX=({field:e,canHaveChildren:t,onUpdate:r,onAddChild:s})=>{var a;return n.jsxs("div",{className:"grid grid-cols-12 gap-2 items-end animate-fade-in",children:[n.jsx("div",{className:"col-span-1"}),n.jsx("div",{className:"col-span-2",children:n.jsxs("label",{className:"flex items-center space-x-1 text-xs",children:[n.jsx("input",{type:"checkbox",checked:e.isComplexType||!1,onChange:o=>r({isComplexType:o.target.checked}),className:"rounded"}),n.jsx("span",{children:"Complex Type"})]})}),n.jsxs("div",{className:"col-span-2",children:[n.jsx(C,{className:"text-xs",children:"Min Occurs"}),n.jsx(O,{type:"number",min:"0",placeholder:"0",value:e.minOccurs||0,onChange:o=>r({minOccurs:parseInt(o.target.value)||0}),className:"text-sm"})]}),n.jsxs("div",{className:"col-span-3",children:[n.jsx(C,{className:"text-xs",children:"Max Occurs"}),n.jsxs(Z,{value:((a=e.maxOccurs)==null?void 0:a.toString())||"1",onValueChange:o=>r({maxOccurs:o==="unbounded"?"unbounded":parseInt(o)}),children:[n.jsx(Q,{className:"text-sm",children:n.jsx(ee,{})}),n.jsxs(J,{children:[n.jsx(A,{value:"1",children:"1"}),n.jsx(A,{value:"2",children:"2"}),n.jsx(A,{value:"5",children:"5"}),n.jsx(A,{value:"10",children:"10"}),n.jsx(A,{value:"unbounded",children:"Unbounded"})]})]})]}),n.jsx("div",{className:"col-span-3",children:t&&n.jsxs(W,{onClick:s,size:"sm",variant:"outline",className:"w-full hover-scale",children:[n.jsx(xr,{className:"h-3 w-3 mr-1"}),"Add Child"]})})]})},XX=({field:e,canHaveChildren:t,isExpanded:r,hasChildren:s,depth:a,path:o,onUpdateChild:i,onRemoveChild:l,onAddGrandChild:d,FieldBuilderComponent:c})=>!t||!r||!s?null:n.jsxs("div",{className:"space-y-3 pl-4 border-l border-border/50 animate-accordion-down",children:[n.jsx(C,{className:"text-xs text-muted-foreground",children:"Child Fields:"}),e.children.map((u,m)=>n.jsx(c,{field:u,index:m,onUpdate:i,onRemove:l,onAddChild:d,depth:a+1,path:[...o,m]},m))]}),QX=(e,t,r,s,a)=>{const o=p.useCallback(u=>{if(u.maxOccurs!==void 0){const m=u.maxOccurs;typeof m=="number"&&m>1||m==="unbounded"?u.type="array":m===1&&e.type==="array"&&(u.type="string")}r(t,u)},[t,r,e.type]),i=p.useCallback(()=>{!e.isComplexType&&e.type!=="object"&&e.type!=="array"&&r(t,{isComplexType:!0}),a(t)},[e.isComplexType,e.type,t,r,a]),l=p.useCallback(u=>{s(u)},[s]),d=p.useCallback((u,m)=>{r(u,m)},[r]),c=p.useCallback(u=>{a(u)},[a]);return{handleUpdate:o,handleAddChild:i,handleRemoveChild:l,handleUpdateChild:d,handleAddGrandChild:c}},OD=({field:e,index:t,onUpdate:r,onRemove:s,onAddChild:a,depth:o,path:i})=>{const[l,d]=pe.useState(!0),c=e.children&&e.children.length>0,u=e.isComplexType||e.type==="object"||e.type==="array",{handleUpdate:m,handleAddChild:h,handleRemoveChild:f,handleUpdateChild:j,handleAddGrandChild:x}=QX(e,i,r,s,a);return n.jsxs("div",{className:`space-y-3 p-4 border rounded-lg animate-scale-in ${o>0?"ml-6 border-l-2 border-l-primary/30":""}`,children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx(KX,{field:e,canHaveChildren:u,isExpanded:l,onToggleExpanded:()=>d(!l),onUpdate:m,onRemove:()=>s(i),depth:o}),n.jsx(GX,{field:e,canHaveChildren:u,onUpdate:m,onAddChild:h})]}),n.jsx(XX,{field:e,canHaveChildren:u,isExpanded:l,hasChildren:c,depth:o,path:i,onUpdateChild:j,onRemoveChild:f,onAddGrandChild:x,FieldBuilderComponent:OD})]})},JX=(e,t)=>{const r=p.useCallback((i,l)=>{const d={name:"",type:"string",required:!1,description:"",isComplexType:!1,minOccurs:0,maxOccurs:1,children:[]};if(l!==void 0&&i!==void 0){const c=[...e];c[l].children[i].children||(c[l].children[i].children=[]),c[l].children[i].children.push(d),t(c)}else if(i!==void 0){const c=[...e];c[i].children||(c[i].children=[]),c[i].children.push(d),t(c)}else t([...e,d])},[e,t]),s=p.useCallback((i,l)=>{console.log("updateFieldAtPath called:",{path:i,field:l});const d=[...e];let c=d;for(let m=0;m<i.length-1;m++){const h=i[m];c[h].children||(c[h].children=[]),c=c[h].children}const u=i[i.length-1];if(c[u]){if(l.maxOccurs!==void 0){const m=l.maxOccurs;typeof m=="number"&&m>1||m==="unbounded"?l.type="array":m===1&&c[u].type==="array"&&(l.type="string")}c[u]={...c[u],...l},console.log("Updated field at path:",i,c[u])}t(d)},[e,t]),a=p.useCallback(i=>{const l=[...e];if(i.length===1)t(l.filter((d,c)=>c!==i[0]));else{let d=l;for(let m=0;m<i.length-2;m++){const h=i[m];if(!d[h].children)return;d=d[h].children}const c=i[i.length-2],u=i[i.length-1];d[c]&&d[c].children&&(d[c].children=d[c].children.filter((m,h)=>h!==u)),t(l)}},[e,t]),o=p.useCallback(i=>{const l={name:"",type:"string",required:!1,description:"",isComplexType:!1,minOccurs:0,maxOccurs:1,children:[]},d=[...e];let c=d;for(let u=0;u<i.length;u++){const m=i[u];c[m].children||(c[m].children=[]),u===i.length-1?c[m].children.push(l):c=c[m].children}t(d)},[e,t]);return{addCustomField:r,updateFieldAtPath:s,removeFieldAtPath:a,addChildAtPath:o}},Kh=e=>{const t={};return e.forEach(r=>{if(r.name){const s=r.type==="array"||typeof r.maxOccurs=="number"&&r.maxOccurs>1||r.maxOccurs==="unbounded";r.isComplexType||r.children&&r.children.length>0?s?t[r.name]=[Kh(r.children)]:t[r.name]=Kh(r.children):t[r.name]=r.type==="integer"?0:""}}),t},ZX=e=>{if(e.length===0)return"{}";if(e.length===1&&(e[0].isComplexType||e[0].children)){const r=e[0],s={[r.name]:Kh(r.children||[])};return JSON.stringify(s,null,2)}const t={root:Kh(e)};return JSON.stringify(t,null,2)},eQ=e=>{let t=`<?xml version="1.0" encoding="UTF-8"?>
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <xs:element name="root">
    <xs:complexType>
      <xs:sequence>`;return e.forEach(r=>{var s;if(r.name)if(r.isComplexType||r.children&&r.children.length>0)t+=`
        <xs:element name="${r.name}">
          <xs:complexType>
            <xs:sequence>`,(s=r.children)==null||s.forEach(a=>{var o;if(a.name){const i=a.minOccurs||(a.required?1:0),l=a.maxOccurs==="unbounded"?"unbounded":a.maxOccurs||1,d=`minOccurs="${i}" maxOccurs="${l}"`;a.isComplexType||a.children&&a.children.length>0?(t+=`
              <xs:element name="${a.name}">
                <xs:complexType>
                  <xs:sequence>`,(o=a.children)==null||o.forEach(c=>{if(c.name){const u=c.minOccurs||(c.required?1:0),m=c.maxOccurs==="unbounded"?"unbounded":c.maxOccurs||1,h=`minOccurs="${u}" maxOccurs="${m}"`;t+=`
                    <xs:element name="${c.name}" type="xs:${c.type==="array"?"string":c.type}" ${h}/>`}}),t+=`
                  </xs:sequence>
                </xs:complexType>
              </xs:element>`):t+=`
              <xs:element name="${a.name}" type="xs:${a.type==="array"?"string":a.type}" ${d}/>`}}),t+=`
            </xs:sequence>
          </xs:complexType>
        </xs:element>`;else{const a=r.minOccurs||(r.required?1:0),o=r.maxOccurs==="unbounded"?"unbounded":r.maxOccurs||1,i=`minOccurs="${a}" maxOccurs="${o}"`;t+=`
        <xs:element name="${r.name}" type="xs:${r.type==="array"?"string":r.type}" ${i}/>`}}),t+=`
      </xs:sequence>
    </xs:complexType>
  </xs:element>
</xs:schema>`,t},tQ=(e,t="        ")=>{var s;let r="";return(e.isComplexType||e.children&&e.children.length>0)&&(r+=`${t}<xsd:complexType name="${e.name}Type">
${t}  <xsd:sequence>`,(s=e.children)==null||s.forEach(a=>{if(a.name){const o=a.minOccurs||(a.required?1:0),i=a.maxOccurs==="unbounded"?"unbounded":a.maxOccurs||1,l=`minOccurs="${o}" maxOccurs="${i}"`;if(a.isComplexType||a.children&&a.children.length>0)r+=`
${t}    <xsd:element name="${a.name}" type="tns:${a.name}Type" ${l}/>`;else{const d=a.type==="array"?"string":a.type==="integer"?"int":a.type;r+=`
${t}    <xsd:element name="${a.name}" type="xsd:${d}" ${l}/>`}}}),r+=`
${t}  </xsd:sequence>
${t}</xsd:complexType>`),r},nQ=(e,t="DataService",r="ProcessData")=>{if(e.length===0)return"";let s=`<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="http://schemas.xmlsoap.org/wsdl/"
             xmlns:tns="http://example.com/service"
             xmlns:xsd="http://www.w3.org/2001/XMLSchema"
             xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/"
             targetNamespace="http://example.com/service"
             elementFormDefault="qualified">
  
  <!-- Types Section: XSD definitions for data types -->
  <types>
    <xsd:schema targetNamespace="http://example.com/service"
                xmlns:tns="http://example.com/service">
      
      <!-- Request Message Type -->
      <xsd:element name="${r}Request">
        <xsd:complexType>
          <xsd:sequence>`;return e.forEach(a=>{if(a.name){const o=a.minOccurs||(a.required?1:0),i=a.maxOccurs==="unbounded"?"unbounded":a.maxOccurs||1,l=`minOccurs="${o}" maxOccurs="${i}"`;if(a.isComplexType||a.children&&a.children.length>0)s+=`
            <xsd:element name="${a.name}" type="tns:${a.name}Type" ${l}/>`;else{const d=a.type==="array"?"string":a.type==="integer"?"int":a.type;s+=`
            <xsd:element name="${a.name}" type="xsd:${d}" ${l}/>`}}}),s+=`
          </xsd:sequence>
        </xsd:complexType>
      </xsd:element>
      
      <!-- Response Message Type -->
      <xsd:element name="${r}Response">
        <xsd:complexType>
          <xsd:sequence>
            <xsd:element name="result" type="xsd:string"/>
            <xsd:element name="status" type="xsd:string"/>
          </xsd:sequence>
        </xsd:complexType>
      </xsd:element>
      
      <!-- Fault Message Type -->
      <xsd:element name="${r}Fault">
        <xsd:complexType>
          <xsd:sequence>
            <xsd:element name="faultCode" type="xsd:string"/>
            <xsd:element name="faultString" type="xsd:string"/>
          </xsd:sequence>
        </xsd:complexType>
      </xsd:element>`,e.forEach(a=>{(a.isComplexType||a.children&&a.children.length>0)&&(s+=`
      
      ${tQ(a)}`)}),s+=`
    </xsd:schema>
  </types>
  
  <!-- Messages Section: Define input and output messages -->
  <message name="${r}RequestMessage">
    <part name="parameters" element="tns:${r}Request"/>
  </message>
  
  <message name="${r}ResponseMessage">
    <part name="parameters" element="tns:${r}Response"/>
  </message>
  
  <message name="${r}FaultMessage">
    <part name="fault" element="tns:${r}Fault"/>
  </message>
  
  <!-- Port Type/Interface: Group related operations -->
  <portType name="${t}PortType">
    <operation name="${r}">
      <documentation>Process data operation</documentation>
      <input message="tns:${r}RequestMessage"/>
      <output message="tns:${r}ResponseMessage"/>
      <fault name="${r}Fault" message="tns:${r}FaultMessage"/>
    </operation>
  </portType>
  
  <!-- Binding: Describe concrete protocol and data format (SOAP) -->
  <binding name="${t}SOAPBinding" type="tns:${t}PortType">
    <soap:binding style="document" transport="http://schemas.xmlsoap.org/soap/http"/>
    <operation name="${r}">
      <soap:operation soapAction="http://example.com/service/${r}"/>
      <input>
        <soap:body use="literal"/>
      </input>
      <output>
        <soap:body use="literal"/>
      </output>
      <fault name="${r}Fault">
        <soap:fault name="${r}Fault" use="literal"/>
      </fault>
    </operation>
  </binding>
  
  <!-- Service: Network address (endpoint) - to be added by Java application -->
  <!-- 
  <service name="${t}">
    <port name="${t}SOAPPort" binding="tns:${t}SOAPBinding">
      <soap:address location="[ENDPOINT_URL_TO_BE_SET_BY_JAVA_APP]"/>
    </port>
  </service>
  -->
  
</definitions>`,s},rQ=(e,t)=>{if(e.length===0)return"";switch(t){case"json":return ZX(e);case"xml":case"xsd":return eQ(e);case"wsdl":return nQ(e);default:return JSON.stringify(e,null,2)}},sQ=({fields:e,schemaType:t})=>e.length===0?null:n.jsxs("div",{className:"mt-6 p-4 bg-muted/50 rounded-lg",children:[n.jsxs(C,{className:"text-sm font-semibold mb-2 block",children:["Live ",t.toUpperCase()," Preview:"]}),n.jsx("pre",{className:"text-xs bg-background p-3 rounded border overflow-auto max-h-64",children:rQ(e,t)})]}),aQ=({customFields:e,setCustomFields:t,selectedStructureType:r,setSelectedStructureType:s,onResetAllFields:a})=>{const[o,i]=p.useState(""),{toast:l}=Qe(),{addCustomField:d,updateFieldAtPath:c,removeFieldAtPath:u,addChildAtPath:m}=JX(e,t),h=()=>{a(),l({title:"All Fields Cleared",description:"All form fields have been reset"})};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"customStructureType",children:"Structure Type"}),n.jsxs(Z,{value:o,onValueChange:i,children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select structure type to build"})}),n.jsxs(J,{children:[n.jsx(A,{value:"json",children:"JSON Schema"}),n.jsx(A,{value:"xsd",children:"XSD Schema"}),n.jsx(A,{value:"xml",children:"XML Schema"}),n.jsx(A,{value:"wsdl",children:"WSDL Schema"})]})]})]}),o?e.length===0?n.jsxs("div",{className:"text-center py-8 space-y-4",children:[n.jsx(qt,{className:"h-12 w-12 mx-auto text-muted-foreground"}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold mb-2",children:["Build ",o.toUpperCase()," Structure"]}),n.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Add fields to create your ",o.toUpperCase()," data structure"]}),n.jsxs(W,{onClick:()=>d(),className:"w-full max-w-xs bg-gradient-primary hover:opacity-90",children:[n.jsx(xr,{className:"h-4 w-4 mr-2"}),"Add Field"]})]})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(C,{children:["Structure Definition (",o.toUpperCase(),")"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(W,{onClick:()=>d(),size:"sm",variant:"outline",children:[n.jsx(xr,{className:"h-4 w-4 mr-2"}),"Add Field"]}),n.jsxs(W,{variant:"outline",size:"sm",onClick:h,className:"text-destructive hover:text-destructive",children:[n.jsx(ut,{className:"h-4 w-4 mr-1"}),"Clear All"]})]})]}),e.map((f,j)=>n.jsx(OD,{field:f,index:j,onUpdate:c,onRemove:u,onAddChild:m,depth:0,path:[j]},j)),n.jsx(sQ,{fields:e,schemaType:o})]}):n.jsxs("div",{className:"text-center py-8 space-y-4",children:[n.jsx(qt,{className:"h-12 w-12 mx-auto text-muted-foreground opacity-50"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Custom Structure Builder"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a structure type above to start building your custom data structure"})]})]})]})},oQ=({customFields:e,setCustomFields:t,jsonInput:r,setJsonInput:s,xsdInput:a,setXsdInput:o,edmxInput:i,setEdmxInput:l,wsdlInput:d,setWsdlInput:c,selectedStructureType:u,setSelectedStructureType:m,namespaceConfig:h,setNamespaceConfig:f,onSave:j,onWsdlAnalyzed:x,onResetAllFields:w})=>n.jsxs(X,{className:"animate-scale-in",style:{animationDelay:"0.1s"},children:[n.jsxs(re,{children:[n.jsx(ae,{children:"Define Structure"}),n.jsx(ge,{children:"Choose your preferred method to define the data structure"})]}),n.jsxs(te,{children:[n.jsxs(Ge,{value:u,className:"w-full",onValueChange:v=>m(v),children:[n.jsxs(qe,{className:"grid w-full grid-cols-5",children:[n.jsx(Ne,{value:"json",children:"JSON Schema"}),n.jsx(Ne,{value:"xsd",children:"XSD/XML"}),n.jsx(Ne,{value:"wsdl",children:"WSDL"}),n.jsx(Ne,{value:"edmx",children:"EDMX"}),n.jsx(Ne,{value:"custom",children:"Custom Builder"})]}),n.jsx(ye,{value:"json",children:n.jsx(BX,{jsonInput:r,setJsonInput:s,onResetAllFields:w})}),n.jsx(ye,{value:"xsd",children:n.jsx(zX,{xsdInput:a,setXsdInput:o,namespaceConfig:h,setNamespaceConfig:f,onResetAllFields:w})}),n.jsx(ye,{value:"wsdl",children:n.jsx(qX,{wsdlInput:d,setWsdlInput:c,namespaceConfig:h,setNamespaceConfig:f,onWsdlAnalyzed:x,onResetAllFields:w})}),n.jsx(ye,{value:"edmx",children:n.jsx(WX,{edmxInput:i,setEdmxInput:l,namespaceConfig:h,setNamespaceConfig:f,onResetAllFields:w})}),n.jsx(ye,{value:"custom",children:n.jsx(aQ,{customFields:e,setCustomFields:t,selectedStructureType:u,setSelectedStructureType:m,onResetAllFields:w})})]}),n.jsx("div",{className:"mt-6 pt-4 border-t",children:n.jsxs(W,{onClick:j,className:"w-full bg-gradient-primary hover:opacity-90",children:[n.jsx(jo,{className:"h-4 w-4 mr-2"}),"Save Data Structure"]})})]})]}),iQ=e=>{switch(e){case"json":return Jv;case"xsd":case"soap":case"wsdl":return al;case"custom":return qt;default:return Ht}},lQ=({structures:e,selectedStructure:t,onSelectStructure:r,onDuplicateStructure:s,onDeleteStructure:a})=>n.jsxs(X,{className:"animate-scale-in",style:{animationDelay:"0.2s"},children:[n.jsxs(re,{children:[n.jsx(ae,{children:"Structure Library"}),n.jsx(ge,{children:"Existing data structures"})]}),n.jsxs(te,{className:"space-y-3",children:[e.map(o=>{const i=iQ(o.type);return n.jsx("div",{className:`p-3 border rounded-lg cursor-pointer transition-all duration-300 hover:shadow-soft ${(t==null?void 0:t.id)===o.id?"border-primary bg-primary/10":"border-border"}`,onClick:()=>r(o),children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[n.jsx(i,{className:"h-5 w-5 mt-0.5 text-primary"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium text-sm",children:o.name}),n.jsx(oe,{variant:"outline",className:"text-xs",children:o.type.toUpperCase()})]}),o.description&&n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:o.description}),n.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[n.jsx(oe,{variant:o.usage==="source"?"default":o.usage==="target"?"secondary":"outline",className:"text-xs",children:o.usage}),n.jsx("span",{className:"text-xs text-muted-foreground",children:o.createdAt})]})]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(W,{onClick:l=>{l.stopPropagation(),s(o)},size:"sm",variant:"ghost",className:"h-6 w-6 p-0",children:n.jsx(gh,{className:"h-3 w-3"})}),n.jsx(W,{onClick:l=>{l.stopPropagation(),a(o.id)},size:"sm",variant:"ghost",className:"h-6 w-6 p-0 text-destructive hover:text-destructive",children:n.jsx(ba,{className:"h-3 w-3"})})]})]})},o.id)}),e.length===0&&n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(Ht,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No data structures created yet. Create your first data structure using the tabs above."})]})]})]}),ID=(e,t=0)=>e?n.jsx("div",{className:`ml-${t*4} space-y-1`,children:typeof e=="object"&&!Array.isArray(e)?Object.entries(e).map(([r,s])=>n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:"font-medium text-primary",children:r}),n.jsx("span",{className:"text-muted-foreground",children:": "}),typeof s=="string"?n.jsx(oe,{variant:"outline",className:"text-xs",children:s}):n.jsx("div",{className:"mt-1",children:ID(s,t+1)})]},r)):n.jsx(oe,{variant:"outline",className:"text-xs",children:String(e)})}):null,Ub=({selectedStructure:e})=>n.jsxs(X,{className:"animate-scale-in",style:{animationDelay:"0.3s"},children:[n.jsx(re,{children:n.jsxs(ae,{className:"flex items-center gap-2",children:[n.jsx(kc,{className:"h-5 w-5"}),"Structure Preview"]})}),n.jsx(te,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",children:e.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:e.description}),e.namespace&&n.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:[n.jsx("span",{className:"font-medium",children:"Namespace:"})," ",e.namespace.uri,e.namespace.prefix&&n.jsxs("span",{className:"ml-2",children:["(",e.namespace.prefix,")"]})]})]}),n.jsx(Ke,{}),n.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg",children:[n.jsx(C,{className:"text-xs font-medium",children:"Structure Definition"}),n.jsx("div",{className:"mt-2 max-h-40 overflow-y-auto",children:ID(e.structure)})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(W,{size:"sm",variant:"outline",className:"flex-1",children:[n.jsx(il,{className:"h-4 w-4 mr-2"}),"Edit"]}),n.jsxs(W,{size:"sm",variant:"outline",className:"flex-1",children:[n.jsx(ld,{className:"h-4 w-4 mr-2"}),"Export"]})]})]})})]}),cQ=()=>{try{const{structures:e,selectedStructure:t,setSelectedStructure:r,saveStructure:s,deleteStructure:a,duplicateStructure:o,loading:i}=xl();console.log("DataStructures component rendering, structures:",(e==null?void 0:e.length)||0,"loading:",i);const{toast:l}=Qe(),[d,c]=p.useState(""),[u,m]=p.useState(""),[h,f]=p.useState(null),[j,x]=p.useState([]),[w,v]=p.useState(""),[g,y]=p.useState(""),[N,b]=p.useState(""),[E,S]=p.useState(""),[P,_]=p.useState("json"),[T,D]=p.useState({uri:"",prefix:"",targetNamespace:"",schemaLocation:""}),k=p.useMemo(()=>{if(!d)return null;let L={};return P==="json"&&w?L=jk(w):P==="wsdl"&&E?L=wk(E):P==="xsd"&&g?L={message:"XSD parsing not fully implemented yet"}:P==="edmx"&&N?L={message:"EDMX parsing not fully implemented yet"}:P==="custom"&&j.length>0&&(L=Ly(j)),Object.keys(L).length===0?null:{id:"preview",name:d,type:P,description:u,structure:L,createdAt:new Date().toISOString().split("T")[0],usage:"source",namespace:(P==="xsd"||P==="wsdl"||P==="edmx")&&T.uri?T:void 0}},[d,u,P,w,g,N,E,j,T]),U=(L,I)=>{L&&!d&&c(L),I&&D(I)},M=async()=>{if(!h){l({title:"Validation Error",description:"Please select a business component",variant:"destructive"});return}await s(d,u,"source",w,g,N,E,j,P,T)&&(c(""),m(""),f(null),v(""),y(""),b(""),S(""),x([]),D({uri:"",prefix:"",targetNamespace:"",schemaLocation:""}))},$=()=>{c(""),m(""),f(null),v(""),y(""),b(""),S(""),x([]),D({uri:"",prefix:"",targetNamespace:"",schemaLocation:""}),_("json")};return i?n.jsxs("div",{className:"p-6 space-y-6 animate-fade-in",children:[n.jsxs("div",{className:"animate-slide-up",children:[n.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[n.jsx(lc,{className:"h-8 w-8"}),"Data Structures"]}),n.jsx("p",{className:"text-muted-foreground",children:"Loading data structures..."})]}),n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:n.jsx("div",{className:"lg:col-span-2 space-y-6",children:n.jsx("div",{className:"animate-pulse",children:n.jsx("div",{className:"h-32 bg-muted rounded-lg"})})})})]}):n.jsxs("div",{className:"p-6 space-y-6 animate-fade-in",children:[n.jsxs("div",{className:"animate-slide-up",children:[n.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[n.jsx(lc,{className:"h-8 w-8"}),"Data Structures"]}),n.jsx("p",{className:"text-muted-foreground",children:"Define and manage data structures for source and target messages"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsx(VX,{selectedBusinessComponent:h,setSelectedBusinessComponent:f}),n.jsx(HX,{structureName:d,setStructureName:c,structureDescription:u,setStructureDescription:m}),n.jsx(oQ,{customFields:j,setCustomFields:x,jsonInput:w,setJsonInput:v,xsdInput:g,setXsdInput:y,edmxInput:N,setEdmxInput:b,wsdlInput:E,setWsdlInput:S,selectedStructureType:P,setSelectedStructureType:_,namespaceConfig:T,setNamespaceConfig:D,onSave:M,onWsdlAnalyzed:U,onResetAllFields:$}),k&&n.jsx("div",{className:"animate-fade-in",children:n.jsx(Ub,{selectedStructure:k})})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsx(lQ,{structures:e||[],selectedStructure:t,onSelectStructure:r,onDuplicateStructure:o,onDeleteStructure:a}),t&&n.jsx(Ub,{selectedStructure:t})]})]})]})}catch(e){return console.error("Error rendering DataStructures component:",e),n.jsx("div",{className:"p-6 space-y-6",children:n.jsxs("div",{className:"text-center",children:[n.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center justify-center gap-3",children:[n.jsx(lc,{className:"h-8 w-8"}),"Data Structures"]}),n.jsx("p",{className:"text-muted-foreground mt-4",children:"There was an error loading the data structures page. Please check the browser console for details."}),n.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90",children:"Reload Page"})]})})}};var LD="AlertDialog",[dQ,Lte]=Wn(LD,[Sk]),ks=Sk(),$D=e=>{const{__scopeAlertDialog:t,...r}=e,s=ks(t);return n.jsx(Uk,{...s,...r,modal:!0})};$D.displayName=LD;var uQ="AlertDialogTrigger",UD=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=ks(r);return n.jsx(Hk,{...a,...s,ref:t})});UD.displayName=uQ;var hQ="AlertDialogPortal",HD=e=>{const{__scopeAlertDialog:t,...r}=e,s=ks(t);return n.jsx(Vk,{...s,...r})};HD.displayName=hQ;var mQ="AlertDialogOverlay",VD=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=ks(r);return n.jsx(By,{...a,...s,ref:t})});VD.displayName=mQ;var vi="AlertDialogContent",[pQ,fQ]=dQ(vi),BD=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:s,...a}=e,o=ks(r),i=p.useRef(null),l=Te(t,i),d=p.useRef(null);return n.jsx(eH,{contentName:vi,titleName:zD,docsSlug:"alert-dialog",children:n.jsx(pQ,{scope:r,cancelRef:d,children:n.jsxs(zy,{role:"alertdialog",...o,...a,ref:l,onOpenAutoFocus:he(a.onOpenAutoFocus,c=>{var u;c.preventDefault(),(u=d.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[n.jsx(Yv,{children:s}),n.jsx(gQ,{contentRef:i})]})})})});BD.displayName=vi;var zD="AlertDialogTitle",qD=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=ks(r);return n.jsx(qy,{...a,...s,ref:t})});qD.displayName=zD;var WD="AlertDialogDescription",YD=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=ks(r);return n.jsx(Wy,{...a,...s,ref:t})});YD.displayName=WD;var xQ="AlertDialogAction",KD=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=ks(r);return n.jsx(Yy,{...a,...s,ref:t})});KD.displayName=xQ;var GD="AlertDialogCancel",XD=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,{cancelRef:a}=fQ(GD,r),o=ks(r),i=Te(t,a);return n.jsx(Yy,{...o,...s,ref:i})});XD.displayName=GD;var gQ=({contentRef:e})=>{const t=`\`${vi}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${vi}\` by passing a \`${WD}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${vi}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{var s;document.getElementById((s=e.current)==null?void 0:s.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},vQ=$D,yQ=UD,jQ=HD,QD=VD,JD=BD,ZD=KD,e4=XD,t4=qD,n4=YD;const Tj=vQ,wQ=yQ,NQ=jQ,r4=p.forwardRef(({className:e,...t},r)=>n.jsx(QD,{className:de("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));r4.displayName=QD.displayName;const lp=p.forwardRef(({className:e,...t},r)=>n.jsxs(NQ,{children:[n.jsx(r4,{}),n.jsx(JD,{ref:r,className:de("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));lp.displayName=JD.displayName;const cp=({className:e,...t})=>n.jsx("div",{className:de("flex flex-col space-y-2 text-center sm:text-left",e),...t});cp.displayName="AlertDialogHeader";const dp=({className:e,...t})=>n.jsx("div",{className:de("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});dp.displayName="AlertDialogFooter";const up=p.forwardRef(({className:e,...t},r)=>n.jsx(t4,{ref:r,className:de("text-lg font-semibold",e),...t}));up.displayName=t4.displayName;const hp=p.forwardRef(({className:e,...t},r)=>n.jsx(n4,{ref:r,className:de("text-sm text-muted-foreground",e),...t}));hp.displayName=n4.displayName;const mp=p.forwardRef(({className:e,...t},r)=>n.jsx(ZD,{ref:r,className:de(Oc(),e),...t}));mp.displayName=ZD.displayName;const pp=p.forwardRef(({className:e,...t},r)=>n.jsx(e4,{ref:r,className:de(Oc({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));pp.displayName=e4.displayName;function So({icon:e,title:t,description:r,action:s,className:a}){return n.jsxs(X,{className:de("flex flex-col items-center justify-center p-8 text-center min-h-[200px]",a),children:[e&&n.jsx("div",{className:"mb-4 text-muted-foreground",children:e}),n.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:t}),r&&n.jsx("p",{className:"text-muted-foreground mb-4 max-w-md",children:r}),s&&n.jsx(W,{onClick:s.onClick,variant:"outline",children:s.label})]})}const bQ=()=>{const[e,t]=p.useState([]),[r,s]=p.useState(!0),[a,o]=p.useState(!1),[i,l]=p.useState(!1),[d,c]=p.useState(null),[u,m]=p.useState({name:"",description:"",contactEmail:"",contactPhone:""}),{toast:h}=Qe();p.useEffect(()=>{f()},[]);const f=async()=>{const y=await Ha.getAllBusinessComponents();y.success&&y.data?t(y.data):h({title:"Error",description:y.error||"Failed to load businessComponents",variant:"destructive"}),s(!1)},j=async()=>{if(!u.name.trim()){h({title:"Validation Error",description:"BusinessComponent name is required",variant:"destructive"});return}const y=await Ha.createBusinessComponent(u);y.success&&y.data?(t([...e,y.data]),o(!1),m({name:"",description:"",contactEmail:"",contactPhone:""}),h({title:"Success",description:"BusinessComponent created successfully"})):h({title:"Error",description:y.error||"Failed to create businessComponent",variant:"destructive"})},x=async()=>{if(!d||!u.name.trim()){h({title:"Validation Error",description:"BusinessComponent name is required",variant:"destructive"});return}const y=await Ha.updateBusinessComponent({id:d.id,...u});y.success&&y.data?(t(e.map(N=>N.id===d.id?y.data:N)),l(!1),c(null),m({name:"",description:"",contactEmail:"",contactPhone:""}),h({title:"Success",description:"BusinessComponent updated successfully"})):h({title:"Error",description:y.error||"Failed to update businessComponent",variant:"destructive"})},w=async y=>{const N=await Ha.deleteBusinessComponent(y.id);N.success?(t(e.filter(b=>b.id!==y.id)),h({title:"Success",description:"BusinessComponent deleted successfully"})):h({title:"Error",description:N.error||"Failed to delete businessComponent",variant:"destructive"})},v=y=>{c(y),m({name:y.name,description:y.description||"",contactEmail:y.contactEmail||"",contactPhone:y.contactPhone||""}),l(!0)},g=()=>{m({name:"",description:"",contactEmail:"",contactPhone:""}),c(null)};return r?n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"animate-pulse space-y-6",children:[n.jsx("div",{className:"h-8 bg-muted rounded w-1/3"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(y=>n.jsx("div",{className:"h-48 bg-muted rounded"},y))})]})}):n.jsxs("div",{className:"p-6 space-y-6 animate-fade-in",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[n.jsx(Gx,{className:"h-8 w-8"}),"BusinessComponent Management"]}),n.jsx("p",{className:"text-muted-foreground",children:"Manage your businessComponents and organizations"})]}),n.jsxs(wt,{open:a,onOpenChange:o,children:[n.jsx(io,{asChild:!0,children:n.jsxs(W,{onClick:()=>g(),children:[n.jsx(xr,{className:"h-4 w-4 mr-2"}),"Add BusinessComponent"]})}),n.jsxs(xt,{children:[n.jsxs(Nt,{children:[n.jsx(bt,{children:"Create New BusinessComponent"}),n.jsx(va,{children:"Add a new businessComponent to your system"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(C,{htmlFor:"name",children:"BusinessComponent Name *"}),n.jsx(O,{id:"name",value:u.name,onChange:y=>m({...u,name:y.target.value}),placeholder:"Enter businessComponent name"})]}),n.jsxs("div",{children:[n.jsx(C,{htmlFor:"description",children:"Description"}),n.jsx(Se,{id:"description",value:u.description,onChange:y=>m({...u,description:y.target.value}),placeholder:"Enter businessComponent description",rows:3})]}),n.jsxs("div",{children:[n.jsx(C,{htmlFor:"email",children:"Contact Email"}),n.jsx(O,{id:"email",type:"email",value:u.contactEmail,onChange:y=>m({...u,contactEmail:y.target.value}),placeholder:"contact@example.com"})]}),n.jsxs("div",{children:[n.jsx(C,{htmlFor:"phone",children:"Contact Phone"}),n.jsx(O,{id:"phone",value:u.contactPhone,onChange:y=>m({...u,contactPhone:y.target.value}),placeholder:"+1-555-0123"})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(W,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),n.jsx(W,{onClick:j,children:"Create BusinessComponent"})]})]})]})]})]}),e.length===0?n.jsx(So,{icon:n.jsx(Gx,{className:"h-12 w-12"}),title:"No businessComponents yet",description:"Get started by adding your first businessComponent to organize your integrations by client.",action:{label:"Add BusinessComponent",onClick:()=>o(!0)}}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(y=>n.jsxs(X,{className:"hover:shadow-lg transition-shadow",children:[n.jsxs(re,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(ae,{className:"text-lg",children:y.name}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx(W,{variant:"ghost",size:"sm",onClick:()=>v(y),children:n.jsx(il,{className:"h-4 w-4"})}),n.jsxs(Tj,{children:[n.jsx(wQ,{asChild:!0,children:n.jsx(W,{variant:"ghost",size:"sm",children:n.jsx(ba,{className:"h-4 w-4"})})}),n.jsxs(lp,{children:[n.jsxs(cp,{children:[n.jsx(up,{children:"Delete BusinessComponent"}),n.jsxs(hp,{children:['Are you sure you want to delete "',y.name,'"? This action cannot be undone.']})]}),n.jsxs(dp,{children:[n.jsx(pp,{children:"Cancel"}),n.jsx(mp,{onClick:()=>w(y),children:"Delete"})]})]})]})]})]}),y.description&&n.jsx(ge,{children:y.description})]}),n.jsx(te,{children:n.jsxs("div",{className:"space-y-2",children:[y.contactEmail&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(cd,{className:"h-4 w-4"}),y.contactEmail]}),y.contactPhone&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(eI,{className:"h-4 w-4"}),y.contactPhone]}),n.jsxs("div",{className:"text-xs text-muted-foreground pt-2",children:["Created: ",new Date(y.createdAt).toLocaleDateString()]})]})})]},y.id))}),n.jsx(wt,{open:i,onOpenChange:l,children:n.jsxs(xt,{children:[n.jsxs(Nt,{children:[n.jsx(bt,{children:"Edit BusinessComponent"}),n.jsx(va,{children:"Update businessComponent information"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(C,{htmlFor:"edit-name",children:"BusinessComponent Name *"}),n.jsx(O,{id:"edit-name",value:u.name,onChange:y=>m({...u,name:y.target.value}),placeholder:"Enter businessComponent name"})]}),n.jsxs("div",{children:[n.jsx(C,{htmlFor:"edit-description",children:"Description"}),n.jsx(Se,{id:"edit-description",value:u.description,onChange:y=>m({...u,description:y.target.value}),placeholder:"Enter businessComponent description",rows:3})]}),n.jsxs("div",{children:[n.jsx(C,{htmlFor:"edit-email",children:"Contact Email"}),n.jsx(O,{id:"edit-email",type:"email",value:u.contactEmail,onChange:y=>m({...u,contactEmail:y.target.value}),placeholder:"contact@example.com"})]}),n.jsxs("div",{children:[n.jsx(C,{htmlFor:"edit-phone",children:"Contact Phone"}),n.jsx(O,{id:"edit-phone",value:u.contactPhone,onChange:y=>m({...u,contactPhone:y.target.value}),placeholder:"+1-555-0123"})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(W,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),n.jsx(W,{onClick:x,children:"Update BusinessComponent"})]})]})]})})]})};class SQ{constructor(){rt(this,"websocket",null);rt(this,"reconnectAttempts",0);rt(this,"maxReconnectAttempts",5);rt(this,"reconnectInterval",3e3);rt(this,"messageListeners",[]);rt(this,"statsListeners",[])}async getMessages(t){const r=new URLSearchParams;t&&Object.entries(t).forEach(([a,o])=>{o!==void 0&&(Array.isArray(o)?r.append(a,o.join(",")):r.append(a,o.toString()))});const s=`/messages${r.toString()?`?${r.toString()}`:""}`;return ce.get(s)}async getMessage(t){return ce.get(`/messages/${t}`)}async getMessageStats(t){const r=new URLSearchParams;t&&Object.entries(t).forEach(([a,o])=>{o!==void 0&&(Array.isArray(o)?r.append(a,o.join(",")):r.append(a,o.toString()))});const s=`/messages/stats${r.toString()?`?${r.toString()}`:""}`;return ce.get(s)}async reprocessMessage(t){return ce.post(`/messages/${t}/reprocess`)}async getBusinessComponentMessages(t,r){const s=new URLSearchParams;r&&Object.entries(r).forEach(([o,i])=>{i!==void 0&&(Array.isArray(i)?s.append(o,i.join(",")):s.append(o,i.toString()))});const a=`/business-components/${t}/messages${s.toString()?`?${s.toString()}`:""}`;return ce.get(a)}connectWebSocket(t){var o;if(((o=this.websocket)==null?void 0:o.readyState)===WebSocket.OPEN)return;const r="ws://localhost:8080",s=t?`?businessComponentId=${t}`:"",a=`${r}/ws/messages${s}`;try{this.websocket=new WebSocket(a),this.websocket.onopen=()=>{console.log("WebSocket connected for message monitoring"),this.reconnectAttempts=0},this.websocket.onmessage=i=>{try{const l=JSON.parse(i.data);l.type==="message_update"?this.messageListeners.forEach(d=>d(l.message)):l.type==="stats_update"&&this.statsListeners.forEach(d=>d(l.stats))}catch(l){console.error("Error parsing WebSocket message:",l)}},this.websocket.onclose=()=>{console.log("WebSocket connection closed"),this.attemptReconnect(t)},this.websocket.onerror=i=>{console.error("WebSocket error:",i)}}catch(i){console.error("Failed to create WebSocket connection:",i)}}attemptReconnect(t){this.reconnectAttempts<this.maxReconnectAttempts?(this.reconnectAttempts++,console.log(`Attempting to reconnect WebSocket (${this.reconnectAttempts}/${this.maxReconnectAttempts})`),setTimeout(()=>{this.connectWebSocket(t)},this.reconnectInterval*this.reconnectAttempts)):console.error("Max reconnection attempts reached")}disconnectWebSocket(){this.websocket&&(this.websocket.close(),this.websocket=null),this.messageListeners=[],this.statsListeners=[],this.reconnectAttempts=0}onMessageUpdate(t){return this.messageListeners.push(t),()=>{const r=this.messageListeners.indexOf(t);r>-1&&this.messageListeners.splice(r,1)}}onStatsUpdate(t){return this.statsListeners.push(t),()=>{const r=this.statsListeners.indexOf(t);r>-1&&this.statsListeners.splice(r,1)}}sendCommand(t,r){var s;((s=this.websocket)==null?void 0:s.readyState)===WebSocket.OPEN&&this.websocket.send(JSON.stringify({command:t,data:r}))}}const Tr=new SQ,CQ=e=>{const[t,r]=p.useState([]),[s,a]=p.useState(null),[o,i]=p.useState(!0),[l,d]=p.useState(!1),{toast:c}=Qe(),u=p.useCallback(async w=>{i(!0);try{const v=e?await Tr.getBusinessComponentMessages(e,w):await Tr.getMessages(w);v.success&&v.data&&r(v.data.messages)}catch{c({title:"Error",description:"Failed to load messages",variant:"destructive"})}finally{i(!1)}},[e,c]),m=p.useCallback(async w=>{try{const v=await Tr.getMessageStats(w);v.success&&v.data&&a(v.data)}catch(v){console.error("Failed to load message stats:",v)}},[]);p.useEffect(()=>{Tr.connectWebSocket(e),d(!0);const w=Tr.onMessageUpdate(g=>{r(y=>{const N=y.findIndex(b=>b.id===g.id);if(N>=0){const b=[...y];return b[N]=g,b}else return[g,...y]}),g.status==="failed"&&c({title:"Message Failed",description:`Message ${g.id} failed processing`,variant:"destructive"})}),v=Tr.onStatsUpdate(g=>{a(g)});return u(),m(),()=>{w(),v(),Tr.disconnectWebSocket(),d(!1)}},[e,u,m,c]);const h=p.useCallback(async w=>{try{const v=await Tr.reprocessMessage(w);if(v.success)c({title:"Success",description:"Message queued for reprocessing"});else throw new Error(v.error||"Failed to reprocess message")}catch{c({title:"Error",description:"Failed to reprocess message",variant:"destructive"})}},[c]),f=p.useCallback(w=>{u(w),m(w)},[u,m]),j=p.useCallback(w=>{Tr.sendCommand("subscribe",{messageType:w})},[]),x=p.useCallback(w=>{Tr.sendCommand("unsubscribe",{messageType:w})},[]);return{messages:t,stats:s,loading:o,connected:l,loadMessages:u,loadStats:m,reprocessMessage:h,refreshData:f,subscribeToMessageType:j,unsubscribeFromMessageType:x}};function bn({className:e,...t}){return n.jsx("div",{className:de("animate-pulse rounded-md bg-muted",e),...t})}const EQ=({messages:e,stats:t,isBusinessComponentSelected:r,onStatusFilter:s,statusFilter:a,loading:o=!1})=>{const i=e||[],l=(t==null?void 0:t.successful)??i.filter(x=>x.status==="success").length,d=(t==null?void 0:t.processing)??i.filter(x=>x.status==="processing").length,c=(t==null?void 0:t.failed)??i.filter(x=>x.status==="failed").length,u=(t==null?void 0:t.total)??i.length,m=(t==null?void 0:t.successRate)??(u>0?l/u*100:0),h=(t==null?void 0:t.avgProcessingTime)??(()=>{const x=i.filter(w=>w.status!=="processing"&&w.processingTime!=="-");return x.length>0?Math.round(x.reduce((w,v)=>{const g=parseFloat(v.processingTime.replace(/[^\d.]/g,""));return w+(isNaN(g)?0:g)},0)/x.length):0})(),f=()=>r?`of ${u} business component messages`:"across all messages",j=x=>{s&&s(x)};return o?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:Array.from({length:5}).map((x,w)=>n.jsxs(X,{className:"bg-gradient-secondary border-border/50",children:[n.jsx(re,{className:"pb-2",children:n.jsx(bn,{className:"h-4 w-32"})}),n.jsxs(te,{children:[n.jsx(bn,{className:"h-8 w-16 mb-2"}),n.jsx(bn,{className:"h-3 w-24"})]})]},w))}):n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[n.jsxs(X,{className:`bg-gradient-secondary border-border/50 cursor-pointer transition-all hover-scale animate-scale-in ${a==="success"?"ring-2 ring-success":""}`,onClick:()=>j("success"),children:[n.jsx(re,{className:"pb-2",children:n.jsx(ae,{className:"text-sm font-medium text-muted-foreground",children:"Successful Messages"})}),n.jsxs(te,{children:[n.jsx("div",{className:"text-2xl font-bold text-success",children:l}),n.jsx("p",{className:"text-xs text-muted-foreground",children:f()})]})]}),n.jsxs(X,{className:`bg-gradient-secondary border-border/50 cursor-pointer transition-all hover-scale animate-scale-in ${a==="processing"?"ring-2 ring-warning":""}`,onClick:()=>j("processing"),children:[n.jsx(re,{className:"pb-2",children:n.jsx(ae,{className:"text-sm font-medium text-muted-foreground",children:"Processing Messages"})}),n.jsxs(te,{children:[n.jsx("div",{className:"text-2xl font-bold text-warning",children:d}),n.jsx("p",{className:"text-xs text-muted-foreground",children:f()})]})]}),n.jsxs(X,{className:`bg-gradient-secondary border-border/50 cursor-pointer transition-all hover-scale animate-scale-in ${a==="failed"?"ring-2 ring-destructive":""}`,onClick:()=>j("failed"),children:[n.jsx(re,{className:"pb-2",children:n.jsx(ae,{className:"text-sm font-medium text-muted-foreground",children:"Failed Messages"})}),n.jsxs(te,{children:[n.jsx("div",{className:"text-2xl font-bold text-destructive",children:c}),n.jsx("p",{className:"text-xs text-muted-foreground",children:f()})]})]}),n.jsxs(X,{className:"bg-gradient-secondary border-border/50 animate-scale-in",children:[n.jsx(re,{className:"pb-2",children:n.jsx(ae,{className:"text-sm font-medium text-muted-foreground",children:"Success Rate"})}),n.jsxs(te,{children:[n.jsxs("div",{className:"text-2xl font-bold text-success",children:[m.toFixed(1),"%"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:f()})]})]}),n.jsxs(X,{className:"bg-gradient-secondary border-border/50 animate-scale-in",children:[n.jsx(re,{className:"pb-2",children:n.jsx(ae,{className:"text-sm font-medium text-muted-foreground",children:"Avg Processing"})}),n.jsxs(te,{children:[n.jsxs("div",{className:"text-2xl font-bold text-info",children:[h,"ms"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:f()})]})]})]})},PQ=(e,t)=>{if(!e||!Array.isArray(e))return[];const r=new Date,s=new Date(r.getFullYear(),r.getMonth(),r.getDate());switch(t){case"today":return e.filter(l=>new Date(l.timestamp)>=s);case"yesterday":const a=new Date(s.getTime()-24*60*60*1e3);return e.filter(l=>{const d=new Date(l.timestamp);return d>=a&&d<s});case"last-7-days":const o=new Date(r.getTime()-7*24*60*60*1e3);return e.filter(l=>new Date(l.timestamp)>=o);case"last-30-days":const i=new Date(r.getTime()-30*24*60*60*1e3);return e.filter(l=>new Date(l.timestamp)>=i);case"all":default:return e}},kQ=(e,t)=>e==="today"?`${t} messages today`:e==="yesterday"?`${t} messages yesterday`:e==="last-7-days"?`${t} messages in last 7 days`:e==="last-30-days"?`${t} messages in last 30 days`:`${t} messages total`,TQ=({value:e,onValueChange:t})=>n.jsxs(Z,{value:e,onValueChange:t,children:[n.jsx(Q,{className:"w-48",children:n.jsx(ee,{})}),n.jsxs(J,{children:[n.jsx(A,{value:"today",children:"Today"}),n.jsx(A,{value:"today-00",children:"Today 00:00 - 00:59"}),n.jsx(A,{value:"today-01",children:"Today 01:00 - 01:59"}),n.jsx(A,{value:"today-02",children:"Today 02:00 - 02:59"}),n.jsx(A,{value:"today-03",children:"Today 03:00 - 03:59"}),n.jsx(A,{value:"today-04",children:"Today 04:00 - 04:59"}),n.jsx(A,{value:"today-05",children:"Today 05:00 - 05:59"}),n.jsx(A,{value:"today-06",children:"Today 06:00 - 06:59"}),n.jsx(A,{value:"today-07",children:"Today 07:00 - 07:59"}),n.jsx(A,{value:"today-08",children:"Today 08:00 - 08:59"}),n.jsx(A,{value:"today-09",children:"Today 09:00 - 09:59"}),n.jsx(A,{value:"today-10",children:"Today 10:00 - 10:59"}),n.jsx(A,{value:"today-11",children:"Today 11:00 - 11:59"}),n.jsx(A,{value:"today-12",children:"Today 12:00 - 12:59"}),n.jsx(A,{value:"today-13",children:"Today 13:00 - 13:59"}),n.jsx(A,{value:"today-14",children:"Today 14:00 - 14:59"}),n.jsx(A,{value:"today-15",children:"Today 15:00 - 15:59"}),n.jsx(A,{value:"today-16",children:"Today 16:00 - 16:59"}),n.jsx(A,{value:"today-17",children:"Today 17:00 - 17:59"}),n.jsx(A,{value:"today-18",children:"Today 18:00 - 18:59"}),n.jsx(A,{value:"today-19",children:"Today 19:00 - 19:59"}),n.jsx(A,{value:"today-20",children:"Today 20:00 - 20:59"}),n.jsx(A,{value:"today-21",children:"Today 21:00 - 21:59"}),n.jsx(A,{value:"today-22",children:"Today 22:00 - 22:59"}),n.jsx(A,{value:"today-23",children:"Today 23:00 - 23:59"}),n.jsx(A,{value:"yesterday",children:"Yesterday"}),n.jsx(A,{value:"last-7-days",children:"Past 7 Days"}),n.jsx(A,{value:"last-30-days",children:"Past 30 Days"}),n.jsx(A,{value:"all",children:"All Messages"})]})]});var Aj="Collapsible",[AQ,$te]=Wn(Aj),[MQ,Mj]=AQ(Aj),s4=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:s,defaultOpen:a,disabled:o,onOpenChange:i,...l}=e,[d=!1,c]=Vr({prop:s,defaultProp:a,onChange:i});return n.jsx(MQ,{scope:r,disabled:o,contentId:hr(),open:d,onOpenToggle:p.useCallback(()=>c(u=>!u),[c]),children:n.jsx(Ce.div,{"data-state":Rj(d),"data-disabled":o?"":void 0,...l,ref:t})})});s4.displayName=Aj;var a4="CollapsibleTrigger",o4=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,...s}=e,a=Mj(a4,r);return n.jsx(Ce.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":Rj(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...s,ref:t,onClick:he(e.onClick,a.onOpenToggle)})});o4.displayName=a4;var Dj="CollapsibleContent",i4=p.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=Mj(Dj,e.__scopeCollapsible);return n.jsx(Ot,{present:r||a.open,children:({present:o})=>n.jsx(DQ,{...s,ref:t,present:o})})});i4.displayName=Dj;var DQ=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:s,children:a,...o}=e,i=Mj(Dj,r),[l,d]=p.useState(s),c=p.useRef(null),u=Te(t,c),m=p.useRef(0),h=m.current,f=p.useRef(0),j=f.current,x=i.open||l,w=p.useRef(x),v=p.useRef();return p.useEffect(()=>{const g=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(g)},[]),Dt(()=>{const g=c.current;if(g){v.current=v.current||{transitionDuration:g.style.transitionDuration,animationName:g.style.animationName},g.style.transitionDuration="0s",g.style.animationName="none";const y=g.getBoundingClientRect();m.current=y.height,f.current=y.width,w.current||(g.style.transitionDuration=v.current.transitionDuration,g.style.animationName=v.current.animationName),d(s)}},[i.open,s]),n.jsx(Ce.div,{"data-state":Rj(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!x,...o,ref:u,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":j?`${j}px`:void 0,...e.style},children:x&&a})});function Rj(e){return e?"open":"closed"}var RQ=s4;const Ql=RQ,Yg=o4,Kg=i4,FQ=e=>{switch(e){case"success":return n.jsx(Pn,{className:"h-4 w-4 text-success"});case"failed":return n.jsx(ia,{className:"h-4 w-4 text-destructive"});case"processing":return n.jsx(fr,{className:"h-4 w-4 text-warning animate-spin"});default:return n.jsx(gs,{className:"h-4 w-4 text-muted-foreground"})}},_Q=e=>{switch(e.toUpperCase()){case"SUCCESS":return n.jsx(Pn,{className:"h-3 w-3 text-success"});case"ERROR":return n.jsx(ia,{className:"h-3 w-3 text-destructive"});case"WARN":return n.jsx(vs,{className:"h-3 w-3 text-warning"});default:return n.jsx(gs,{className:"h-3 w-3 text-info"})}},OQ=({message:e})=>{const[t,r]=p.useState(!1);return n.jsx(X,{className:"bg-gradient-secondary border-border/50 hover-scale",children:n.jsxs(Ql,{open:t,onOpenChange:r,children:[n.jsx(Yg,{asChild:!0,children:n.jsx(W,{variant:"ghost",className:"w-full p-0 h-auto hover:bg-transparent",children:n.jsx(re,{className:"w-full",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[FQ(e.status),n.jsxs("div",{className:"text-left",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium text-foreground",children:e.id}),n.jsx(oe,{variant:"outline",className:"text-xs",children:e.type})]}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.source," → ",e.target]})]})]}),n.jsxs("div",{className:"flex items-center gap-3 text-right",children:[n.jsxs("div",{className:"text-sm",children:[n.jsx("div",{className:"text-muted-foreground",children:e.timestamp}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[e.processingTime," • ",e.size]})]}),t?n.jsx(pr,{className:"h-4 w-4 text-muted-foreground"}):n.jsx(qn,{className:"h-4 w-4 text-muted-foreground"})]})]})})})}),n.jsx(Kg,{children:n.jsx(te,{className:"pt-0",children:n.jsxs("div",{className:"border-t border-border/50 pt-4",children:[n.jsxs("h4",{className:"text-sm font-medium text-foreground mb-3 flex items-center gap-2",children:[n.jsx(Ht,{className:"h-4 w-4"}),"Processing Logs"]}),n.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:e.logs.map((s,a)=>n.jsxs("div",{className:"flex items-start gap-3 text-xs",children:[_Q(s.level),n.jsx("span",{className:"text-muted-foreground min-w-[120px] font-mono",children:s.timestamp.split(" ")[1]}),n.jsx("span",{className:"text-foreground",children:s.message})]},a))})]})})})]})})},IQ=({messages:e,isBusinessComponentSelected:t,statusFilter:r,loading:s=!1})=>{const[a,o]=p.useState("today");let i=PQ(e||[],a);return r&&(i=i.filter(l=>l.status===r)),i.sort((l,d)=>new Date(d.timestamp).getTime()-new Date(l.timestamp).getTime()),n.jsxs("div",{className:"space-y-4",children:[n.jsx(X,{className:"bg-gradient-secondary border-border/50",children:n.jsxs(re,{className:"pb-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(ae,{className:"text-lg font-semibold flex items-center gap-2",children:[n.jsx(Ht,{className:"h-5 w-5"}),"Message History"]}),n.jsx(TQ,{value:a,onValueChange:o})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:kQ(a,i.length)})]})}),n.jsx("div",{className:"space-y-3",children:s?Array.from({length:5}).map((l,d)=>n.jsx(X,{className:"bg-gradient-secondary border-border/50",children:n.jsx(re,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(bn,{className:"h-6 w-6 rounded-full"}),n.jsxs("div",{children:[n.jsx(bn,{className:"h-4 w-32 mb-2"}),n.jsx(bn,{className:"h-3 w-48"})]})]}),n.jsxs("div",{children:[n.jsx(bn,{className:"h-3 w-24 mb-1"}),n.jsx(bn,{className:"h-3 w-16"})]})]})})},d)):i.length===0?n.jsx(So,{icon:n.jsx(qt,{className:"h-12 w-12"}),title:"No Messages Found",description:r?`No ${r} messages found for the selected time period.`:"No messages found for the selected time period."}):i.map(l=>n.jsx(OQ,{message:l},l.id))})]})},LQ=({selectedBusinessComponent:e,businessComponents:t,loading:r,onBusinessComponentChange:s})=>n.jsxs(X,{className:"animate-scale-in",children:[n.jsxs(re,{children:[n.jsxs(ae,{className:"flex items-center gap-2",children:[n.jsx(Bt,{className:"h-5 w-5"}),"Business Component Filter"]}),n.jsx(ge,{children:"Filter channels by business component"})]}),n.jsx(te,{children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"businessComponent",children:"Business Component"}),n.jsxs(Z,{value:(e==null?void 0:e.id)||"",onValueChange:a=>{const o=t.find(i=>i.id===a)||null;s(o)},disabled:r,children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select a business component to filter channels"})}),n.jsx(J,{children:t.map(a=>n.jsx(A,{value:a.id,children:a.name},a.id))})]})]})})]}),$Q=()=>{const[e,t]=p.useState(null),[r,s]=p.useState(null),{businessComponents:a,loading:o}=Kr(),{messages:i,stats:l,loading:d,connected:c,refreshData:u}=CQ(e==null?void 0:e.id),m=r?i.filter(x=>x.status===r):i,h=()=>{u()},f=x=>{s(r===x?null:x)},j=x=>{t(x),s(null)};return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[n.jsx(an,{className:"h-8 w-8"}),"Message Monitor"]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("p",{className:"text-muted-foreground",children:"Track and analyze integration message flows"}),n.jsxs(oe,{variant:c?"default":"destructive",className:"flex items-center gap-1",children:[c?n.jsx(iI,{className:"h-3 w-3"}):n.jsx(oI,{className:"h-3 w-3"}),c?"Live":"Disconnected"]})]})]}),n.jsxs(W,{variant:"outline",size:"sm",onClick:h,className:"hover-scale",disabled:d,children:[n.jsx(hn,{className:`h-4 w-4 mr-2 ${d?"animate-spin":""}`}),"Refresh"]})]}),n.jsx(EQ,{messages:m,stats:l,isBusinessComponentSelected:!!e,onStatusFilter:f,statusFilter:r,loading:d}),n.jsx(LQ,{selectedBusinessComponent:e,businessComponents:a,loading:o,onBusinessComponentChange:j}),n.jsx(IQ,{messages:m,isBusinessComponentSelected:!!e,statusFilter:r,loading:d})]})};function Pe(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function pn(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Gt(e,t){const r=Pe(e);return isNaN(t)?pn(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function yr(e,t){const r=Pe(e);if(isNaN(t))return pn(e,NaN);if(!t)return r;const s=r.getDate(),a=pn(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const o=a.getDate();return s>=o?a:(r.setFullYear(a.getFullYear(),a.getMonth(),s),r)}const Fj=6048e5,UQ=864e5,ju=43200,Hb=1440;let HQ={};function gl(){return HQ}function qr(e,t){var l,d,c,u;const r=gl(),s=(t==null?void 0:t.weekStartsOn)??((d=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:d.weekStartsOn)??r.weekStartsOn??((u=(c=r.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,a=Pe(e),o=a.getDay(),i=(o<s?7:0)+o-s;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function go(e){return qr(e,{weekStartsOn:1})}function l4(e){const t=Pe(e),r=t.getFullYear(),s=pn(e,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const a=go(s),o=pn(e,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const i=go(o);return t.getTime()>=a.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function Ji(e){const t=Pe(e);return t.setHours(0,0,0,0),t}function Zi(e){const t=Pe(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Ir(e,t){const r=Ji(e),s=Ji(t),a=+r-Zi(r),o=+s-Zi(s);return Math.round((a-o)/UQ)}function VQ(e){const t=l4(e),r=pn(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),go(r)}function Gg(e,t){const r=t*7;return Gt(e,r)}function BQ(e,t){return yr(e,t*12)}function zQ(e){let t;return e.forEach(function(r){const s=Pe(r);(t===void 0||t<s||isNaN(Number(s)))&&(t=s)}),t||new Date(NaN)}function qQ(e){let t;return e.forEach(r=>{const s=Pe(r);(!t||t>s||isNaN(+s))&&(t=s)}),t||new Date(NaN)}function Bu(e,t){const r=Pe(e),s=Pe(t),a=r.getTime()-s.getTime();return a<0?-1:a>0?1:a}function WQ(e){return pn(e,Date.now())}function ln(e,t){const r=Ji(e),s=Ji(t);return+r==+s}function _j(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function YQ(e){if(!_j(e)&&typeof e!="number")return!1;const t=Pe(e);return!isNaN(Number(t))}function el(e,t){const r=Pe(e),s=Pe(t),a=r.getFullYear()-s.getFullYear(),o=r.getMonth()-s.getMonth();return a*12+o}function KQ(e,t,r){const s=qr(e,r),a=qr(t,r),o=+s-Zi(s),i=+a-Zi(a);return Math.round((o-i)/Fj)}function GQ(e){return t=>{const s=(e?Math[e]:Math.trunc)(t);return s===0?0:s}}function XQ(e,t){return+Pe(e)-+Pe(t)}function QQ(e){const t=Pe(e);return t.setHours(23,59,59,999),t}function fp(e){const t=Pe(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function JQ(e){const t=Pe(e);return+QQ(t)==+fp(t)}function ZQ(e,t){const r=Pe(e),s=Pe(t),a=Bu(r,s),o=Math.abs(el(r,s));let i;if(o<1)i=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*o);let l=Bu(r,s)===-a;JQ(Pe(e))&&o===1&&Bu(e,s)===1&&(l=!1),i=a*(o-Number(l))}return i===0?0:i}function eJ(e,t,r){const s=XQ(e,t)/1e3;return GQ(r==null?void 0:r.roundingMethod)(s)}function mn(e){const t=Pe(e);return t.setDate(1),t.setHours(0,0,0,0),t}function c4(e){const t=Pe(e),r=pn(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Oj(e,t){var l,d,c,u;const r=gl(),s=(t==null?void 0:t.weekStartsOn)??((d=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:d.weekStartsOn)??r.weekStartsOn??((u=(c=r.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,a=Pe(e),o=a.getDay(),i=(o<s?-7:0)+6-(o-s);return a.setDate(a.getDate()+i),a.setHours(23,59,59,999),a}function d4(e){return Oj(e,{weekStartsOn:1})}const tJ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},nJ=(e,t,r)=>{let s;const a=tJ[e];return typeof a=="string"?s=a:t===1?s=a.one:s=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function Vf(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const rJ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},sJ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},aJ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},oJ={date:Vf({formats:rJ,defaultWidth:"full"}),time:Vf({formats:sJ,defaultWidth:"full"}),dateTime:Vf({formats:aJ,defaultWidth:"full"})},iJ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},lJ=(e,t,r,s)=>iJ[e];function $l(e){return(t,r)=>{const s=r!=null&&r.context?String(r.context):"standalone";let a;if(s==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):i;a=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return a[o]}}const cJ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},dJ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},uJ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},hJ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},mJ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},pJ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},fJ=(e,t)=>{const r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},xJ={ordinalNumber:fJ,era:$l({values:cJ,defaultWidth:"wide"}),quarter:$l({values:dJ,defaultWidth:"wide",argumentCallback:e=>e-1}),month:$l({values:uJ,defaultWidth:"wide"}),day:$l({values:hJ,defaultWidth:"wide"}),dayPeriod:$l({values:mJ,defaultWidth:"wide",formattingValues:pJ,defaultFormattingWidth:"wide"})};function Ul(e){return(t,r={})=>{const s=r.width,a=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],o=t.match(a);if(!o)return null;const i=o[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(l)?vJ(l,m=>m.test(i)):gJ(l,m=>m.test(i));let c;c=e.valueCallback?e.valueCallback(d):d,c=r.valueCallback?r.valueCallback(c):c;const u=t.slice(i.length);return{value:c,rest:u}}}function gJ(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function vJ(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function yJ(e){return(t,r={})=>{const s=t.match(e.matchPattern);if(!s)return null;const a=s[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=r.valueCallback?r.valueCallback(i):i;const l=t.slice(a.length);return{value:i,rest:l}}}const jJ=/^(\d+)(th|st|nd|rd)?/i,wJ=/\d+/i,NJ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},bJ={any:[/^b/i,/^(a|c)/i]},SJ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},CJ={any:[/1/i,/2/i,/3/i,/4/i]},EJ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},PJ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},kJ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},TJ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},AJ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},MJ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},DJ={ordinalNumber:yJ({matchPattern:jJ,parsePattern:wJ,valueCallback:e=>parseInt(e,10)}),era:Ul({matchPatterns:NJ,defaultMatchWidth:"wide",parsePatterns:bJ,defaultParseWidth:"any"}),quarter:Ul({matchPatterns:SJ,defaultMatchWidth:"wide",parsePatterns:CJ,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ul({matchPatterns:EJ,defaultMatchWidth:"wide",parsePatterns:PJ,defaultParseWidth:"any"}),day:Ul({matchPatterns:kJ,defaultMatchWidth:"wide",parsePatterns:TJ,defaultParseWidth:"any"}),dayPeriod:Ul({matchPatterns:AJ,defaultMatchWidth:"any",parsePatterns:MJ,defaultParseWidth:"any"})},Ij={code:"en-US",formatDistance:nJ,formatLong:oJ,formatRelative:lJ,localize:xJ,match:DJ,options:{weekStartsOn:0,firstWeekContainsDate:1}};function RJ(e){const t=Pe(e);return Ir(t,c4(t))+1}function u4(e){const t=Pe(e),r=+go(t)-+VQ(t);return Math.round(r/Fj)+1}function h4(e,t){var u,m,h,f;const r=Pe(e),s=r.getFullYear(),a=gl(),o=(t==null?void 0:t.firstWeekContainsDate)??((m=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:m.firstWeekContainsDate)??a.firstWeekContainsDate??((f=(h=a.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,i=pn(e,0);i.setFullYear(s+1,0,o),i.setHours(0,0,0,0);const l=qr(i,t),d=pn(e,0);d.setFullYear(s,0,o),d.setHours(0,0,0,0);const c=qr(d,t);return r.getTime()>=l.getTime()?s+1:r.getTime()>=c.getTime()?s:s-1}function FJ(e,t){var l,d,c,u;const r=gl(),s=(t==null?void 0:t.firstWeekContainsDate)??((d=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(c=r.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,a=h4(e,t),o=pn(e,0);return o.setFullYear(a,0,s),o.setHours(0,0,0,0),qr(o,t)}function m4(e,t){const r=Pe(e),s=+qr(r,t)-+FJ(r,t);return Math.round(s/Fj)+1}function Ve(e,t){const r=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return r+s}const _s={y(e,t){const r=e.getFullYear(),s=r>0?r:1-r;return Ve(t==="yy"?s%100:s,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Ve(r+1,2)},d(e,t){return Ve(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Ve(e.getHours()%12||12,t.length)},H(e,t){return Ve(e.getHours(),t.length)},m(e,t){return Ve(e.getMinutes(),t.length)},s(e,t){return Ve(e.getSeconds(),t.length)},S(e,t){const r=t.length,s=e.getMilliseconds(),a=Math.trunc(s*Math.pow(10,r-3));return Ve(a,t.length)}},Lo={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Vb={G:function(e,t,r){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const s=e.getFullYear(),a=s>0?s:1-s;return r.ordinalNumber(a,{unit:"year"})}return _s.y(e,t)},Y:function(e,t,r,s){const a=h4(e,s),o=a>0?a:1-a;if(t==="YY"){const i=o%100;return Ve(i,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):Ve(o,t.length)},R:function(e,t){const r=l4(e);return Ve(r,t.length)},u:function(e,t){const r=e.getFullYear();return Ve(r,t.length)},Q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return Ve(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return Ve(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,r){const s=e.getMonth();switch(t){case"M":case"MM":return _s.M(e,t);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,r){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return Ve(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,r,s){const a=m4(e,s);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Ve(a,t.length)},I:function(e,t,r){const s=u4(e);return t==="Io"?r.ordinalNumber(s,{unit:"week"}):Ve(s,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):_s.d(e,t)},D:function(e,t,r){const s=RJ(e);return t==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):Ve(s,t.length)},E:function(e,t,r){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,r,s){const a=e.getDay(),o=(a-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Ve(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,s){const a=e.getDay(),o=(a-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Ve(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const s=e.getDay(),a=s===0?7:s;switch(t){case"i":return String(a);case"ii":return Ve(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const s=e.getHours();let a;switch(s===12?a=Lo.noon:s===0?a=Lo.midnight:a=s/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const s=e.getHours();let a;switch(s>=17?a=Lo.evening:s>=12?a=Lo.afternoon:s>=4?a=Lo.morning:a=Lo.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return _s.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):_s.H(e,t)},K:function(e,t,r){const s=e.getHours()%12;return t==="Ko"?r.ordinalNumber(s,{unit:"hour"}):Ve(s,t.length)},k:function(e,t,r){let s=e.getHours();return s===0&&(s=24),t==="ko"?r.ordinalNumber(s,{unit:"hour"}):Ve(s,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):_s.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):_s.s(e,t)},S:function(e,t){return _s.S(e,t)},X:function(e,t,r){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return zb(s);case"XXXX":case"XX":return _a(s);case"XXXXX":case"XXX":default:return _a(s,":")}},x:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"x":return zb(s);case"xxxx":case"xx":return _a(s);case"xxxxx":case"xxx":default:return _a(s,":")}},O:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Bb(s,":");case"OOOO":default:return"GMT"+_a(s,":")}},z:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Bb(s,":");case"zzzz":default:return"GMT"+_a(s,":")}},t:function(e,t,r){const s=Math.trunc(e.getTime()/1e3);return Ve(s,t.length)},T:function(e,t,r){const s=e.getTime();return Ve(s,t.length)}};function Bb(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),a=Math.trunc(s/60),o=s%60;return o===0?r+String(a):r+String(a)+t+Ve(o,2)}function zb(e,t){return e%60===0?(e>0?"-":"+")+Ve(Math.abs(e)/60,2):_a(e,t)}function _a(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),a=Ve(Math.trunc(s/60),2),o=Ve(s%60,2);return r+a+t+o}const qb=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},p4=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},_J=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],s=r[1],a=r[2];if(!a)return qb(e,t);let o;switch(s){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",qb(s,t)).replace("{{time}}",p4(a,t))},OJ={p:p4,P:_J},IJ=/^D+$/,LJ=/^Y+$/,$J=["D","DD","YY","YYYY"];function UJ(e){return IJ.test(e)}function HJ(e){return LJ.test(e)}function VJ(e,t,r){const s=BJ(e,t,r);if(console.warn(s),$J.includes(e))throw new RangeError(s)}function BJ(e,t,r){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const zJ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,qJ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,WJ=/^'([^]*?)'?$/,YJ=/''/g,KJ=/[a-zA-Z]/;function Ns(e,t,r){var u,m,h,f,j,x,w,v;const s=gl(),a=(r==null?void 0:r.locale)??s.locale??Ij,o=(r==null?void 0:r.firstWeekContainsDate)??((m=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:m.firstWeekContainsDate)??s.firstWeekContainsDate??((f=(h=s.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,i=(r==null?void 0:r.weekStartsOn)??((x=(j=r==null?void 0:r.locale)==null?void 0:j.options)==null?void 0:x.weekStartsOn)??s.weekStartsOn??((v=(w=s.locale)==null?void 0:w.options)==null?void 0:v.weekStartsOn)??0,l=Pe(e);if(!YQ(l))throw new RangeError("Invalid time value");let d=t.match(qJ).map(g=>{const y=g[0];if(y==="p"||y==="P"){const N=OJ[y];return N(g,a.formatLong)}return g}).join("").match(zJ).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const y=g[0];if(y==="'")return{isToken:!1,value:GJ(g)};if(Vb[y])return{isToken:!0,value:g};if(y.match(KJ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:g}});a.localize.preprocessor&&(d=a.localize.preprocessor(l,d));const c={firstWeekContainsDate:o,weekStartsOn:i,locale:a};return d.map(g=>{if(!g.isToken)return g.value;const y=g.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&HJ(y)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&UJ(y))&&VJ(y,t,String(e));const N=Vb[y[0]];return N(l,y,a.localize,c)}).join("")}function GJ(e){const t=e.match(WJ);return t?t[1].replace(YJ,"'"):e}function XJ(e,t,r){const s=gl(),a=(r==null?void 0:r.locale)??s.locale??Ij,o=2520,i=Bu(e,t);if(isNaN(i))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:i});let d,c;i>0?(d=Pe(t),c=Pe(e)):(d=Pe(e),c=Pe(t));const u=eJ(c,d),m=(Zi(c)-Zi(d))/1e3,h=Math.round((u-m)/60);let f;if(h<2)return r!=null&&r.includeSeconds?u<5?a.formatDistance("lessThanXSeconds",5,l):u<10?a.formatDistance("lessThanXSeconds",10,l):u<20?a.formatDistance("lessThanXSeconds",20,l):u<40?a.formatDistance("halfAMinute",0,l):u<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):h===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",h,l);if(h<45)return a.formatDistance("xMinutes",h,l);if(h<90)return a.formatDistance("aboutXHours",1,l);if(h<Hb){const j=Math.round(h/60);return a.formatDistance("aboutXHours",j,l)}else{if(h<o)return a.formatDistance("xDays",1,l);if(h<ju){const j=Math.round(h/Hb);return a.formatDistance("xDays",j,l)}else if(h<ju*2)return f=Math.round(h/ju),a.formatDistance("aboutXMonths",f,l)}if(f=ZQ(c,d),f<12){const j=Math.round(h/ju);return a.formatDistance("xMonths",j,l)}else{const j=f%12,x=Math.trunc(f/12);return j<3?a.formatDistance("aboutXYears",x,l):j<9?a.formatDistance("overXYears",x,l):a.formatDistance("almostXYears",x+1,l)}}function QJ(e,t){return XJ(e,WQ(e),t)}function JJ(e){const t=Pe(e),r=t.getFullYear(),s=t.getMonth(),a=pn(e,0);return a.setFullYear(r,s+1,0),a.setHours(0,0,0,0),a.getDate()}function ZJ(e){return Math.trunc(+Pe(e)/1e3)}function eZ(e){const t=Pe(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function tZ(e,t){return KQ(eZ(e),mn(e),t)+1}function Xg(e,t){const r=Pe(e),s=Pe(t);return r.getTime()>s.getTime()}function f4(e,t){const r=Pe(e),s=Pe(t);return+r<+s}function Lj(e,t){const r=Pe(e),s=Pe(t);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function nZ(e,t){const r=Pe(e),s=Pe(t);return r.getFullYear()===s.getFullYear()}function Bf(e,t){return Gt(e,-t)}function zf(e,t){const r=Pe(e),s=r.getFullYear(),a=r.getDate(),o=pn(e,0);o.setFullYear(s,t,15),o.setHours(0,0,0,0);const i=JJ(o);return r.setMonth(t,Math.min(a,i)),r}function Wb(e,t){const r=Pe(e);return isNaN(+r)?pn(e,NaN):(r.setFullYear(t),r)}const rZ=({channelId:e,channelName:t,logs:r,loading:s=!1,onRefresh:a,onExport:o,realTimeEnabled:i=!1})=>{const[l,d]=p.useState(""),[c,u]=p.useState("all"),[m,h]=p.useState(new Set),[f,j]=p.useState([]);p.useEffect(()=>{let b=r;l&&(b=b.filter(E=>{var S,P;return E.message.toLowerCase().includes(l.toLowerCase())||((S=E.adapterName)==null?void 0:S.toLowerCase().includes(l.toLowerCase()))||((P=E.correlationId)==null?void 0:P.toLowerCase().includes(l.toLowerCase()))})),c!=="all"&&(b=b.filter(E=>E.level===c)),j(b)},[r,l,c]);const x=b=>{switch(b){case"error":return n.jsx(xs,{className:"h-4 w-4 text-destructive"});case"warn":return n.jsx(vs,{className:"h-4 w-4 text-warning"});case"info":return n.jsx(gs,{className:"h-4 w-4 text-info"});case"debug":return n.jsx(IO,{className:"h-4 w-4 text-muted-foreground"})}},w=b=>{switch(b){case"error":return"destructive";case"warn":return"secondary";case"info":return"default";case"debug":return"outline"}},v=b=>{h(E=>{const S=new Set(E);return S.has(b)?S.delete(b):S.add(b),S})},g=b=>{const E=new Date(b);return{time:E.toLocaleTimeString(),relative:QJ(E,{addSuffix:!0})}},N=(()=>{const b={error:0,warn:0,info:0,debug:0};return r.forEach(E=>b[E.level]++),b})();return n.jsxs(X,{className:"bg-gradient-secondary border-border/50",children:[n.jsxs(re,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(ae,{className:"flex items-center gap-2",children:[n.jsx(fr,{className:"h-5 w-5"}),"Channel Logs",i&&n.jsx(oe,{variant:"secondary",className:"animate-pulse",children:"Live"})]}),n.jsxs(ge,{children:["Real-time activity and execution logs for ",t]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[o&&n.jsxs(W,{variant:"outline",size:"sm",onClick:o,children:[n.jsx(ld,{className:"h-4 w-4 mr-2"}),"Export"]}),a&&n.jsxs(W,{variant:"outline",size:"sm",onClick:a,disabled:s,children:[n.jsx(hn,{className:`h-4 w-4 mr-2 ${s?"animate-spin":""}`}),"Refresh"]})]})]}),n.jsx("div",{className:"flex items-center gap-4 pt-2",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(oe,{variant:"destructive",className:"text-xs",children:[N.error," Errors"]}),n.jsxs(oe,{variant:"secondary",className:"text-xs",children:[N.warn," Warnings"]}),n.jsxs(oe,{variant:"default",className:"text-xs",children:[N.info," Info"]}),n.jsxs(oe,{variant:"outline",className:"text-xs",children:[N.debug," Debug"]})]})}),n.jsxs("div",{className:"flex items-center gap-4 pt-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Ur,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(O,{placeholder:"Search logs...",value:l,onChange:b=>d(b.target.value),className:"pl-10"})]})}),n.jsxs(Z,{value:c,onValueChange:b=>u(b),children:[n.jsxs(Q,{className:"w-32",children:[n.jsx(gm,{className:"h-4 w-4 mr-2"}),n.jsx(ee,{})]}),n.jsxs(J,{children:[n.jsx(A,{value:"all",children:"All Levels"}),n.jsx(A,{value:"error",children:"Error"}),n.jsx(A,{value:"warn",children:"Warning"}),n.jsx(A,{value:"info",children:"Info"}),n.jsx(A,{value:"debug",children:"Debug"})]})]})]})]}),n.jsx(te,{children:n.jsx(mo,{className:"h-96",children:n.jsx("div",{className:"space-y-2",children:f.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:l||c!=="all"?"No logs match the current filters":"No logs available"}):f.map(b=>{const E=m.has(b.id),S=g(b.timestamp);return n.jsxs("div",{className:"border border-border/50 rounded-lg p-3 bg-background/50",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[x(b.level),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(oe,{variant:w(b.level),className:"text-xs",children:b.level.toUpperCase()}),b.adapterName&&n.jsx(oe,{variant:"outline",className:"text-xs",children:b.adapterName}),b.correlationId&&n.jsx("code",{className:"text-xs text-muted-foreground bg-muted px-1 rounded",children:b.correlationId}),b.duration&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:[b.duration,"ms"]})]}),n.jsx("p",{className:"text-sm text-foreground mb-1",children:b.message}),n.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[n.jsx("span",{children:S.time}),n.jsx("span",{children:S.relative})]})]})]}),b.details&&n.jsx(W,{variant:"ghost",size:"sm",onClick:()=>v(b.id),className:"ml-2",children:E?n.jsx(pr,{className:"h-4 w-4"}):n.jsx(qn,{className:"h-4 w-4"})})]}),E&&b.details&&n.jsxs(n.Fragment,{children:[n.jsx(Ke,{className:"my-2"}),n.jsx("div",{className:"bg-muted/50 rounded p-2",children:n.jsx("pre",{className:"text-xs overflow-x-auto",children:typeof b.details=="string"?b.details:JSON.stringify(b.details,null,2)})})]})]},b.id)})})})})]})},sZ=(e,t)=>{const[r,s]=p.useState([]),[a,o]=p.useState(!0),[i,l]=p.useState(null);p.useEffect(()=>{e&&d()},[e,t]);const d=async()=>{if(e){o(!0),l(null);try{const c=await pi.getChannelLogs(e,t);c.success&&c.data?s(c.data):(l(c.error||"Failed to load channel logs"),s([]))}catch(c){l(c instanceof Error?c.message:"An unexpected error occurred"),s([])}finally{o(!1)}}};return{logs:r,loading:a,error:i,refreshLogs:d,connected:!1,exportLogs:async()=>{console.log("Export logs functionality will be implemented")}}},aZ=({channel:e})=>{const[t,r]=p.useState(!1),[s,a]=p.useState(!1),{logs:o,loading:i,connected:l,refreshLogs:d,exportLogs:c}=sZ(e.id,{limit:50}),u=h=>{switch(h){case"running":return"bg-success";case"idle":return"bg-warning";case"stopped":return"bg-destructive";default:return"bg-muted-foreground"}},m=h=>{switch(h){case"active":return"default";case"inactive":return"secondary";case"error":return"destructive";case"testing":return"outline";default:return"outline"}};return n.jsx(X,{className:"bg-gradient-secondary border-border/50 animate-fade-in",children:n.jsxs(te,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:`h-3 w-3 rounded-full ${u(e.status)}`}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-lg",children:e.name}),n.jsx("div",{className:"text-sm text-muted-foreground",children:e.description})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"text-sm text-muted-foreground mr-2",children:"Adapters"}),n.jsx("div",{className:"flex gap-1",children:e.adapters.map(h=>n.jsx(oe,{variant:m(h.status),className:"text-xs",children:h.name},h.id))})]})]}),n.jsxs("div",{className:"flex items-center justify-between mt-6 pt-4 border-t border-border/10",children:[n.jsxs("div",{className:"flex-1 max-w-xs",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[n.jsx("span",{className:"text-muted-foreground",children:"Load"}),n.jsxs("span",{className:"font-medium",children:[e.load,"%"]})]}),n.jsx(fd,{value:e.load,className:"h-2"})]}),n.jsxs("div",{className:"flex items-center gap-8 ml-8",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ur,{className:"h-4 w-4 text-warning"}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-sm font-medium",children:e.throughput}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"msg/sec"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(fr,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-sm font-medium",children:e.lastActivity}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Last activity"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(t2,{className:"h-4 w-4 text-success"}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-sm font-medium",children:e.uptime}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Uptime"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(xs,{className:"h-4 w-4 text-destructive"}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-sm font-medium",children:e.totalMessages}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Total messages"})]})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[n.jsxs(W,{variant:"outline",size:"sm",className:"hover-scale",onClick:()=>{console.log(`${e.status==="running"?"Stopping":"Starting"} channel ${e.id}`)},children:[e.status==="running"?n.jsx(JO,{className:"h-4 w-4 mr-2"}):n.jsx(ol,{className:"h-4 w-4 mr-2"}),e.status==="running"?"Pause":"Start"]}),n.jsxs(W,{variant:"outline",size:"sm",className:"hover-scale",onClick:()=>{console.log(`Opening settings for channel ${e.id}`)},children:[n.jsx(nt,{className:"h-4 w-4 mr-2"}),"Settings"]}),n.jsx(Ql,{open:t,onOpenChange:r,children:n.jsx(Yg,{asChild:!0,children:n.jsxs(W,{variant:"outline",size:"sm",className:"hover-scale",children:[n.jsx(kc,{className:"h-4 w-4 mr-2"}),"View Logs",t?n.jsx(pr,{className:"h-4 w-4 ml-2"}):n.jsx(qn,{className:"h-4 w-4 ml-2"})]})})}),n.jsx(Ql,{open:s,onOpenChange:a,children:n.jsx(Yg,{asChild:!0,children:n.jsxs(W,{variant:"outline",size:"sm",className:"hover-scale",children:[n.jsx($O,{className:"h-4 w-4 mr-2"}),"Detailed Metrics",s?n.jsx(pr,{className:"h-4 w-4 ml-2"}):n.jsx(qn,{className:"h-4 w-4 ml-2"})]})})}),n.jsxs(W,{variant:"outline",size:"sm",className:"hover-scale",children:[n.jsx(no,{className:"h-4 w-4 mr-2"}),"Live"]}),l&&n.jsx(oe,{variant:"secondary",className:"animate-pulse",children:"Live"})]}),n.jsx(Ql,{open:t,onOpenChange:r,children:n.jsx(Kg,{className:"mt-4",children:n.jsx(rZ,{channelId:e.id,channelName:e.name,logs:o,loading:i,onRefresh:d,onExport:c,realTimeEnabled:l})})}),n.jsx(Ql,{open:s,onOpenChange:a,children:n.jsx(Kg,{className:"mt-4",children:n.jsxs(X,{className:"bg-gradient-secondary border-border/50",children:[n.jsx(re,{children:n.jsx(ae,{className:"text-lg",children:"Detailed Adapter Metrics"})}),n.jsx(te,{children:n.jsx("div",{className:"space-y-4",children:e.adapters.map(h=>(h.icon,n.jsxs("div",{className:"flex items-center justify-between p-3 border border-border/50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(no,{className:"h-5 w-5"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:h.name}),n.jsx("div",{className:"text-sm text-muted-foreground",children:h.category})]})]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"font-medium",children:h.messagesProcessed.toLocaleString()}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Messages"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"font-medium",children:h.errorCount}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Errors"})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"font-medium",children:[h.avgResponseTime,"ms"]}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Avg Response"})]}),n.jsx(oe,{variant:m(h.status),children:h.status})]})]},h.id)))})})]})})})]})})};function oZ({selectedStatus:e,onStatusChange:t}){const r=[{value:null,label:"All",color:"bg-gray-100"},{value:"active",label:"Active",color:"bg-green-100"},{value:"running",label:"Running",color:"bg-blue-100"},{value:"stopped",label:"Stopped",color:"bg-yellow-100"},{value:"error",label:"Error",color:"bg-red-100"}];return n.jsxs(X,{className:"p-4",children:[n.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Filter by Status"}),n.jsx("div",{className:"flex gap-2 flex-wrap",children:r.map(s=>n.jsx(W,{variant:e===s.value?"default":"outline",size:"sm",onClick:()=>t(s.value),className:e!==s.value?s.color:"",children:s.label},s.value||"all"))})]})}function iZ(){const[e,t]=p.useState(null),[r,s]=p.useState(null),[a,o]=p.useState([]),[i,l]=p.useState(!0),[d,c]=p.useState(null),{businessComponents:u,loading:m}=Kr(),{toast:h}=Qe();p.useEffect(()=>{const N=async()=>{try{c(null),l(!0);const E=await pi.getChannels(e==null?void 0:e.id);E.success&&E.data?o(E.data):(c(E.error||"Failed to fetch channels"),h({variant:"destructive",title:"Error",description:E.error||"Failed to fetch channels"}))}catch(E){console.error("Error fetching channels:",E),c("Failed to load channels"),h({variant:"destructive",title:"Error",description:"Failed to load channels"})}finally{l(!1)}};N();const b=setInterval(N,3e4);return()=>clearInterval(b)},[e,h]);const f=async(N,b)=>{try{const E=await pi.updateChannel(N,b);E.success&&E.data?(o(S=>S.map(P=>P.id===N?E.data:P)),h({title:"Success",description:"Channel updated successfully"})):h({variant:"destructive",title:"Error",description:E.error||"Failed to update channel"})}catch(E){console.error("Error updating channel:",E),h({variant:"destructive",title:"Error",description:"Failed to update channel"})}},j=async N=>{try{const b=await pi.deleteChannel(N);b.success?(o(E=>E.filter(S=>S.id!==N)),h({title:"Success",description:"Channel deleted successfully"})):h({variant:"destructive",title:"Error",description:b.error||"Failed to delete channel"})}catch(b){console.error("Error deleting channel:",b),h({variant:"destructive",title:"Error",description:"Failed to delete channel"})}},x=a.filter(N=>!(r&&N.status!==r)),w=a.length,v=a.filter(N=>N.status==="running"||N.status==="active").length,g=a.filter(N=>N.status==="error").length,y=a.length>0?Math.round(a.reduce((N,b)=>N+(b.load||0),0)/a.length):0;return n.jsxs("div",{className:"container mx-auto p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Integration Channels"}),n.jsx("p",{className:"text-gray-600",children:"Monitor and manage your integration channels"})]}),n.jsxs("div",{className:"mb-6 flex items-center gap-4",children:[n.jsx(C,{htmlFor:"business-component",children:"Business Component:"}),n.jsxs(Z,{value:(e==null?void 0:e.id)||"all",onValueChange:N=>{if(N==="all")t(null);else{const b=u.find(E=>E.id===N);t(b||null)}},disabled:m,children:[n.jsx(Q,{id:"business-component",className:"w-[280px]",children:n.jsx(ee,{placeholder:"Select a business component"})}),n.jsxs(J,{children:[n.jsx(A,{value:"all",children:"All Components"}),u.map(N=>n.jsx(A,{value:N.id,children:N.name},N.id))]})]})]}),d&&n.jsx("div",{className:"mb-6 bg-destructive/10 text-destructive p-4 rounded-lg",children:d}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[n.jsxs(X,{className:"p-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Channels"}),n.jsx("p",{className:"text-2xl font-bold",children:w})]}),n.jsxs(X,{className:"p-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Active Channels"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:v})]}),n.jsxs(X,{className:"p-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Channels with Errors"}),n.jsx("p",{className:"text-2xl font-bold text-red-600",children:g})]}),n.jsxs(X,{className:"p-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Average Load"}),n.jsxs("div",{className:"mt-2",children:[n.jsx(fd,{value:y,className:"h-2"}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[y,"%"]})]})]})]}),n.jsx("div",{className:"mb-6",children:n.jsx(oZ,{selectedStatus:r,onStatusChange:s})}),i?n.jsx("div",{className:"flex justify-center items-center p-12",children:n.jsx(Jt,{className:"h-8 w-8 animate-spin"})}):x.length===0?n.jsx(X,{className:"p-12 text-center",children:n.jsx("p",{className:"text-gray-500",children:r?`No channels found with status: ${r}`:e?`No channels found for ${e.name}`:"No channels found"})}):n.jsx("div",{className:"grid grid-cols-1 gap-6",children:x.map(N=>n.jsx(aZ,{channel:N,onUpdate:b=>f(N.id,b),onDelete:()=>j(N.id)},N.id))})]})}const vl=p.forwardRef(({className:e,...t},r)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:r,className:de("w-full caption-bottom text-sm",e),...t})}));vl.displayName="Table";const yl=p.forwardRef(({className:e,...t},r)=>n.jsx("thead",{ref:r,className:de("[&_tr]:border-b",e),...t}));yl.displayName="TableHeader";const jl=p.forwardRef(({className:e,...t},r)=>n.jsx("tbody",{ref:r,className:de("[&_tr:last-child]:border-0",e),...t}));jl.displayName="TableBody";const lZ=p.forwardRef(({className:e,...t},r)=>n.jsx("tfoot",{ref:r,className:de("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));lZ.displayName="TableFooter";const jr=p.forwardRef(({className:e,...t},r)=>n.jsx("tr",{ref:r,className:de("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));jr.displayName="TableRow";const $e=p.forwardRef(({className:e,...t},r)=>n.jsx("th",{ref:r,className:de("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));$e.displayName="TableHead";const Ue=p.forwardRef(({className:e,...t},r)=>n.jsx("td",{ref:r,className:de("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Ue.displayName="TableCell";const cZ=p.forwardRef(({className:e,...t},r)=>n.jsx("caption",{ref:r,className:de("mt-4 text-sm text-muted-foreground",e),...t}));cZ.displayName="TableCaption";class dZ{async createFlow(t){return ce.post("/flows",t)}async getFlows(t){const r=new URLSearchParams;t&&Object.entries(t).forEach(([a,o])=>{o!==void 0&&r.append(a,o.toString())});const s=`/flows${r.toString()?`?${r.toString()}`:""}`;return ce.get(s)}async getFlow(t){return ce.get(`/flows/${t}`)}async updateFlow(t,r){return ce.put(`/flows/${t}`,r)}async deleteFlow(t){return ce.delete(`/flows/${t}`)}async testFlow(t,r){return ce.post(`/flows/${t}/test`,{testData:r})}async updateFlowStatus(t,r){return ce.patch(`/flows/${t}/status`,{status:r})}async getFlowExecutions(t,r){const s=new URLSearchParams;r&&Object.entries(r).forEach(([o,i])=>{i!==void 0&&s.append(o,i.toString())});const a=`/flows/${t}/executions${s.toString()?`?${s.toString()}`:""}`;return ce.get(a)}async saveFieldMappings(t,r){return ce.post(`/flows/${t}/field-mappings`,{mappings:r})}async cloneFlow(t,r){return ce.post(`/flows/${t}/clone`,{name:r})}async validateFlow(t){return ce.post("/flows/validate",t)}}const $j=new dZ;class uZ{async deployFlow(t){try{return await ce.post(`/flows/${t}/deployment/deploy`)}catch(r){return{success:!1,error:r instanceof Error?r.message:"Failed to deploy flow"}}}async undeployFlow(t){try{return{success:(await ce.post(`/flows/${t}/deployment/undeploy`)).success}}catch(r){return{success:!1,error:r instanceof Error?r.message:"Failed to undeploy flow"}}}async getDeploymentInfo(t){try{return await ce.get(`/flows/${t}/deployment`)}catch(r){return{success:!1,error:r instanceof Error?r.message:"Failed to fetch deployment info"}}}}const Uj=new uZ;function hZ(){const[e,t]=p.useState([]),[r,s]=p.useState(!0),[a,o]=p.useState(null),[i,l]=p.useState(!1),[d,c]=p.useState(null),{toast:u}=Qe();p.useEffect(()=>{m()},[]);const m=async()=>{try{s(!0);const x=await $j.getFlows();if(x.success&&x.data){const w=x.data.filter(v=>v.status==="DEVELOPED_INACTIVE"||v.status==="DRAFT"||v.status==="INACTIVE");t(w)}}catch{u({variant:"destructive",title:"Error",description:"Failed to fetch undeployed interfaces"})}finally{s(!1)}},h=x=>{c(x),l(!0)},f=async()=>{if(d)try{o(d.id),l(!1);const x=await Uj.deployFlow(d.id);x.success?(u({title:"Success",description:`Interface "${d.name}" has been deployed successfully`}),m()):u({variant:"destructive",title:"Deployment Failed",description:x.error||"Failed to deploy interface"})}catch{u({variant:"destructive",title:"Error",description:"An error occurred during deployment"})}finally{o(null),c(null)}},j=x=>{var w,v;return{sourceType:((w=x.sourceAdapter)==null?void 0:w.type)||"Unknown",targetType:((v=x.targetAdapter)==null?void 0:v.type)||"Unknown"}};return r?n.jsx("div",{className:"flex justify-center items-center p-12",children:n.jsx(Jt,{className:"h-8 w-8 animate-spin"})}):e.length===0?n.jsx(X,{children:n.jsxs(te,{className:"p-12 text-center",children:[n.jsx(xs,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"No undeployed interfaces found"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Create new interfaces or check the deployed interfaces tab"})]})}):n.jsxs(n.Fragment,{children:[n.jsxs(X,{children:[n.jsxs(re,{children:[n.jsx(ae,{children:"Undeployed Interfaces"}),n.jsx(ge,{children:"These interfaces are in development and not receiving external calls. Deploy them to make them available for production use."})]}),n.jsx(te,{children:n.jsxs(vl,{children:[n.jsx(yl,{children:n.jsxs(jr,{children:[n.jsx($e,{children:"Interface Name"}),n.jsx($e,{children:"Source → Target"}),n.jsx($e,{children:"Status"}),n.jsx($e,{children:"Mapping Mode"}),n.jsx($e,{children:"Last Modified"}),n.jsx($e,{className:"text-right",children:"Actions"})]})}),n.jsx(jl,{children:e.map(x=>{const w=j(x),v=a===x.id;return n.jsxs(jr,{children:[n.jsx(Ue,{className:"font-medium",children:x.name}),n.jsx(Ue,{children:n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(oe,{variant:"outline",children:w.sourceType}),n.jsx("span",{children:"→"}),n.jsx(oe,{variant:"outline",children:w.targetType})]})}),n.jsx(Ue,{children:n.jsx(oe,{variant:"secondary",children:x.status})}),n.jsx(Ue,{children:n.jsx(oe,{variant:x.mappingMode==="PASS_THROUGH"?"outline":"default",children:x.mappingMode==="PASS_THROUGH"?"Pass-through":"With Mapping"})}),n.jsx(Ue,{children:new Date(x.updatedAt).toLocaleDateString()}),n.jsx(Ue,{className:"text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx(W,{size:"sm",variant:"outline",onClick:()=>window.location.href=`/flows/${x.id}/edit`,children:n.jsx(nt,{className:"h-4 w-4"})}),n.jsxs(W,{size:"sm",onClick:()=>h(x),disabled:v||x.status==="DRAFT",children:[v?n.jsx(Jt,{className:"h-4 w-4 animate-spin"}):n.jsx(ZC,{className:"h-4 w-4"}),"Deploy"]})]})})]},x.id)})})]})})]}),n.jsx(Tj,{open:i,onOpenChange:l,children:n.jsxs(lp,{children:[n.jsxs(cp,{children:[n.jsx(up,{children:"Deploy Interface"}),n.jsxs(hp,{children:['Are you sure you want to deploy "',d==null?void 0:d.name,'"? This will make the interface available for external calls and activate any configured timers.']})]}),n.jsxs(dp,{children:[n.jsx(pp,{children:"Cancel"}),n.jsx(mp,{onClick:f,children:"Deploy"})]})]})})]})}function mZ(){const[e,t]=p.useState([]),[r,s]=p.useState(!0),[a,o]=p.useState(null),[i,l]=p.useState(!1),[d,c]=p.useState(null),{toast:u}=Qe(),m=Sa();p.useEffect(()=>{h()},[]);const h=async()=>{try{s(!0);const v=await $j.getFlows();if(v.success&&v.data){const g=v.data.filter(y=>y.status==="DEPLOYED_ACTIVE"||y.status==="ACTIVE");t(g)}}catch{u({variant:"destructive",title:"Error",description:"Failed to fetch deployed interfaces"})}finally{s(!1)}},f=v=>{m(`/interfaces/${v.id}/details`)},j=v=>{c(v),l(!0)},x=async()=>{if(d)try{o(d.id),l(!1);const v=await Uj.undeployFlow(d.id);v.success?(u({title:"Success",description:`Interface "${d.name}" has been undeployed`}),h()):u({variant:"destructive",title:"Undeploy Failed",description:v.error||"Failed to undeploy interface"})}catch{u({variant:"destructive",title:"Error",description:"An error occurred during undeployment"})}finally{o(null),c(null)}},w=v=>{var g,y;return{sourceType:((g=v.sourceAdapter)==null?void 0:g.type)||"Unknown",targetType:((y=v.targetAdapter)==null?void 0:y.type)||"Unknown"}};return r?n.jsx("div",{className:"flex justify-center items-center p-12",children:n.jsx(Jt,{className:"h-8 w-8 animate-spin"})}):e.length===0?n.jsx(X,{children:n.jsxs(te,{className:"p-12 text-center",children:[n.jsx(Pn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"No deployed interfaces found"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Deploy interfaces from the undeployed tab to see them here"})]})}):n.jsxs(n.Fragment,{children:[n.jsxs(X,{children:[n.jsxs(re,{children:[n.jsx(ae,{children:"Deployed Interfaces"}),n.jsx(ge,{children:"Active interfaces that are receiving calls from external systems and running scheduled tasks."})]}),n.jsx(te,{children:n.jsxs(vl,{children:[n.jsx(yl,{children:n.jsxs(jr,{children:[n.jsx($e,{children:"Interface Name"}),n.jsx($e,{children:"Source → Target"}),n.jsx($e,{children:"Status"}),n.jsx($e,{children:"Deployed At"}),n.jsx($e,{children:"Endpoint"}),n.jsx($e,{className:"text-right",children:"Actions"})]})}),n.jsx(jl,{children:e.map(v=>{const g=w(v),y=a===v.id;return n.jsxs(jr,{children:[n.jsx(Ue,{className:"font-medium",children:v.name}),n.jsx(Ue,{children:n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(oe,{variant:"outline",children:g.sourceType}),n.jsx("span",{children:"→"}),n.jsx(oe,{variant:"outline",children:g.targetType})]})}),n.jsx(Ue,{children:n.jsxs(oe,{variant:"success",children:[n.jsx(Pn,{className:"h-3 w-3 mr-1"}),"Active"]})}),n.jsx(Ue,{children:v.deployedAt?new Date(v.deployedAt).toLocaleString():"N/A"}),n.jsx(Ue,{children:n.jsx("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:v.deploymentEndpoint?v.deploymentEndpoint.substring(0,40)+"...":"N/A"})}),n.jsx(Ue,{className:"text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsxs(W,{size:"sm",variant:"outline",onClick:()=>f(v),children:[n.jsx(gs,{className:"h-4 w-4"}),"Details"]}),n.jsxs(W,{size:"sm",variant:"destructive",onClick:()=>j(v),disabled:y,children:[y?n.jsx(Jt,{className:"h-4 w-4 animate-spin"}):n.jsx(tI,{className:"h-4 w-4"}),"Undeploy"]})]})})]},v.id)})})]})})]}),n.jsx(Tj,{open:i,onOpenChange:l,children:n.jsxs(lp,{children:[n.jsxs(cp,{children:[n.jsx(up,{children:"Undeploy Interface"}),n.jsxs(hp,{children:['Are you sure you want to undeploy "',d==null?void 0:d.name,'"? This will deactivate the interface and stop receiving external calls. All endpoint information will be removed.']})]}),n.jsxs(dp,{children:[n.jsx(pp,{children:"Cancel"}),n.jsx(mp,{onClick:x,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Undeploy"})]})]})})]})}function pZ(){return n.jsxs("div",{className:"container mx-auto p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Interface Management"}),n.jsx("p",{className:"text-gray-600",children:"Manage your integration interfaces deployment lifecycle"})]}),n.jsx(X,{children:n.jsxs(Ge,{defaultValue:"undeployed",className:"w-full",children:[n.jsxs(qe,{className:"grid w-full grid-cols-2",children:[n.jsxs(Ne,{value:"undeployed",className:"flex items-center gap-2",children:[n.jsx(al,{className:"w-4 h-4"}),"Undeployed Interfaces"]}),n.jsxs(Ne,{value:"deployed",className:"flex items-center gap-2",children:[n.jsx(ZC,{className:"w-4 h-4"}),"Deployed Interfaces"]})]}),n.jsx(ye,{value:"undeployed",className:"mt-6",children:n.jsx(hZ,{})}),n.jsx(ye,{value:"deployed",className:"mt-6",children:n.jsx(mZ,{})})]})})]})}function fZ(){var x,w,v,g,y,N,b;const{flowId:e}=O$(),t=Sa(),{toast:r}=Qe(),[s,a]=p.useState(!0),[o,i]=p.useState(null),[l,d]=p.useState(null);p.useEffect(()=>{e&&c()},[e]);const c=async()=>{try{a(!0);const E=await $j.getFlow(e);E.success&&E.data&&i(E.data);const S=await Uj.getDeploymentInfo(e);S.success&&S.data&&d(S.data)}catch{r({variant:"destructive",title:"Error",description:"Failed to fetch interface details"})}finally{a(!1)}},u=(E,S)=>{navigator.clipboard.writeText(E),r({title:"Copied!",description:`${S} copied to clipboard`})},m=()=>{var E;(E=l==null?void 0:l.metadata)!=null&&E.wsdlUrl&&window.open(l.metadata.wsdlUrl,"_blank")};if(s)return n.jsx("div",{className:"container mx-auto p-6",children:n.jsx("div",{className:"flex justify-center items-center p-12",children:n.jsx(Jt,{className:"h-8 w-8 animate-spin"})})});if(!o||!l)return n.jsx("div",{className:"container mx-auto p-6",children:n.jsx(X,{children:n.jsxs(te,{className:"p-12 text-center",children:[n.jsx("p",{className:"text-muted-foreground",children:"Interface not found or not deployed"}),n.jsx(W,{variant:"outline",className:"mt-4",onClick:()=>t("/interfaces"),children:"Back to Interfaces"})]})})});const h=((x=l.metadata)==null?void 0:x.adapterType)||"Unknown",f=["HTTP","REST","SOAP"].includes(h),j=h==="SOAP";return n.jsxs("div",{className:"container mx-auto p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h1",{className:"text-3xl font-bold",children:o.name}),n.jsxs(oe,{variant:"success",className:"text-lg px-4 py-2",children:[n.jsx(Pn,{className:"h-4 w-4 mr-2"}),"Deployed"]})]}),n.jsx("p",{className:"text-gray-600",children:o.description})]}),n.jsxs("div",{className:"grid gap-6",children:[n.jsxs(X,{children:[n.jsxs(re,{children:[n.jsx(ae,{children:"Deployment Information"}),n.jsx(ge,{children:"Details about the deployed interface"})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(C,{className:"text-sm text-muted-foreground",children:"Deployed At"}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx(fr,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:new Date(l.deployedAt).toLocaleString()})]})]}),n.jsxs("div",{children:[n.jsx(C,{className:"text-sm text-muted-foreground",children:"Deployed By"}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx(Oi,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:l.deployedBy||"System"})]})]})]}),n.jsx(Ke,{}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"text-sm text-muted-foreground",children:"Adapter Type"}),n.jsx(oe,{variant:"outline",children:h})]})]})]}),f&&n.jsxs(X,{children:[n.jsxs(re,{children:[n.jsx(ae,{children:"Endpoint Information"}),n.jsx(ge,{children:"Connection details for external systems"})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"endpoint",children:"API Endpoint"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(O,{id:"endpoint",value:l.endpoint,readOnly:!0,className:"font-mono text-sm"}),n.jsx(W,{size:"icon",variant:"outline",onClick:()=>u(l.endpoint,"Endpoint"),children:n.jsx(gh,{className:"h-4 w-4"})})]})]}),j&&((w=l.metadata)==null?void 0:w.wsdlUrl)&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"wsdl",children:"WSDL URL"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(O,{id:"wsdl",value:l.metadata.wsdlUrl,readOnly:!0,className:"font-mono text-sm"}),n.jsx(W,{size:"icon",variant:"outline",onClick:()=>u(l.metadata.wsdlUrl,"WSDL URL"),children:n.jsx(gh,{className:"h-4 w-4"})}),n.jsx(W,{size:"icon",variant:"outline",onClick:m,children:n.jsx(ld,{className:"h-4 w-4"})})]})]}),h==="REST"&&((v=l.metadata)==null?void 0:v.apiDocsUrl)&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"apidocs",children:"API Documentation"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(O,{id:"apidocs",value:l.metadata.apiDocsUrl,readOnly:!0,className:"font-mono text-sm"}),n.jsx(W,{size:"icon",variant:"outline",onClick:()=>window.open(l.metadata.apiDocsUrl,"_blank"),children:n.jsx(ls,{className:"h-4 w-4"})})]})]}),((g=l.metadata)==null?void 0:g.httpMethods)&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{children:"Supported Methods"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:l.metadata.httpMethods})]}),((y=l.metadata)==null?void 0:y.contentType)&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{children:"Content Types"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:l.metadata.contentType})]})]})]}),["FILE","FTP","SFTP"].includes(h)&&n.jsxs(X,{children:[n.jsxs(re,{children:[n.jsx(ae,{children:"File Configuration"}),n.jsx(ge,{children:"File handling settings for this interface"})]}),n.jsx(te,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(C,{className:"text-sm text-muted-foreground",children:"Polling"}),n.jsx("p",{className:"mt-1",children:(N=l.metadata)!=null&&N.pollingEnabled?"Enabled":"Disabled"})]}),n.jsxs("div",{children:[n.jsx(C,{className:"text-sm text-muted-foreground",children:"File Pattern"}),n.jsx("p",{className:"mt-1 font-mono text-sm",children:((b=l.metadata)==null?void 0:b.filePattern)||"*.*"})]})]})})]}),n.jsxs(X,{children:[n.jsxs(re,{children:[n.jsx(ae,{children:"Integration Details"}),n.jsx(ge,{children:"Configuration and mapping information"})]}),n.jsx(te,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(C,{className:"text-sm text-muted-foreground",children:"Mapping Mode"}),n.jsx(oe,{variant:o.mappingMode==="PASS_THROUGH"?"outline":"default",children:o.mappingMode==="PASS_THROUGH"?"Pass-through":"With Mapping"})]}),n.jsxs("div",{children:[n.jsx(C,{className:"text-sm text-muted-foreground",children:"Status"}),n.jsx(oe,{variant:"success",children:o.status})]})]})})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(W,{variant:"outline",onClick:()=>t("/interfaces"),children:"Back to Interfaces"}),n.jsxs(W,{variant:"outline",onClick:()=>t(`/flows/${e}/edit`),children:[n.jsx(Ht,{className:"h-4 w-4 mr-2"}),"View Configuration"]})]})]})]})}const xZ=({users:e,roles:t,certificates:r,jarFiles:s})=>n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 animate-fade-in",children:[n.jsxs(X,{className:"hover-scale",children:[n.jsx(re,{className:"pb-2",children:n.jsxs(ae,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(Bt,{className:"h-4 w-4"}),"Total Users"]})}),n.jsxs(te,{children:[n.jsx("div",{className:"text-2xl font-bold",children:e.length}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Active users"})]})]}),n.jsxs(X,{className:"hover-scale",children:[n.jsx(re,{className:"pb-2",children:n.jsxs(ae,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(Cn,{className:"h-4 w-4"}),"Roles"]})}),n.jsxs(te,{children:[n.jsx("div",{className:"text-2xl font-bold",children:t.length}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Defined roles"})]})]}),n.jsxs(X,{className:"hover-scale",children:[n.jsx(re,{className:"pb-2",children:n.jsxs(ae,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(_i,{className:"h-4 w-4"}),"Certificates"]})}),n.jsxs(te,{children:[n.jsx("div",{className:"text-2xl font-bold",children:r.length}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"SSL/Auth certs"})]})]}),n.jsxs(X,{className:"hover-scale",children:[n.jsx(re,{className:"pb-2",children:n.jsxs(ae,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(Tc,{className:"h-4 w-4"}),"Connection Drivers"]})}),n.jsxs(te,{children:[n.jsx("div",{className:"text-2xl font-bold",children:s.length}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Driver files"})]})]})]});class gZ{async getAllUsers(t=0,r=50){return ce.get(`/users?page=${t}&limit=${r}`)}async getUserById(t){return ce.get(`/users/${t}`)}async createUser(t){const r={...t,password:t.password||this.generateDefaultPassword()};return ce.post("/auth/register",r)}async updateUser(t,r){return ce.put(`/users/${t}`,r)}async deleteUser(t){return ce.delete(`/users/${t}`)}async updateUserStatus(t,r){return ce.patch(`/users/${t}/status`,{status:r})}async resetUserPassword(t){return ce.post(`/users/${t}/reset-password`)}async assignRole(t,r,s={}){return ce.patch(`/users/${t}/role`,{role:r,permissions:s})}async getUserPermissions(t){return ce.get(`/users/${t}/permissions`)}async updateUserPermissions(t,r){return ce.patch(`/users/${t}/permissions`,{permissions:r})}async searchUsers(t,r){const s=new URLSearchParams({q:t,...(r==null?void 0:r.role)&&{role:r.role},...(r==null?void 0:r.status)&&{status:r.status},page:((r==null?void 0:r.page)||1).toString(),limit:((r==null?void 0:r.limit)||50).toString()});return ce.get(`/users/search?${s}`)}generateDefaultPassword(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*";let r="";for(let s=0;s<12;s++)r+=t.charAt(Math.floor(Math.random()*t.length));return r}getRolePermissions(t){return{administrator:{flows:["create","read","update","delete","execute"],adapters:["create","read","update","delete","test"],structures:["create","read","update","delete"],users:["create","read","update","delete"],system:["create","read","update","delete"],certificates:["create","read","update","delete"]},integrator:{flows:["create","read","update","execute"],adapters:["create","read","update","test"],structures:["create","read","update"],messages:["read"],channels:["read"]},viewer:{flows:["read"],adapters:["read"],structures:["read"],messages:["read"],channels:["read"]}}[t]||{flows:["read"]}}}const jn=new gZ,vZ=({open:e,onOpenChange:t,onUserCreated:r})=>{const[s,a]=p.useState(!1),[o,i]=p.useState({username:"",email:"",firstName:"",lastName:"",role:"viewer",password:"",status:"active"}),{toast:l}=Qe(),d=async u=>{u.preventDefault(),a(!0);try{console.log("Creating user with data:",o);const m=await jn.createUser(o);m.success?(l({title:"User Created Successfully",description:`User ${o.username} has been created with role ${o.role}.`}),i({username:"",email:"",firstName:"",lastName:"",role:"viewer",password:"",status:"active"}),t(!1),r==null||r()):l({title:"Error Creating User",description:m.error||"An error occurred while creating the user.",variant:"destructive"})}catch(m){console.error("User creation error:",m),l({title:"Error Creating User",description:m.message||"An unexpected error occurred.",variant:"destructive"})}finally{a(!1)}},c=u=>m=>{i(h=>({...h,[u]:m}))};return n.jsx(wt,{open:e,onOpenChange:t,children:n.jsxs(xt,{className:"sm:max-w-[425px]",children:[n.jsxs(Nt,{children:[n.jsx(bt,{children:"Create New User"}),n.jsx(va,{children:"Add a new user to the system. They will receive an email with login instructions."})]}),n.jsxs("form",{onSubmit:d,className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"firstName",children:"First Name"}),n.jsx(O,{id:"firstName",value:o.firstName,onChange:u=>c("firstName")(u.target.value),placeholder:"John",required:!0,disabled:s})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"lastName",children:"Last Name"}),n.jsx(O,{id:"lastName",value:o.lastName,onChange:u=>c("lastName")(u.target.value),placeholder:"Doe",required:!0,disabled:s})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"username",children:"Username"}),n.jsx(O,{id:"username",value:o.username,onChange:u=>c("username")(u.target.value),placeholder:"johndoe",required:!0,disabled:s})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"email",children:"Email"}),n.jsx(O,{id:"email",type:"email",value:o.email,onChange:u=>c("email")(u.target.value),placeholder:"john.doe@company.com",required:!0,disabled:s})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"password",children:"Temporary Password"}),n.jsx(O,{id:"password",type:"password",value:o.password,onChange:u=>c("password")(u.target.value),placeholder:"Leave empty for auto-generated password",disabled:s})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"role",children:"Role"}),n.jsxs(Z,{value:o.role,onValueChange:c("role"),disabled:s,children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select a role"})}),n.jsxs(J,{children:[n.jsx(A,{value:"administrator",children:"Administrator"}),n.jsx(A,{value:"integrator",children:"Integrator"}),n.jsx(A,{value:"viewer",children:"Viewer"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"status",children:"Status"}),n.jsxs(Z,{value:o.status,onValueChange:c("status"),disabled:s,children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select status"})}),n.jsxs(J,{children:[n.jsx(A,{value:"active",children:"Active"}),n.jsx(A,{value:"inactive",children:"Inactive"}),n.jsx(A,{value:"pending",children:"Pending"})]})]})]}),n.jsxs(Hm,{children:[n.jsx(W,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),n.jsxs(W,{type:"submit",disabled:s,children:[s&&n.jsx(Jt,{className:"h-4 w-4 mr-2 animate-spin"}),"Create User"]})]})]})]})})},yZ=[{key:"flows",label:"Flows",icon:nt,permissions:["create","read","update","delete","execute"]},{key:"adapters",label:"Adapters",icon:Nw,permissions:["create","read","update","delete","test"]},{key:"structures",label:"Data Structures",icon:qt,permissions:["create","read","update","delete"]},{key:"users",label:"User Management",icon:Bt,permissions:["create","read","update","delete"]},{key:"system",label:"System",icon:Cn,permissions:["create","read","update","delete"]},{key:"messages",label:"Messages",icon:an,permissions:["read"]},{key:"channels",label:"Channels",icon:Nw,permissions:["read"]},{key:"certificates",label:"Certificates",icon:Cn,permissions:["create","read","update","delete"]}],jZ=({open:e,onOpenChange:t,user:r,onUserUpdated:s})=>{const[a,o]=p.useState(!1),[i,l]=p.useState({}),[d,c]=p.useState({}),[u,m]=p.useState(!1),{toast:h}=Qe();p.useEffect(()=>{if(r)if(l({email:r.email,firstName:r.first_name,lastName:r.last_name,role:r.role,status:r.status}),r.permissions&&Object.keys(r.permissions).length>0)c(r.permissions),m(!0);else{const v=jn.getRolePermissions(r.role);c(v),m(!1)}},[r]);const f=async v=>{if(v.preventDefault(),!!r){o(!0);try{const g={...i,permissions:u?d:void 0};console.log("Updating user with data:",g);const y=await jn.updateUser(r.id,g);y.success?(h({title:"User Updated Successfully",description:`User ${r.username} has been updated.`}),t(!1),s==null||s()):h({title:"Error Updating User",description:y.error||"An error occurred while updating the user.",variant:"destructive"})}catch(g){console.error("User update error:",g),h({title:"Error Updating User",description:g.message||"An unexpected error occurred.",variant:"destructive"})}finally{o(!1)}}},j=v=>g=>{if(l(y=>({...y,[v]:g})),v==="role"){const y=jn.getRolePermissions(g);u||c(y)}},x=(v,g)=>{c(y=>{const N=y[v]||[],b=N.includes(g);return{...y,[v]:b?N.filter(E=>E!==g):[...N,g]}})},w=()=>{if(i.role){const v=jn.getRolePermissions(i.role);c(v),m(!1)}};return r?n.jsx(wt,{open:e,onOpenChange:t,children:n.jsxs(xt,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[n.jsxs(Nt,{children:[n.jsxs(bt,{children:["Edit User: ",r.username]}),n.jsx(va,{children:"Update user information and customize their permissions."})]}),n.jsxs("form",{onSubmit:f,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"firstName",children:"First Name"}),n.jsx(O,{id:"firstName",value:i.firstName||"",onChange:v=>j("firstName")(v.target.value),disabled:a})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"lastName",children:"Last Name"}),n.jsx(O,{id:"lastName",value:i.lastName||"",onChange:v=>j("lastName")(v.target.value),disabled:a})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"email",children:"Email"}),n.jsx(O,{id:"email",type:"email",value:i.email||"",onChange:v=>j("email")(v.target.value),disabled:a})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"role",children:"Role"}),n.jsxs(Z,{value:i.role||"",onValueChange:j("role"),disabled:a,children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select a role"})}),n.jsxs(J,{children:[n.jsx(A,{value:"administrator",children:"Administrator"}),n.jsx(A,{value:"integrator",children:"Integrator"}),n.jsx(A,{value:"viewer",children:"Viewer"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"status",children:"Status"}),n.jsxs(Z,{value:i.status||"",onValueChange:j("status"),disabled:a,children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select status"})}),n.jsxs(J,{children:[n.jsx(A,{value:"active",children:"Active"}),n.jsx(A,{value:"inactive",children:"Inactive"}),n.jsx(A,{value:"pending",children:"Pending"})]})]})]})]})]}),n.jsx(Ke,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Permissions"}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"useCustomPermissions",checked:u,onCheckedChange:v=>m(v===!0),disabled:a}),n.jsx(C,{htmlFor:"useCustomPermissions",className:"text-sm",children:"Use custom permissions"})]}),u&&n.jsx(W,{type:"button",variant:"outline",size:"sm",onClick:w,disabled:a,children:"Reset to Role Defaults"})]})]}),n.jsxs(X,{children:[n.jsx(re,{children:n.jsx(ge,{children:u?"Customize individual permissions for this user":`Using default permissions for ${i.role||"selected"} role`})}),n.jsx(te,{children:n.jsx("div",{className:"grid gap-4",children:yZ.map(v=>{const g=d[v.key]||[],y=v.icon;return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(y,{className:"h-4 w-4 text-muted-foreground"}),n.jsx(C,{className:"font-medium",children:v.label})]}),n.jsx("div",{className:"flex flex-wrap gap-4 pl-6",children:v.permissions.map(N=>n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:`${v.key}-${N}`,checked:g.includes(N),onCheckedChange:()=>x(v.key,N),disabled:a||!u}),n.jsx(C,{htmlFor:`${v.key}-${N}`,className:"text-sm capitalize",children:N})]},N))})]},v.key)})})})]})]}),n.jsxs(Hm,{children:[n.jsx(W,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:a,children:"Cancel"}),n.jsxs(W,{type:"submit",disabled:a,children:[a&&n.jsx(Jt,{className:"h-4 w-4 mr-2 animate-spin"}),"Update User"]})]})]})]})}):null},wZ=({users:e,isLoading:t=!1,onRefresh:r})=>{const[s,a]=p.useState(!1),[o,i]=p.useState(!1),[l,d]=p.useState(null),c=m=>{switch(m){case"administrator":return n.jsx(GC,{className:"h-4 w-4 text-warning"});case"integrator":return n.jsx(nt,{className:"h-4 w-4 text-info"});case"viewer":return n.jsx(n2,{className:"h-4 w-4 text-muted-foreground"});default:return n.jsx(Bt,{className:"h-4 w-4"})}},u=m=>{switch(m){case"active":return"default";case"inactive":return"secondary";default:return"outline"}};return n.jsxs(X,{children:[n.jsx(re,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(ae,{children:"User Management"}),n.jsx(ge,{children:"Manage system users and their access levels"})]}),n.jsxs("div",{className:"flex gap-2",children:[r&&n.jsxs(W,{variant:"outline",onClick:r,disabled:t,children:[n.jsx(hn,{className:`h-4 w-4 mr-2 ${t?"animate-spin":""}`}),"Refresh"]}),n.jsxs(W,{className:"bg-gradient-primary",onClick:()=>a(!0),children:[n.jsx(xr,{className:"h-4 w-4 mr-2"}),"Add User"]})]})]})}),n.jsx(te,{children:t?n.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((m,h)=>n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(bn,{className:"h-10 w-10 rounded-full"}),n.jsxs("div",{className:"space-y-2 flex-1",children:[n.jsx(bn,{className:"h-4 w-[200px]"}),n.jsx(bn,{className:"h-4 w-[150px]"})]}),n.jsx(bn,{className:"h-8 w-20"}),n.jsx(bn,{className:"h-8 w-8"})]},h))}):e.length===0?n.jsx(So,{icon:n.jsx(Bt,{className:"h-12 w-12"}),title:"No users found",description:"There are currently no users in the system. Create your first user to get started.",action:{label:"Add User",onClick:()=>a(!0)}}):n.jsx("div",{className:"rounded-md border",children:n.jsxs(vl,{children:[n.jsx(yl,{children:n.jsxs(jr,{children:[n.jsx($e,{children:"Username"}),n.jsx($e,{children:"Email"}),n.jsx($e,{children:"Role"}),n.jsx($e,{children:"Status"}),n.jsx($e,{children:"Last Login"}),n.jsx($e,{children:"Actions"})]})}),n.jsx(jl,{children:e.map(m=>n.jsxs(jr,{children:[n.jsx(Ue,{className:"font-medium",children:m.username}),n.jsx(Ue,{children:m.email}),n.jsx(Ue,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[c(m.role),n.jsx("span",{className:"capitalize",children:m.role})]})}),n.jsx(Ue,{children:n.jsx(oe,{variant:u(m.status),children:m.status})}),n.jsx(Ue,{className:"text-muted-foreground",children:m.last_login_at||"Never"}),n.jsx(Ue,{children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(W,{variant:"ghost",size:"sm",onClick:()=>{d(m),i(!0)},children:n.jsx(il,{className:"h-4 w-4"})}),n.jsx(W,{variant:"ghost",size:"sm",className:"text-destructive",children:n.jsx(ba,{className:"h-4 w-4"})})]})})]},m.id))})]})})}),n.jsx(vZ,{open:s,onOpenChange:a,onUserCreated:()=>{a(!1),r==null||r()}}),n.jsx(jZ,{open:o,onOpenChange:i,user:l,onUserUpdated:()=>{i(!1),d(null),r==null||r()}})]})},NZ=({roles:e})=>{const t=r=>{switch(r){case"administrator":return n.jsx(GC,{className:"h-4 w-4 text-warning"});case"integrator":return n.jsx(nt,{className:"h-4 w-4 text-info"});case"viewer":return n.jsx(n2,{className:"h-4 w-4 text-muted-foreground"});default:return n.jsx(Bt,{className:"h-4 w-4"})}};return n.jsxs(X,{children:[n.jsx(re,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(ae,{children:"Role Management"}),n.jsx(ge,{children:"Define and manage user roles and permissions"})]}),n.jsxs(W,{className:"bg-gradient-primary",children:[n.jsx(xr,{className:"h-4 w-4 mr-2"}),"Add Role"]})]})}),n.jsx(te,{children:n.jsx("div",{className:"grid gap-4",children:e.length===0?n.jsx(So,{icon:n.jsx(Cn,{className:"h-12 w-12"}),title:"No roles found",description:"Create roles to define user permissions and access levels for your integration platform.",action:{label:"Add Role",onClick:()=>{}}}):e.map(r=>n.jsxs(X,{className:"bg-gradient-secondary border-border/50",children:[n.jsx(re,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[t(r.name),n.jsxs("div",{children:[n.jsx(ae,{className:"text-lg capitalize",children:r.name}),n.jsx(ge,{children:r.description})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(oe,{variant:"outline",children:[r.userCount," users"]}),n.jsx(W,{variant:"outline",size:"sm",children:n.jsx(il,{className:"h-4 w-4"})})]})]})}),n.jsx(te,{children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium mb-2",children:"Permissions:"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:r.permissions.map(s=>n.jsx(oe,{variant:"secondary",className:"text-xs",children:s.replace("_"," ")},s))})]})})]},r.id))})})]})},bZ=({certificates:e})=>{const t=r=>{switch(r){case"active":return"default";case"inactive":return"secondary";case"expiring":return"destructive";default:return"outline"}};return n.jsxs(X,{children:[n.jsx(re,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(ae,{children:"Certificate Management"}),n.jsx(ge,{children:"Manage SSL certificates and authentication keys"})]}),n.jsxs(W,{className:"bg-gradient-primary",children:[n.jsx(xr,{className:"h-4 w-4 mr-2"}),"Add Certificate"]})]})}),n.jsx(te,{children:e.length===0?n.jsx(So,{icon:n.jsx(_i,{className:"h-12 w-12"}),title:"No certificates found",description:"Upload and manage SSL certificates and authentication keys for secure connections.",action:{label:"Add Certificate",onClick:()=>{}}}):n.jsx("div",{className:"rounded-md border",children:n.jsxs(vl,{children:[n.jsx(yl,{children:n.jsxs(jr,{children:[n.jsx($e,{children:"Name"}),n.jsx($e,{children:"Type"}),n.jsx($e,{children:"Issuer"}),n.jsx($e,{children:"Valid Period"}),n.jsx($e,{children:"Status"}),n.jsx($e,{children:"Usage"}),n.jsx($e,{children:"Actions"})]})}),n.jsx(jl,{children:e.map(r=>n.jsxs(jr,{children:[n.jsx(Ue,{className:"font-medium",children:r.name}),n.jsx(Ue,{children:r.type}),n.jsx(Ue,{children:r.issuer}),n.jsxs(Ue,{className:"text-sm",children:[r.validFrom," to ",r.validTo]}),n.jsx(Ue,{children:n.jsx(oe,{variant:t(r.status),children:r.status})}),n.jsx(Ue,{className:"text-muted-foreground text-sm",children:r.usage}),n.jsx(Ue,{children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(W,{variant:"ghost",size:"sm",children:n.jsx(il,{className:"h-4 w-4"})}),n.jsx(W,{variant:"ghost",size:"sm",className:"text-destructive",children:n.jsx(ba,{className:"h-4 w-4"})})]})})]},r.id))})]})})})]})},SZ=({open:e,onOpenChange:t,onDriverAdded:r})=>{const[s,a]=p.useState(null),[o,i]=p.useState(!1),[l,d]=p.useState({databaseType:"",name:"",version:""}),{toast:c}=Qe(),u=[{value:"mariadb",label:"MariaDB"},{value:"oracle",label:"Oracle"},{value:"db2",label:"DB2"},{value:"sqlserver",label:"Microsoft SQL Server"},{value:"mysql",label:"MySQL"},{value:"postgresql",label:"PostgreSQL"}],m=j=>{var w;const x=(w=j.target.files)==null?void 0:w[0];if(x){if(!x.name.endsWith(".jar")){c({title:"Invalid File Type",description:"Please select a valid JDBC driver file (.jar).",variant:"destructive"});return}a(x);const v=x.name.replace(".jar","");d(g=>({...g,name:v,version:g.version||"1.0.0"}))}},h=async()=>{var j,x;if(!s||!l.databaseType){c({title:"Missing Information",description:"Please select a database type and driver file.",variant:"destructive"});return}i(!0);try{await new Promise(v=>setTimeout(v,2e3));const w={id:Date.now().toString(),name:l.name||s.name.replace(".jar",""),version:l.version||"1.0.0",description:`JDBC driver for ${(j=u.find(v=>v.value===l.databaseType))==null?void 0:j.label}`,file_name:s.name,size_bytes:s.size,upload_date:new Date().toISOString().split("T")[0],driver_type:"JDBC",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};r(w),a(null),d({databaseType:"",name:"",version:""}),t(!1),c({title:"Upload Successful",description:`JDBC driver for ${(x=u.find(v=>v.value===l.databaseType))==null?void 0:x.label} has been uploaded.`})}catch{c({title:"Upload Failed",description:"Failed to upload JDBC driver. Please try again.",variant:"destructive"})}finally{i(!1)}},f=()=>{a(null),d({databaseType:"",name:"",version:""})};return n.jsx(wt,{open:e,onOpenChange:j=>{t(j),j||f()},children:n.jsxs(xt,{className:"sm:max-w-[425px]",children:[n.jsx(Nt,{children:n.jsx(bt,{children:"Add JDBC Driver"})}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"database-type",children:"Database Type *"}),n.jsxs(Z,{value:l.databaseType,onValueChange:j=>d(x=>({...x,databaseType:j})),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select database type"})}),n.jsx(J,{children:u.map(j=>n.jsx(A,{value:j.value,children:j.label},j.value))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"jdbc-file",children:"JDBC Driver File *"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(O,{id:"jdbc-file",type:"file",accept:".jar",onChange:m,className:"cursor-pointer"}),n.jsx(W,{variant:"outline",size:"sm",disabled:!0,children:"Browse..."})]}),s&&n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Selected: ",s.name," (",Math.round(s.size/1024)," KB)"]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"driver-name",children:"Driver Name"}),n.jsx(O,{id:"driver-name",placeholder:"Auto-generated",value:l.name,onChange:j=>d(x=>({...x,name:j.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"driver-version",children:"Version"}),n.jsx(O,{id:"driver-version",placeholder:"1.0.0",value:l.version,onChange:j=>d(x=>({...x,version:j.target.value}))})]})]})]}),n.jsxs("div",{className:"flex gap-2 justify-end",children:[n.jsx(W,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n.jsxs(W,{onClick:h,disabled:o||!s||!l.databaseType,className:"bg-gradient-primary hover:opacity-90",children:[n.jsx(ey,{className:"h-4 w-4 mr-2"}),o?"Uploading...":"Upload Driver"]})]})]})})},CZ=({open:e,onOpenChange:t,onDriverAdded:r})=>{const[s,a]=p.useState(null),[o,i]=p.useState(!1),[l,d]=p.useState({brokerType:"",name:"",version:""}),{toast:c}=Qe(),u=[{value:"activemq",label:"ActiveMQ"},{value:"rabbitmq",label:"RabbitMQ"},{value:"artemis",label:"Apache Artemis"},{value:"ibmmq",label:"IBM MQ"},{value:"kafka",label:"Apache Kafka"},{value:"solace",label:"Solace"}],m=j=>{var w;const x=(w=j.target.files)==null?void 0:w[0];if(x){if(!x.name.endsWith(".jar")){c({title:"Invalid File Type",description:"Please select a valid JMS driver file (.jar).",variant:"destructive"});return}a(x);const v=x.name.replace(".jar","");d(g=>({...g,name:v,version:g.version||"1.0.0"}))}},h=async()=>{var j,x;if(!s||!l.brokerType){c({title:"Missing Information",description:"Please select a broker type and driver file.",variant:"destructive"});return}i(!0);try{await new Promise(v=>setTimeout(v,2e3));const w={id:Date.now().toString(),name:l.name||s.name.replace(".jar",""),version:l.version||"1.0.0",description:`JMS driver for ${(j=u.find(v=>v.value===l.brokerType))==null?void 0:j.label}`,file_name:s.name,size_bytes:s.size,upload_date:new Date().toISOString().split("T")[0],driver_type:"JMS",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};r(w),a(null),d({brokerType:"",name:"",version:""}),t(!1),c({title:"Upload Successful",description:`JMS driver for ${(x=u.find(v=>v.value===l.brokerType))==null?void 0:x.label} has been uploaded.`})}catch{c({title:"Upload Failed",description:"Failed to upload JMS driver. Please try again.",variant:"destructive"})}finally{i(!1)}},f=()=>{a(null),d({brokerType:"",name:"",version:""})};return n.jsx(wt,{open:e,onOpenChange:j=>{t(j),j||f()},children:n.jsxs(xt,{className:"sm:max-w-[425px]",children:[n.jsx(Nt,{children:n.jsx(bt,{children:"Add JMS Driver"})}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"broker-type",children:"Message Broker Type *"}),n.jsxs(Z,{value:l.brokerType,onValueChange:j=>d(x=>({...x,brokerType:j})),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select broker type"})}),n.jsx(J,{children:u.map(j=>n.jsx(A,{value:j.value,children:j.label},j.value))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"jms-file",children:"JMS Driver File *"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(O,{id:"jms-file",type:"file",accept:".jar",onChange:m,className:"cursor-pointer"}),n.jsx(W,{variant:"outline",size:"sm",disabled:!0,children:"Browse..."})]}),s&&n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Selected: ",s.name," (",Math.round(s.size/1024)," KB)"]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"driver-name",children:"Driver Name"}),n.jsx(O,{id:"driver-name",placeholder:"Auto-generated",value:l.name,onChange:j=>d(x=>({...x,name:j.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"driver-version",children:"Version"}),n.jsx(O,{id:"driver-version",placeholder:"1.0.0",value:l.version,onChange:j=>d(x=>({...x,version:j.target.value}))})]})]})]}),n.jsxs("div",{className:"flex gap-2 justify-end",children:[n.jsx(W,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n.jsxs(W,{onClick:h,disabled:o||!s||!l.brokerType,className:"bg-gradient-primary hover:opacity-90",children:[n.jsx(ey,{className:"h-4 w-4 mr-2"}),o?"Uploading...":"Upload Driver"]})]})]})})},EZ=({jarFiles:e,onJarFileAdded:t,onJarFileDeleted:r})=>{const[s,a]=p.useState(!1),[o,i]=p.useState(!1);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:[n.jsxs(X,{className:"cursor-pointer transition-all duration-200 hover:shadow-lg hover:scale-105 border-2 hover:border-primary/20",onClick:()=>a(!0),children:[n.jsxs(re,{className:"text-center pb-4",children:[n.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center mb-4",children:n.jsx(qt,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})}),n.jsx(ae,{className:"text-xl",children:"JDBC Driver"}),n.jsx(ge,{children:"Upload database connection drivers for MySQL, Oracle, PostgreSQL, and more"})]}),n.jsx(te,{className:"text-center pt-0",children:n.jsx(W,{variant:"outline",className:"w-full",children:"Upload JDBC Driver"})})]}),n.jsxs(X,{className:"cursor-pointer transition-all duration-200 hover:shadow-lg hover:scale-105 border-2 hover:border-primary/20",onClick:()=>i(!0),children:[n.jsxs(re,{className:"text-center pb-4",children:[n.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center mb-4",children:n.jsx(an,{className:"h-8 w-8 text-green-600 dark:text-green-400"})}),n.jsx(ae,{className:"text-xl",children:"JMS Driver"}),n.jsx(ge,{children:"Upload Java Message Service drivers for ActiveMQ, RabbitMQ, and other message brokers"})]}),n.jsx(te,{className:"text-center pt-0",children:n.jsx(W,{variant:"outline",className:"w-full",children:"Upload JMS Driver"})})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Uploaded Connection Drivers"}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.length," driver",e.length!==1?"s":""," uploaded"]})]}),e.length===0?n.jsx(So,{icon:n.jsx(Tc,{className:"h-12 w-12"}),title:"No connection drivers uploaded",description:"Upload JDBC database drivers or JMS client libraries to enable connections to external systems."}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(l=>n.jsxs(X,{children:[n.jsxs(re,{className:"pb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[l.driver_type==="JDBC"?n.jsx(qt,{className:"h-5 w-5 text-blue-600"}):n.jsx(an,{className:"h-5 w-5 text-green-600"}),n.jsx(ae,{className:"text-base",children:l.name})]}),n.jsx(ge,{className:"text-xs",children:l.file_name})]}),n.jsxs(te,{className:"pt-0",children:[n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Version:"}),n.jsx("span",{children:l.version})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Type:"}),n.jsx("span",{children:l.driver_type})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Size:"}),n.jsx("span",{children:l.size_bytes?`${Math.round(l.size_bytes/1024)} KB`:"N/A"})]})]}),n.jsx(W,{variant:"outline",size:"sm",className:"w-full mt-3",onClick:()=>r(l.id),children:"Remove"})]})]},l.id))})]}),n.jsx(SZ,{open:s,onOpenChange:a,onDriverAdded:t}),n.jsx(CZ,{open:o,onOpenChange:i,onDriverAdded:t})]})},PZ=({jarFiles:e,onJarFileAdded:t,onJarFileDeleted:r})=>n.jsx(EZ,{jarFiles:e,onJarFileAdded:t,onJarFileDeleted:r});class kZ{constructor(){rt(this,"listeners",[]);rt(this,"API_BASE_URL","http://localhost:8080/api");window.addEventListener("error",t=>{var r;this.logError("System Error",{message:t.message,filename:t.filename,lineno:t.lineno,colno:t.colno,stack:(r=t.error)==null?void 0:r.stack})}),window.addEventListener("unhandledrejection",t=>{var r;this.logError("Unhandled Promise Rejection",{reason:t.reason,stack:(r=t.reason)==null?void 0:r.stack})})}async logError(t,r){const s={id:`sys-${Date.now()}`,timestamp:new Date().toISOString(),level:"error",message:t,details:r,source:"system",sourceId:"error-logger",sourceName:"System Error Logger"};await this.sendLogToBackend(s),this.notifyListeners(s)}async logInfo(t,r,s="system",a,o){const i={id:`log-${Date.now()}`,timestamp:new Date().toISOString(),level:"info",message:t,details:r,source:s,sourceId:a||"general",sourceName:o||"System"};await this.sendLogToBackend(i),this.notifyListeners(i)}async logWarning(t,r,s="system",a,o){const i={id:`warn-${Date.now()}`,timestamp:new Date().toISOString(),level:"warn",message:t,details:r,source:s,sourceId:a||"general",sourceName:o||"System"};await this.sendLogToBackend(i),this.notifyListeners(i)}async sendLogToBackend(t){try{await fetch(`${this.API_BASE_URL}/system/logs`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}catch(r){console.error("Failed to send log to backend:",r)}}async getAllLogs(){try{const t=await fetch(`${this.API_BASE_URL}/system/logs`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(t){return console.error("Failed to fetch logs from backend:",t),[]}}async getFilteredLogs(t){try{const r=new URLSearchParams;Object.entries(t).forEach(([o,i])=>{i!==void 0&&r.append(o,i.toString())});const s=`${this.API_BASE_URL}/system/logs${r.toString()?`?${r.toString()}`:""}`,a=await fetch(s);if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return await a.json()}catch(r){return console.error("Failed to fetch filtered logs from backend:",r),[]}}onLogUpdate(t){return this.listeners.push(t),()=>{const r=this.listeners.indexOf(t);r>-1&&this.listeners.splice(r,1)}}notifyListeners(t){this.listeners.forEach(r=>r(t))}}const qf=new kZ,Hj=(e={})=>{const[t,r]=p.useState([]),[s,a]=p.useState({adapters:[],channels:[],flows:[]}),[o,i]=p.useState(!1),[l,d]=p.useState(),c=async()=>{var h;try{const[f,j]=await Promise.all([_D.getAdapters(),ce.get("/channels")]);a({adapters:f.success?((h=f.data)==null?void 0:h.adapters)||[]:[],channels:j.success?j.data||[]:[],flows:[]})}catch(f){console.error("Failed to fetch sources:",f)}},u=async()=>{i(!0),d(void 0);try{const h=new URLSearchParams;e.source&&h.append("source",e.source),e.sourceId&&h.append("sourceId",e.sourceId),e.level&&h.append("level",e.level),e.search&&h.append("search",e.search),e.startDate&&h.append("startDate",e.startDate),e.endDate&&h.append("endDate",e.endDate),e.domainType&&h.append("domainType",e.domainType),e.domainReferenceId&&h.append("domainReferenceId",e.domainReferenceId);const f=`/api/logs/system${h.toString()?`?${h.toString()}`:""}`,j=await ce.get(f);if(j.success&&j.data)r(j.data);else{const x=qf.getFilteredLogs({source:e.source,sourceId:e.sourceId,level:e.level,search:e.search});r(x)}}catch{try{const f=qf.getFilteredLogs({source:e.source,sourceId:e.sourceId,level:e.level,search:e.search});r(f)}catch(f){d(f instanceof Error?f.message:"Failed to fetch logs"),r([])}}finally{i(!1)}},m=()=>{u()};return p.useEffect(()=>{c()},[]),p.useEffect(()=>{u()},[e.source,e.sourceId,e.level,e.search,e.startDate,e.endDate]),p.useEffect(()=>{if(e.autoRefresh){const h=setInterval(u,e.refreshInterval||3e4);return()=>clearInterval(h)}},[e.autoRefresh,e.refreshInterval]),p.useEffect(()=>qf.onLogUpdate(()=>{u()}),[]),{logs:t,sources:s,loading:o,error:l,refetch:m}},$o=e=>{const[t,r]=p.useState([]),[s,a]=p.useState(!1),[o,i]=p.useState(),{logs:l,loading:d,error:c}=Hj({domainType:e.domainType,domainReferenceId:e.referenceId,autoRefresh:e.includeSystemLogs?e.autoRefresh:!1,refreshInterval:e.refreshInterval}),u=async()=>{a(!0),i(void 0);try{const h=TZ(e.domainType),f=new URLSearchParams;e.referenceId&&f.append("referenceId",e.referenceId);const j=`/api/logs/${h}${f.toString()?`?${f.toString()}`:""}`,x=await ce.get(j);x.success&&x.data?r(x.data):r(Yb(e.domainType,e.referenceId))}catch(h){r(Yb(e.domainType,e.referenceId)),console.warn(`Failed to fetch domain errors for ${e.domainType}:`,h)}finally{a(!1)}},m=()=>{u()};return p.useEffect(()=>{u()},[e.domainType,e.referenceId]),p.useEffect(()=>{if(e.autoRefresh){const h=setInterval(u,e.refreshInterval||3e4);return()=>clearInterval(h)}},[e.autoRefresh,e.refreshInterval]),{domainErrors:t,systemLogs:e.includeSystemLogs?l:[],loading:s||(e.includeSystemLogs?d:!1),error:o||(e.includeSystemLogs?c:void 0),refetch:m}},TZ=e=>({UserManagement:"user-errors",FlowEngine:"flow-errors",AdapterManagement:"adapter-errors",DataStructures:"structure-errors",ChannelManagement:"channel-errors",MessageProcessing:"message-errors"})[e],Yb=(e,t)=>[{id:"1",action:"TestAction",description:`Mock ${e} error`,payload:JSON.stringify({mockData:!0,referenceId:t}),createdAt:new Date().toISOString(),systemLogId:"mock-log-1"}],AZ=({logs:e,loading:t,error:r,selectedSource:s})=>{const[a,o]=p.useState(new Set),i=m=>{const h=new Set(a);h.has(m)?h.delete(m):h.add(m),o(h)},l=m=>{switch(m){case"error":return n.jsx(xs,{className:"h-4 w-4 text-destructive"});case"warn":return n.jsx(vs,{className:"h-4 w-4 text-warning"});case"info":return n.jsx(gs,{className:"h-4 w-4 text-success"});default:return n.jsx(bw,{className:"h-4 w-4 text-muted-foreground"})}},d=m=>{switch(m){case"error":return n.jsx(oe,{variant:"destructive",children:"Error"});case"warn":return n.jsx(oe,{variant:"secondary",className:"text-warning",children:"Warning"});case"info":return n.jsx(oe,{variant:"outline",children:"Info"});case"debug":return n.jsx(oe,{variant:"secondary",children:"Debug"});default:return n.jsx(oe,{variant:"outline",children:m})}},c=(m,h)=>{const f=h||m;switch(m){case"adapter":return n.jsx(oe,{variant:"default",children:f});case"channel":return n.jsx(oe,{variant:"secondary",children:f});case"system":return n.jsx(oe,{variant:"outline",children:"System"});case"flow":return n.jsxs(oe,{variant:"default",children:["Flow: ",f]});case"api":return n.jsx(oe,{variant:"destructive",children:"API"});default:return n.jsx(oe,{variant:"outline",children:f})}},u=m=>new Date(m).toLocaleString();return t?n.jsx(X,{className:"bg-gradient-secondary border-border/50",children:n.jsx(te,{className:"p-8 text-center",children:n.jsx("div",{className:"animate-pulse",children:"Loading logs..."})})}):r?n.jsx(X,{className:"bg-gradient-secondary border-border/50",children:n.jsx(te,{className:"p-8 text-center",children:n.jsxs("div",{className:"text-destructive",children:["Error loading logs: ",r]})})}):e.length===0?n.jsx(X,{className:"bg-gradient-secondary border-border/50",children:n.jsx(te,{className:"p-8 text-center",children:n.jsx("div",{className:"text-muted-foreground",children:s?"No logs found for the selected filters":"No system logs available"})})}):n.jsxs(X,{className:"bg-gradient-secondary border-border/50",children:[n.jsx(re,{children:n.jsxs(ae,{className:"flex items-center gap-2",children:[n.jsx(bw,{className:"h-5 w-5"}),"System Logs (",e.length,")"]})}),n.jsx(te,{children:n.jsx(mo,{className:"h-96",children:n.jsx("div",{className:"space-y-2",children:e.map(m=>n.jsxs("div",{className:"border border-border/50 rounded-lg p-3 bg-background/50",children:[n.jsx("div",{className:"flex items-start justify-between gap-3",children:n.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[l(m.level),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d(m.level),c(m.source,m.sourceName),n.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[n.jsx(fr,{className:"h-3 w-3"}),u(m.timestamp)]})]}),n.jsx("p",{className:"text-sm font-medium text-foreground",children:m.message}),m.details&&n.jsxs("div",{className:"mt-2",children:[n.jsx(W,{variant:"ghost",size:"sm",onClick:()=>i(m.id),className:"text-xs",children:a.has(m.id)?"Hide Details":"Show Details"}),a.has(m.id)&&n.jsx("div",{className:"mt-2 p-2 bg-muted/50 rounded text-xs",children:n.jsx("pre",{className:"whitespace-pre-wrap font-mono",children:typeof m.details=="string"?m.details:JSON.stringify(m.details,null,2)})})]})]})]})}),m!==e[e.length-1]&&n.jsx(Ke,{className:"mt-3"})]},m.id))})})})]})},Uo=({domainType:e,domainErrors:t,systemLogs:r,loading:s,error:a,referenceId:o,referenceName:i})=>{const[l,d]=p.useState(new Set),[c,u]=p.useState(new Set),m=g=>{const y=new Set(l);y.has(g)?y.delete(g):y.add(g),d(y)},h=g=>{const y=new Set(c);y.has(g)?y.delete(g):y.add(g),u(y)},f=g=>{const N={UserManagement:Oi,FlowEngine:vm,AdapterManagement:ro,DataStructures:qt,ChannelManagement:nt,MessageProcessing:an}[g];return n.jsx(N,{className:"h-4 w-4"})},j=g=>{const y={Create:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",Update:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",Delete:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",Test:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",Deploy:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},N=Object.keys(y).find(E=>g.includes(E))||"default",b=y[N]||"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200";return n.jsx(oe,{variant:"secondary",className:b,children:g})},x=g=>{switch(g){case"error":return n.jsx(ia,{className:"h-4 w-4 text-red-500"});case"warn":return n.jsx(vs,{className:"h-4 w-4 text-yellow-500"});case"info":return n.jsx(gs,{className:"h-4 w-4 text-blue-500"});case"debug":return n.jsx(nt,{className:"h-4 w-4 text-gray-500"});default:return n.jsx(gs,{className:"h-4 w-4 text-gray-500"})}},w=g=>new Date(g).toLocaleString(),v=g=>{try{const y=JSON.parse(g);return JSON.stringify(y,null,2)}catch{return g}};return s?n.jsx(X,{children:n.jsx(te,{className:"p-6",children:n.jsx("div",{className:"text-center text-muted-foreground",children:"Loading logs..."})})}):a?n.jsxs(or,{variant:"destructive",children:[n.jsx(vs,{className:"h-4 w-4"}),n.jsx(ir,{children:a})]}):n.jsxs(X,{children:[n.jsx(re,{children:n.jsxs(ae,{className:"flex items-center gap-2",children:[f(e),e," Logs",i&&n.jsx(oe,{variant:"outline",children:i})]})}),n.jsx(te,{children:n.jsxs(Ge,{defaultValue:"errors",className:"w-full",children:[n.jsxs(qe,{className:"grid w-full grid-cols-2",children:[n.jsxs(Ne,{value:"errors",children:["User-Friendly Errors (",t.length,")"]}),n.jsxs(Ne,{value:"system",children:["System Logs (",r.length,")"]})]}),n.jsx(ye,{value:"errors",children:n.jsx(mo,{className:"h-[600px] w-full",children:t.length===0?n.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No domain errors found."}):n.jsx("div",{className:"space-y-4",children:t.map(g=>n.jsx(X,{className:"border-l-4 border-l-red-500",children:n.jsx(te,{className:"p-4",children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[j(g.action),n.jsxs("span",{className:"text-sm text-muted-foreground",children:[n.jsx(fr,{className:"h-3 w-3 inline mr-1"}),w(g.createdAt)]})]}),g.description&&n.jsx("p",{className:"text-sm font-medium",children:g.description}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs(W,{variant:"ghost",size:"sm",onClick:()=>m(g.id),className:"h-6 px-2",children:[l.has(g.id)?n.jsx(pr,{className:"h-3 w-3"}):n.jsx(qn,{className:"h-3 w-3"}),"Show Details"]})}),l.has(g.id)&&n.jsxs("div",{className:"mt-3 space-y-3 border-t pt-3",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Request Payload:"}),n.jsx("pre",{className:"text-xs bg-muted p-2 rounded overflow-auto max-h-40",children:v(g.payload)})]}),g.systemLogId&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-sm mb-1",children:"System Log ID:"}),n.jsx(oe,{variant:"outline",className:"text-xs",children:g.systemLogId})]})]})]})})})},g.id))})})}),n.jsx(ye,{value:"system",children:n.jsx(mo,{className:"h-[600px] w-full",children:r.length===0?n.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No system logs found."}):n.jsx("div",{className:"space-y-4",children:r.map(g=>n.jsx(X,{children:n.jsx(te,{className:"p-4",children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[x(g.level),n.jsx(oe,{variant:g.level==="error"?"destructive":"secondary",children:g.level.toUpperCase()}),g.source&&n.jsx(oe,{variant:"outline",children:g.source}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:[n.jsx(fr,{className:"h-3 w-3 inline mr-1"}),w(g.timestamp)]})]}),n.jsx("p",{className:"text-sm font-medium",children:g.message}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs(W,{variant:"ghost",size:"sm",onClick:()=>h(g.id),className:"h-6 px-2",children:[c.has(g.id)?n.jsx(pr,{className:"h-3 w-3"}):n.jsx(qn,{className:"h-3 w-3"}),"Show Details"]})}),c.has(g.id)&&n.jsxs("div",{className:"mt-3 space-y-3 border-t pt-3",children:[g.details&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Details:"}),n.jsx("pre",{className:"text-xs bg-muted p-2 rounded overflow-auto max-h-40",children:typeof g.details=="string"?g.details:JSON.stringify(g.details,null,2)})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[g.sourceName&&n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Source Name:"}),n.jsx("p",{className:"text-muted-foreground",children:g.sourceName})]}),g.sourceId&&n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Source ID:"}),n.jsx("p",{className:"text-muted-foreground",children:g.sourceId})]})]})]})]})})})},g.id))})})})]})})]})};var Ee=function(){return Ee=Object.assign||function(t){for(var r,s=1,a=arguments.length;s<a;s++){r=arguments[s];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Ee.apply(this,arguments)};function MZ(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r}function x4(e,t,r){for(var s=0,a=t.length,o;s<a;s++)(o||!(s in t))&&(o||(o=Array.prototype.slice.call(t,0,s)),o[s]=t[s]);return e.concat(o||Array.prototype.slice.call(t))}function Ed(e){return e.mode==="multiple"}function Pd(e){return e.mode==="range"}function xp(e){return e.mode==="single"}var DZ={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function RZ(e,t){return Ns(e,"LLLL y",t)}function FZ(e,t){return Ns(e,"d",t)}function _Z(e,t){return Ns(e,"LLLL",t)}function OZ(e){return"".concat(e)}function IZ(e,t){return Ns(e,"cccccc",t)}function LZ(e,t){return Ns(e,"yyyy",t)}var $Z=Object.freeze({__proto__:null,formatCaption:RZ,formatDay:FZ,formatMonthCaption:_Z,formatWeekNumber:OZ,formatWeekdayName:IZ,formatYearCaption:LZ}),UZ=function(e,t,r){return Ns(e,"do MMMM (EEEE)",r)},HZ=function(){return"Month: "},VZ=function(){return"Go to next month"},BZ=function(){return"Go to previous month"},zZ=function(e,t){return Ns(e,"cccc",t)},qZ=function(e){return"Week n. ".concat(e)},WZ=function(){return"Year: "},YZ=Object.freeze({__proto__:null,labelDay:UZ,labelMonthDropdown:HZ,labelNext:VZ,labelPrevious:BZ,labelWeekNumber:qZ,labelWeekday:zZ,labelYearDropdown:WZ});function KZ(){var e="buttons",t=DZ,r=Ij,s={},a={},o=1,i={},l=new Date;return{captionLayout:e,classNames:t,formatters:$Z,labels:YZ,locale:r,modifiersClassNames:s,modifiers:a,numberOfMonths:o,styles:i,today:l,mode:"default"}}function GZ(e){var t=e.fromYear,r=e.toYear,s=e.fromMonth,a=e.toMonth,o=e.fromDate,i=e.toDate;return s?o=mn(s):t&&(o=new Date(t,0,1)),a?i=fp(a):r&&(i=new Date(r,11,31)),{fromDate:o?Ji(o):void 0,toDate:i?Ji(i):void 0}}var g4=p.createContext(void 0);function XZ(e){var t,r=e.initialProps,s=KZ(),a=GZ(r),o=a.fromDate,i=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:s.captionLayout;l!=="buttons"&&(!o||!i)&&(l="buttons");var d;(xp(r)||Ed(r)||Pd(r))&&(d=r.onSelect);var c=Ee(Ee(Ee({},s),r),{captionLayout:l,classNames:Ee(Ee({},s.classNames),r.classNames),components:Ee({},r.components),formatters:Ee(Ee({},s.formatters),r.formatters),fromDate:o,labels:Ee(Ee({},s.labels),r.labels),mode:r.mode||s.mode,modifiers:Ee(Ee({},s.modifiers),r.modifiers),modifiersClassNames:Ee(Ee({},s.modifiersClassNames),r.modifiersClassNames),onSelect:d,styles:Ee(Ee({},s.styles),r.styles),toDate:i});return n.jsx(g4.Provider,{value:c,children:e.children})}function Je(){var e=p.useContext(g4);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function v4(e){var t=Je(),r=t.locale,s=t.classNames,a=t.styles,o=t.formatters.formatCaption;return n.jsx("div",{className:s.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:o(e.displayMonth,{locale:r})})}function QZ(e){return n.jsx("svg",Ee({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:n.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function y4(e){var t,r,s=e.onChange,a=e.value,o=e.children,i=e.caption,l=e.className,d=e.style,c=Je(),u=(r=(t=c.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:QZ;return n.jsxs("div",{className:l,style:d,children:[n.jsx("span",{className:c.classNames.vhidden,children:e["aria-label"]}),n.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:a,onChange:s,children:o}),n.jsxs("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true",children:[i,n.jsx(u,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})]})]})}function JZ(e){var t,r=Je(),s=r.fromDate,a=r.toDate,o=r.styles,i=r.locale,l=r.formatters.formatMonthCaption,d=r.classNames,c=r.components,u=r.labels.labelMonthDropdown;if(!s)return n.jsx(n.Fragment,{});if(!a)return n.jsx(n.Fragment,{});var m=[];if(nZ(s,a))for(var h=mn(s),f=s.getMonth();f<=a.getMonth();f++)m.push(zf(h,f));else for(var h=mn(new Date),f=0;f<=11;f++)m.push(zf(h,f));var j=function(w){var v=Number(w.target.value),g=zf(mn(e.displayMonth),v);e.onChange(g)},x=(t=c==null?void 0:c.Dropdown)!==null&&t!==void 0?t:y4;return n.jsx(x,{name:"months","aria-label":u(),className:d.dropdown_month,style:o.dropdown_month,onChange:j,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:i}),children:m.map(function(w){return n.jsx("option",{value:w.getMonth(),children:l(w,{locale:i})},w.getMonth())})})}function ZZ(e){var t,r=e.displayMonth,s=Je(),a=s.fromDate,o=s.toDate,i=s.locale,l=s.styles,d=s.classNames,c=s.components,u=s.formatters.formatYearCaption,m=s.labels.labelYearDropdown,h=[];if(!a)return n.jsx(n.Fragment,{});if(!o)return n.jsx(n.Fragment,{});for(var f=a.getFullYear(),j=o.getFullYear(),x=f;x<=j;x++)h.push(Wb(c4(new Date),x));var w=function(g){var y=Wb(mn(r),Number(g.target.value));e.onChange(y)},v=(t=c==null?void 0:c.Dropdown)!==null&&t!==void 0?t:y4;return n.jsx(v,{name:"years","aria-label":m(),className:d.dropdown_year,style:l.dropdown_year,onChange:w,value:r.getFullYear(),caption:u(r,{locale:i}),children:h.map(function(g){return n.jsx("option",{value:g.getFullYear(),children:u(g,{locale:i})},g.getFullYear())})})}function eee(e,t){var r=p.useState(e),s=r[0],a=r[1],o=t===void 0?s:t;return[o,a]}function tee(e){var t=e.month,r=e.defaultMonth,s=e.today,a=t||r||s||new Date,o=e.toDate,i=e.fromDate,l=e.numberOfMonths,d=l===void 0?1:l;if(o&&el(o,a)<0){var c=-1*(d-1);a=yr(o,c)}return i&&el(a,i)<0&&(a=i),mn(a)}function nee(){var e=Je(),t=tee(e),r=eee(t,e.month),s=r[0],a=r[1],o=function(i){var l;if(!e.disableNavigation){var d=mn(i);a(d),(l=e.onMonthChange)===null||l===void 0||l.call(e,d)}};return[s,o]}function ree(e,t){for(var r=t.reverseMonths,s=t.numberOfMonths,a=mn(e),o=mn(yr(a,s)),i=el(o,a),l=[],d=0;d<i;d++){var c=yr(a,d);l.push(c)}return r&&(l=l.reverse()),l}function see(e,t){if(!t.disableNavigation){var r=t.toDate,s=t.pagedNavigation,a=t.numberOfMonths,o=a===void 0?1:a,i=s?o:1,l=mn(e);if(!r)return yr(l,i);var d=el(r,e);if(!(d<o))return yr(l,i)}}function aee(e,t){if(!t.disableNavigation){var r=t.fromDate,s=t.pagedNavigation,a=t.numberOfMonths,o=a===void 0?1:a,i=s?o:1,l=mn(e);if(!r)return yr(l,-i);var d=el(l,r);if(!(d<=0))return yr(l,-i)}}var j4=p.createContext(void 0);function oee(e){var t=Je(),r=nee(),s=r[0],a=r[1],o=ree(s,t),i=see(s,t),l=aee(s,t),d=function(m){return o.some(function(h){return Lj(m,h)})},c=function(m,h){d(m)||(h&&f4(m,h)?a(yr(m,1+t.numberOfMonths*-1)):a(m))},u={currentMonth:s,displayMonths:o,goToMonth:a,goToDate:c,previousMonth:l,nextMonth:i,isDateDisplayed:d};return n.jsx(j4.Provider,{value:u,children:e.children})}function kd(){var e=p.useContext(j4);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Kb(e){var t,r=Je(),s=r.classNames,a=r.styles,o=r.components,i=kd().goToMonth,l=function(u){i(yr(u,e.displayIndex?-e.displayIndex:0))},d=(t=o==null?void 0:o.CaptionLabel)!==null&&t!==void 0?t:v4,c=n.jsx(d,{id:e.id,displayMonth:e.displayMonth});return n.jsxs("div",{className:s.caption_dropdowns,style:a.caption_dropdowns,children:[n.jsx("div",{className:s.vhidden,children:c}),n.jsx(JZ,{onChange:l,displayMonth:e.displayMonth}),n.jsx(ZZ,{onChange:l,displayMonth:e.displayMonth})]})}function iee(e){return n.jsx("svg",Ee({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:n.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function lee(e){return n.jsx("svg",Ee({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:n.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Gh=p.forwardRef(function(e,t){var r=Je(),s=r.classNames,a=r.styles,o=[s.button_reset,s.button];e.className&&o.push(e.className);var i=o.join(" "),l=Ee(Ee({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),n.jsx("button",Ee({},e,{ref:t,type:"button",className:i,style:l}))});function cee(e){var t,r,s=Je(),a=s.dir,o=s.locale,i=s.classNames,l=s.styles,d=s.labels,c=d.labelPrevious,u=d.labelNext,m=s.components;if(!e.nextMonth&&!e.previousMonth)return n.jsx(n.Fragment,{});var h=c(e.previousMonth,{locale:o}),f=[i.nav_button,i.nav_button_previous].join(" "),j=u(e.nextMonth,{locale:o}),x=[i.nav_button,i.nav_button_next].join(" "),w=(t=m==null?void 0:m.IconRight)!==null&&t!==void 0?t:lee,v=(r=m==null?void 0:m.IconLeft)!==null&&r!==void 0?r:iee;return n.jsxs("div",{className:i.nav,style:l.nav,children:[!e.hidePrevious&&n.jsx(Gh,{name:"previous-month","aria-label":h,className:f,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?n.jsx(w,{className:i.nav_icon,style:l.nav_icon}):n.jsx(v,{className:i.nav_icon,style:l.nav_icon})}),!e.hideNext&&n.jsx(Gh,{name:"next-month","aria-label":j,className:x,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?n.jsx(v,{className:i.nav_icon,style:l.nav_icon}):n.jsx(w,{className:i.nav_icon,style:l.nav_icon})})]})}function Gb(e){var t=Je().numberOfMonths,r=kd(),s=r.previousMonth,a=r.nextMonth,o=r.goToMonth,i=r.displayMonths,l=i.findIndex(function(j){return Lj(e.displayMonth,j)}),d=l===0,c=l===i.length-1,u=t>1&&(d||!c),m=t>1&&(c||!d),h=function(){s&&o(s)},f=function(){a&&o(a)};return n.jsx(cee,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:m,nextMonth:a,previousMonth:s,onPreviousClick:h,onNextClick:f})}function dee(e){var t,r=Je(),s=r.classNames,a=r.disableNavigation,o=r.styles,i=r.captionLayout,l=r.components,d=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:v4,c;return a?c=n.jsx(d,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?c=n.jsx(Kb,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?c=n.jsxs(n.Fragment,{children:[n.jsx(Kb,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),n.jsx(Gb,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):c=n.jsxs(n.Fragment,{children:[n.jsx(d,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),n.jsx(Gb,{displayMonth:e.displayMonth,id:e.id})]}),n.jsx("div",{className:s.caption,style:o.caption,children:c})}function uee(e){var t=Je(),r=t.footer,s=t.styles,a=t.classNames.tfoot;return r?n.jsx("tfoot",{className:a,style:s.tfoot,children:n.jsx("tr",{children:n.jsx("td",{colSpan:8,children:r})})}):n.jsx(n.Fragment,{})}function hee(e,t,r){for(var s=r?go(new Date):qr(new Date,{locale:e,weekStartsOn:t}),a=[],o=0;o<7;o++){var i=Gt(s,o);a.push(i)}return a}function mee(){var e=Je(),t=e.classNames,r=e.styles,s=e.showWeekNumber,a=e.locale,o=e.weekStartsOn,i=e.ISOWeek,l=e.formatters.formatWeekdayName,d=e.labels.labelWeekday,c=hee(a,o,i);return n.jsxs("tr",{style:r.head_row,className:t.head_row,children:[s&&n.jsx("td",{style:r.head_cell,className:t.head_cell}),c.map(function(u,m){return n.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":d(u,{locale:a}),children:l(u,{locale:a})},m)})]})}function pee(){var e,t=Je(),r=t.classNames,s=t.styles,a=t.components,o=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:mee;return n.jsx("thead",{style:s.head,className:r.head,children:n.jsx(o,{})})}function fee(e){var t=Je(),r=t.locale,s=t.formatters.formatDay;return n.jsx(n.Fragment,{children:s(e.date,{locale:r})})}var Vj=p.createContext(void 0);function xee(e){if(!Ed(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return n.jsx(Vj.Provider,{value:t,children:e.children})}return n.jsx(gee,{initialProps:e.initialProps,children:e.children})}function gee(e){var t=e.initialProps,r=e.children,s=t.selected,a=t.min,o=t.max,i=function(c,u,m){var h,f;(h=t.onDayClick)===null||h===void 0||h.call(t,c,u,m);var j=!!(u.selected&&a&&(s==null?void 0:s.length)===a);if(!j){var x=!!(!u.selected&&o&&(s==null?void 0:s.length)===o);if(!x){var w=s?x4([],s):[];if(u.selected){var v=w.findIndex(function(g){return ln(c,g)});w.splice(v,1)}else w.push(c);(f=t.onSelect)===null||f===void 0||f.call(t,w,c,u,m)}}},l={disabled:[]};s&&l.disabled.push(function(c){var u=o&&s.length>o-1,m=s.some(function(h){return ln(h,c)});return!!(u&&!m)});var d={selected:s,onDayClick:i,modifiers:l};return n.jsx(Vj.Provider,{value:d,children:r})}function Bj(){var e=p.useContext(Vj);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function vee(e,t){var r=t||{},s=r.from,a=r.to;return s&&a?ln(a,e)&&ln(s,e)?void 0:ln(a,e)?{from:a,to:void 0}:ln(s,e)?void 0:Xg(s,e)?{from:e,to:a}:{from:s,to:e}:a?Xg(e,a)?{from:a,to:e}:{from:e,to:a}:s?f4(e,s)?{from:e,to:s}:{from:s,to:e}:{from:e,to:void 0}}var zj=p.createContext(void 0);function yee(e){if(!Pd(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return n.jsx(zj.Provider,{value:t,children:e.children})}return n.jsx(jee,{initialProps:e.initialProps,children:e.children})}function jee(e){var t=e.initialProps,r=e.children,s=t.selected,a=s||{},o=a.from,i=a.to,l=t.min,d=t.max,c=function(f,j,x){var w,v;(w=t.onDayClick)===null||w===void 0||w.call(t,f,j,x);var g=vee(f,s);(v=t.onSelect)===null||v===void 0||v.call(t,g,f,j,x)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(u.range_start=[o],i?(u.range_end=[i],ln(o,i)||(u.range_middle=[{after:o,before:i}])):u.range_end=[o]):i&&(u.range_start=[i],u.range_end=[i]),l&&(o&&!i&&u.disabled.push({after:Bf(o,l-1),before:Gt(o,l-1)}),o&&i&&u.disabled.push({after:o,before:Gt(o,l-1)}),!o&&i&&u.disabled.push({after:Bf(i,l-1),before:Gt(i,l-1)})),d){if(o&&!i&&(u.disabled.push({before:Gt(o,-d+1)}),u.disabled.push({after:Gt(o,d-1)})),o&&i){var m=Ir(i,o)+1,h=d-m;u.disabled.push({before:Bf(o,h)}),u.disabled.push({after:Gt(i,h)})}!o&&i&&(u.disabled.push({before:Gt(i,-d+1)}),u.disabled.push({after:Gt(i,d-1)}))}return n.jsx(zj.Provider,{value:{selected:s,onDayClick:c,modifiers:u},children:r})}function qj(){var e=p.useContext(zj);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function zu(e){return Array.isArray(e)?x4([],e):e!==void 0?[e]:[]}function wee(e){var t={};return Object.entries(e).forEach(function(r){var s=r[0],a=r[1];t[s]=zu(a)}),t}var wr;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(wr||(wr={}));var Nee=wr.Selected,ts=wr.Disabled,bee=wr.Hidden,See=wr.Today,Wf=wr.RangeEnd,Yf=wr.RangeMiddle,Kf=wr.RangeStart,Cee=wr.Outside;function Eee(e,t,r){var s,a=(s={},s[Nee]=zu(e.selected),s[ts]=zu(e.disabled),s[bee]=zu(e.hidden),s[See]=[e.today],s[Wf]=[],s[Yf]=[],s[Kf]=[],s[Cee]=[],s);return e.fromDate&&a[ts].push({before:e.fromDate}),e.toDate&&a[ts].push({after:e.toDate}),Ed(e)?a[ts]=a[ts].concat(t.modifiers[ts]):Pd(e)&&(a[ts]=a[ts].concat(r.modifiers[ts]),a[Kf]=r.modifiers[Kf],a[Yf]=r.modifiers[Yf],a[Wf]=r.modifiers[Wf]),a}var w4=p.createContext(void 0);function Pee(e){var t=Je(),r=Bj(),s=qj(),a=Eee(t,r,s),o=wee(t.modifiers),i=Ee(Ee({},a),o);return n.jsx(w4.Provider,{value:i,children:e.children})}function N4(){var e=p.useContext(w4);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function kee(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Tee(e){return!!(e&&typeof e=="object"&&"from"in e)}function Aee(e){return!!(e&&typeof e=="object"&&"after"in e)}function Mee(e){return!!(e&&typeof e=="object"&&"before"in e)}function Dee(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Ree(e,t){var r,s=t.from,a=t.to;if(s&&a){var o=Ir(a,s)<0;o&&(r=[a,s],s=r[0],a=r[1]);var i=Ir(e,s)>=0&&Ir(a,e)>=0;return i}return a?ln(a,e):s?ln(s,e):!1}function Fee(e){return _j(e)}function _ee(e){return Array.isArray(e)&&e.every(_j)}function Oee(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(Fee(r))return ln(e,r);if(_ee(r))return r.includes(e);if(Tee(r))return Ree(e,r);if(Dee(r))return r.dayOfWeek.includes(e.getDay());if(kee(r)){var s=Ir(r.before,e),a=Ir(r.after,e),o=s>0,i=a<0,l=Xg(r.before,r.after);return l?i&&o:o||i}return Aee(r)?Ir(e,r.after)>0:Mee(r)?Ir(r.before,e)>0:typeof r=="function"?r(e):!1})}function Wj(e,t,r){var s=Object.keys(t).reduce(function(o,i){var l=t[i];return Oee(e,l)&&o.push(i),o},[]),a={};return s.forEach(function(o){return a[o]=!0}),r&&!Lj(e,r)&&(a.outside=!0),a}function Iee(e,t){for(var r=mn(e[0]),s=fp(e[e.length-1]),a,o,i=r;i<=s;){var l=Wj(i,t),d=!l.disabled&&!l.hidden;if(!d){i=Gt(i,1);continue}if(l.selected)return i;l.today&&!o&&(o=i),a||(a=i),i=Gt(i,1)}return o||a}var Lee=365;function b4(e,t){var r=t.moveBy,s=t.direction,a=t.context,o=t.modifiers,i=t.retry,l=i===void 0?{count:0,lastFocused:e}:i,d=a.weekStartsOn,c=a.fromDate,u=a.toDate,m=a.locale,h={day:Gt,week:Gg,month:yr,year:BQ,startOfWeek:function(w){return a.ISOWeek?go(w):qr(w,{locale:m,weekStartsOn:d})},endOfWeek:function(w){return a.ISOWeek?d4(w):Oj(w,{locale:m,weekStartsOn:d})}},f=h[r](e,s==="after"?1:-1);s==="before"&&c?f=zQ([c,f]):s==="after"&&u&&(f=qQ([u,f]));var j=!0;if(o){var x=Wj(f,o);j=!x.disabled&&!x.hidden}return j?f:l.count>Lee?l.lastFocused:b4(f,{moveBy:r,direction:s,context:a,modifiers:o,retry:Ee(Ee({},l),{count:l.count+1})})}var S4=p.createContext(void 0);function $ee(e){var t=kd(),r=N4(),s=p.useState(),a=s[0],o=s[1],i=p.useState(),l=i[0],d=i[1],c=Iee(t.displayMonths,r),u=a??(l&&t.isDateDisplayed(l))?l:c,m=function(){d(a),o(void 0)},h=function(w){o(w)},f=Je(),j=function(w,v){if(a){var g=b4(a,{moveBy:w,direction:v,context:f,modifiers:r});ln(a,g)||(t.goToDate(g,a),h(g))}},x={focusedDay:a,focusTarget:u,blur:m,focus:h,focusDayAfter:function(){return j("day","after")},focusDayBefore:function(){return j("day","before")},focusWeekAfter:function(){return j("week","after")},focusWeekBefore:function(){return j("week","before")},focusMonthBefore:function(){return j("month","before")},focusMonthAfter:function(){return j("month","after")},focusYearBefore:function(){return j("year","before")},focusYearAfter:function(){return j("year","after")},focusStartOfWeek:function(){return j("startOfWeek","before")},focusEndOfWeek:function(){return j("endOfWeek","after")}};return n.jsx(S4.Provider,{value:x,children:e.children})}function Yj(){var e=p.useContext(S4);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Uee(e,t){var r=N4(),s=Wj(e,r,t);return s}var Kj=p.createContext(void 0);function Hee(e){if(!xp(e.initialProps)){var t={selected:void 0};return n.jsx(Kj.Provider,{value:t,children:e.children})}return n.jsx(Vee,{initialProps:e.initialProps,children:e.children})}function Vee(e){var t=e.initialProps,r=e.children,s=function(o,i,l){var d,c,u;if((d=t.onDayClick)===null||d===void 0||d.call(t,o,i,l),i.selected&&!t.required){(c=t.onSelect)===null||c===void 0||c.call(t,void 0,o,i,l);return}(u=t.onSelect)===null||u===void 0||u.call(t,o,o,i,l)},a={selected:t.selected,onDayClick:s};return n.jsx(Kj.Provider,{value:a,children:r})}function C4(){var e=p.useContext(Kj);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Bee(e,t){var r=Je(),s=C4(),a=Bj(),o=qj(),i=Yj(),l=i.focusDayAfter,d=i.focusDayBefore,c=i.focusWeekAfter,u=i.focusWeekBefore,m=i.blur,h=i.focus,f=i.focusMonthBefore,j=i.focusMonthAfter,x=i.focusYearBefore,w=i.focusYearAfter,v=i.focusStartOfWeek,g=i.focusEndOfWeek,y=function(I){var F,R,V,B;xp(r)?(F=s.onDayClick)===null||F===void 0||F.call(s,e,t,I):Ed(r)?(R=a.onDayClick)===null||R===void 0||R.call(a,e,t,I):Pd(r)?(V=o.onDayClick)===null||V===void 0||V.call(o,e,t,I):(B=r.onDayClick)===null||B===void 0||B.call(r,e,t,I)},N=function(I){var F;h(e),(F=r.onDayFocus)===null||F===void 0||F.call(r,e,t,I)},b=function(I){var F;m(),(F=r.onDayBlur)===null||F===void 0||F.call(r,e,t,I)},E=function(I){var F;(F=r.onDayMouseEnter)===null||F===void 0||F.call(r,e,t,I)},S=function(I){var F;(F=r.onDayMouseLeave)===null||F===void 0||F.call(r,e,t,I)},P=function(I){var F;(F=r.onDayPointerEnter)===null||F===void 0||F.call(r,e,t,I)},_=function(I){var F;(F=r.onDayPointerLeave)===null||F===void 0||F.call(r,e,t,I)},T=function(I){var F;(F=r.onDayTouchCancel)===null||F===void 0||F.call(r,e,t,I)},D=function(I){var F;(F=r.onDayTouchEnd)===null||F===void 0||F.call(r,e,t,I)},k=function(I){var F;(F=r.onDayTouchMove)===null||F===void 0||F.call(r,e,t,I)},U=function(I){var F;(F=r.onDayTouchStart)===null||F===void 0||F.call(r,e,t,I)},M=function(I){var F;(F=r.onDayKeyUp)===null||F===void 0||F.call(r,e,t,I)},$=function(I){var F;switch(I.key){case"ArrowLeft":I.preventDefault(),I.stopPropagation(),r.dir==="rtl"?l():d();break;case"ArrowRight":I.preventDefault(),I.stopPropagation(),r.dir==="rtl"?d():l();break;case"ArrowDown":I.preventDefault(),I.stopPropagation(),c();break;case"ArrowUp":I.preventDefault(),I.stopPropagation(),u();break;case"PageUp":I.preventDefault(),I.stopPropagation(),I.shiftKey?x():f();break;case"PageDown":I.preventDefault(),I.stopPropagation(),I.shiftKey?w():j();break;case"Home":I.preventDefault(),I.stopPropagation(),v();break;case"End":I.preventDefault(),I.stopPropagation(),g();break}(F=r.onDayKeyDown)===null||F===void 0||F.call(r,e,t,I)},L={onClick:y,onFocus:N,onBlur:b,onKeyDown:$,onKeyUp:M,onMouseEnter:E,onMouseLeave:S,onPointerEnter:P,onPointerLeave:_,onTouchCancel:T,onTouchEnd:D,onTouchMove:k,onTouchStart:U};return L}function zee(){var e=Je(),t=C4(),r=Bj(),s=qj(),a=xp(e)?t.selected:Ed(e)?r.selected:Pd(e)?s.selected:void 0;return a}function qee(e){return Object.values(wr).includes(e)}function Wee(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(s){var a=e.modifiersClassNames[s];if(a)r.push(a);else if(qee(s)){var o=e.classNames["day_".concat(s)];o&&r.push(o)}}),r}function Yee(e,t){var r=Ee({},e.styles.day);return Object.keys(t).forEach(function(s){var a;r=Ee(Ee({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[s])}),r}function Kee(e,t,r){var s,a,o,i=Je(),l=Yj(),d=Uee(e,t),c=Bee(e,d),u=zee(),m=!!(i.onDayClick||i.mode!=="default");p.useEffect(function(){var E;d.outside||l.focusedDay&&m&&ln(l.focusedDay,e)&&((E=r.current)===null||E===void 0||E.focus())},[l.focusedDay,e,r,m,d.outside]);var h=Wee(i,d).join(" "),f=Yee(i,d),j=!!(d.outside&&!i.showOutsideDays||d.hidden),x=(o=(a=i.components)===null||a===void 0?void 0:a.DayContent)!==null&&o!==void 0?o:fee,w=n.jsx(x,{date:e,displayMonth:t,activeModifiers:d}),v={style:f,className:h,children:w,role:"gridcell"},g=l.focusTarget&&ln(l.focusTarget,e)&&!d.outside,y=l.focusedDay&&ln(l.focusedDay,e),N=Ee(Ee(Ee({},v),(s={disabled:d.disabled,role:"gridcell"},s["aria-selected"]=d.selected,s.tabIndex=y||g?0:-1,s)),c),b={isButton:m,isHidden:j,activeModifiers:d,selectedDays:u,buttonProps:N,divProps:v};return b}function Gee(e){var t=p.useRef(null),r=Kee(e.date,e.displayMonth,t);return r.isHidden?n.jsx("div",{role:"gridcell"}):r.isButton?n.jsx(Gh,Ee({name:"day",ref:t},r.buttonProps)):n.jsx("div",Ee({},r.divProps))}function Xee(e){var t=e.number,r=e.dates,s=Je(),a=s.onWeekNumberClick,o=s.styles,i=s.classNames,l=s.locale,d=s.labels.labelWeekNumber,c=s.formatters.formatWeekNumber,u=c(Number(t),{locale:l});if(!a)return n.jsx("span",{className:i.weeknumber,style:o.weeknumber,children:u});var m=d(Number(t),{locale:l}),h=function(f){a(t,r,f)};return n.jsx(Gh,{name:"week-number","aria-label":m,className:i.weeknumber,style:o.weeknumber,onClick:h,children:u})}function Qee(e){var t,r,s=Je(),a=s.styles,o=s.classNames,i=s.showWeekNumber,l=s.components,d=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:Gee,c=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:Xee,u;return i&&(u=n.jsx("td",{className:o.cell,style:a.cell,children:n.jsx(c,{number:e.weekNumber,dates:e.dates})})),n.jsxs("tr",{className:o.row,style:a.row,children:[u,e.dates.map(function(m){return n.jsx("td",{className:o.cell,style:a.cell,role:"presentation",children:n.jsx(d,{displayMonth:e.displayMonth,date:m})},ZJ(m))})]})}function Xb(e,t,r){for(var s=r!=null&&r.ISOWeek?d4(t):Oj(t,r),a=r!=null&&r.ISOWeek?go(e):qr(e,r),o=Ir(s,a),i=[],l=0;l<=o;l++)i.push(Gt(a,l));var d=i.reduce(function(c,u){var m=r!=null&&r.ISOWeek?u4(u):m4(u,r),h=c.find(function(f){return f.weekNumber===m});return h?(h.dates.push(u),c):(c.push({weekNumber:m,dates:[u]}),c)},[]);return d}function Jee(e,t){var r=Xb(mn(e),fp(e),t);if(t!=null&&t.useFixedWeeks){var s=tZ(e,t);if(s<6){var a=r[r.length-1],o=a.dates[a.dates.length-1],i=Gg(o,6-s),l=Xb(Gg(o,1),i,t);r.push.apply(r,l)}}return r}function Zee(e){var t,r,s,a=Je(),o=a.locale,i=a.classNames,l=a.styles,d=a.hideHead,c=a.fixedWeeks,u=a.components,m=a.weekStartsOn,h=a.firstWeekContainsDate,f=a.ISOWeek,j=Jee(e.displayMonth,{useFixedWeeks:!!c,ISOWeek:f,locale:o,weekStartsOn:m,firstWeekContainsDate:h}),x=(t=u==null?void 0:u.Head)!==null&&t!==void 0?t:pee,w=(r=u==null?void 0:u.Row)!==null&&r!==void 0?r:Qee,v=(s=u==null?void 0:u.Footer)!==null&&s!==void 0?s:uee;return n.jsxs("table",{id:e.id,className:i.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!d&&n.jsx(x,{}),n.jsx("tbody",{className:i.tbody,style:l.tbody,children:j.map(function(g){return n.jsx(w,{displayMonth:e.displayMonth,dates:g.dates,weekNumber:g.weekNumber},g.weekNumber)})}),n.jsx(v,{displayMonth:e.displayMonth})]})}function ete(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var tte=ete()?p.useLayoutEffect:p.useEffect,Gf=!1,nte=0;function Qb(){return"react-day-picker-".concat(++nte)}function rte(e){var t,r=e??(Gf?Qb():null),s=p.useState(r),a=s[0],o=s[1];return tte(function(){a===null&&o(Qb())},[]),p.useEffect(function(){Gf===!1&&(Gf=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function ste(e){var t,r,s=Je(),a=s.dir,o=s.classNames,i=s.styles,l=s.components,d=kd().displayMonths,c=rte(s.id?"".concat(s.id,"-").concat(e.displayIndex):void 0),u=s.id?"".concat(s.id,"-grid-").concat(e.displayIndex):void 0,m=[o.month],h=i.month,f=e.displayIndex===0,j=e.displayIndex===d.length-1,x=!f&&!j;a==="rtl"&&(t=[f,j],j=t[0],f=t[1]),f&&(m.push(o.caption_start),h=Ee(Ee({},h),i.caption_start)),j&&(m.push(o.caption_end),h=Ee(Ee({},h),i.caption_end)),x&&(m.push(o.caption_between),h=Ee(Ee({},h),i.caption_between));var w=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:dee;return n.jsxs("div",{className:m.join(" "),style:h,children:[n.jsx(w,{id:c,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),n.jsx(Zee,{id:u,"aria-labelledby":c,displayMonth:e.displayMonth})]},e.displayIndex)}function ate(e){var t=Je(),r=t.classNames,s=t.styles;return n.jsx("div",{className:r.months,style:s.months,children:e.children})}function ote(e){var t,r,s=e.initialProps,a=Je(),o=Yj(),i=kd(),l=p.useState(!1),d=l[0],c=l[1];p.useEffect(function(){a.initialFocus&&o.focusTarget&&(d||(o.focus(o.focusTarget),c(!0)))},[a.initialFocus,d,o.focus,o.focusTarget,o]);var u=[a.classNames.root,a.className];a.numberOfMonths>1&&u.push(a.classNames.multiple_months),a.showWeekNumber&&u.push(a.classNames.with_weeknumber);var m=Ee(Ee({},a.styles.root),a.style),h=Object.keys(s).filter(function(j){return j.startsWith("data-")}).reduce(function(j,x){var w;return Ee(Ee({},j),(w={},w[x]=s[x],w))},{}),f=(r=(t=s.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:ate;return n.jsx("div",Ee({className:u.join(" "),style:m,dir:a.dir,id:a.id,nonce:s.nonce,title:s.title,lang:s.lang},h,{children:n.jsx(f,{children:i.displayMonths.map(function(j,x){return n.jsx(ste,{displayIndex:x,displayMonth:j},x)})})}))}function ite(e){var t=e.children,r=MZ(e,["children"]);return n.jsx(XZ,{initialProps:r,children:n.jsx(oee,{children:n.jsx(Hee,{initialProps:r,children:n.jsx(xee,{initialProps:r,children:n.jsx(yee,{initialProps:r,children:n.jsx(Pee,{children:n.jsx($ee,{children:t})})})})})})})}function lte(e){return n.jsx(ite,Ee({},e,{children:n.jsx(ote,{initialProps:e})}))}function Qg({className:e,classNames:t,showOutsideDays:r=!0,...s}){return n.jsx(lte,{showOutsideDays:r,className:de("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:de(Oc({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:de(Oc({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>n.jsx(KC,{className:"h-4 w-4"}),IconRight:({...a})=>n.jsx(qn,{className:"h-4 w-4"})},...s})}Qg.displayName="Calendar";const cte=({onFilterChange:e})=>{const[t,r]=p.useState(),[s,a]=p.useState(),o=()=>{e({dateRange:{start:t==null?void 0:t.toISOString(),end:s==null?void 0:s.toISOString()}})},i=()=>{r(void 0),a(void 0),e({dateRange:{}})},l=d=>{const c=new Date,u=new Date;u.setDate(c.getDate()-d),r(u),a(c),e({dateRange:{start:u.toISOString(),end:c.toISOString()}})};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"text-sm font-medium",children:"Date Range:"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(W,{variant:"outline",size:"sm",onClick:()=>l(1),children:"Last 24h"}),n.jsx(W,{variant:"outline",size:"sm",onClick:()=>l(7),children:"Last 7d"}),n.jsx(W,{variant:"outline",size:"sm",onClick:()=>l(30),children:"Last 30d"}),(t||s)&&n.jsx(W,{variant:"ghost",size:"sm",onClick:i,children:n.jsx(ut,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"text-sm",children:"Start Date"}),n.jsxs(qg,{children:[n.jsx(Wg,{asChild:!0,children:n.jsxs(W,{variant:"outline",size:"sm",className:de("w-[200px] justify-start text-left font-normal",!t&&"text-muted-foreground"),children:[n.jsx(yw,{className:"mr-2 h-4 w-4"}),t?Ns(t,"PPP"):"Pick start date"]})}),n.jsx(Yh,{className:"w-auto p-0",align:"start",children:n.jsx(Qg,{mode:"single",selected:t,onSelect:d=>{r(d),d&&s&&o()},initialFocus:!0,className:"p-3 pointer-events-auto"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"text-sm",children:"End Date"}),n.jsxs(qg,{children:[n.jsx(Wg,{asChild:!0,children:n.jsxs(W,{variant:"outline",size:"sm",className:de("w-[200px] justify-start text-left font-normal",!s&&"text-muted-foreground"),children:[n.jsx(yw,{className:"mr-2 h-4 w-4"}),s?Ns(s,"PPP"):"Pick end date"]})}),n.jsx(Yh,{className:"w-auto p-0",align:"start",children:n.jsx(Qg,{mode:"single",selected:s,onSelect:d=>{a(d),t&&d&&o()},initialFocus:!0,className:"p-3 pointer-events-auto"})})]})]})]})]})},dte=({adapterId:e})=>{const[t,r]=p.useState(!1),[s,a]=p.useState("csv"),[o,i]=p.useState(!1),{logs:l}=Hj({sourceId:e}),{toast:d}=Qe(),c=async()=>{if(!e){d({title:"No Adapter Selected",description:"Please select an adapter to export logs.",variant:"destructive"});return}i(!0);try{let u,m,h;if(s==="csv"){const w=["Timestamp","Level","Message","Details"],v=l.map(g=>[g.timestamp,g.level,`"${g.message.replace(/"/g,'""')}"`,g.details?`"${JSON.stringify(g.details).replace(/"/g,'""')}"`:""]);u=[w.join(","),...v.map(g=>g.join(","))].join(`
`),m=`adapter-logs-${e}-${new Date().toISOString().split("T")[0]}.csv`,h="text/csv"}else u=JSON.stringify(l,null,2),m=`adapter-logs-${e}-${new Date().toISOString().split("T")[0]}.json`,h="application/json";const f=new Blob([u],{type:h}),j=URL.createObjectURL(f),x=document.createElement("a");x.href=j,x.download=m,document.body.appendChild(x),x.click(),document.body.removeChild(x),URL.revokeObjectURL(j),d({title:"Export Successful",description:`Logs exported as ${m}`}),r(!1)}catch{d({title:"Export Failed",description:"An error occurred while exporting logs.",variant:"destructive"})}finally{i(!1)}};return n.jsxs(wt,{open:t,onOpenChange:r,children:[n.jsx(io,{asChild:!0,children:n.jsxs(W,{variant:"outline",size:"sm",className:"hover-scale",children:[n.jsx(ld,{className:"h-4 w-4 mr-2"}),"Export"]})}),n.jsxs(xt,{children:[n.jsx(Nt,{children:n.jsx(bt,{children:"Export Adapter Logs"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Export Format"}),n.jsxs(Z,{value:s,onValueChange:u=>a(u),children:[n.jsx(Q,{children:n.jsx(ee,{})}),n.jsxs(J,{children:[n.jsx(A,{value:"csv",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ht,{className:"h-4 w-4"}),"CSV Format"]})}),n.jsx(A,{value:"json",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Jv,{className:"h-4 w-4"}),"JSON Format"]})})]})]})]}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:["This will export ",l.length," log entries from the currently selected adapter and filters."]}),n.jsxs("div",{className:"flex gap-2 justify-end",children:[n.jsx(W,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),n.jsx(W,{onClick:c,disabled:o||!e,children:o?"Exporting...":"Export"})]})]})]})]})},ute=()=>{const[e,t]=p.useState(""),[r,s]=p.useState(""),[a,o]=p.useState(""),[i,l]=p.useState(""),[d,c]=p.useState({}),[u,m]=p.useState("system"),{logs:h,loading:f,error:j,refetch:x,sources:w}=Hj({source:e||void 0,sourceId:r||void 0,level:a||void 0,search:i,startDate:d.start,endDate:d.end}),v=$o({domainType:"UserManagement",includeSystemLogs:!1}),g=$o({domainType:"FlowEngine",includeSystemLogs:!1}),y=$o({domainType:"AdapterManagement",includeSystemLogs:!1}),N=$o({domainType:"DataStructures",includeSystemLogs:!1}),b=$o({domainType:"ChannelManagement",includeSystemLogs:!1}),E=$o({domainType:"MessageProcessing",includeSystemLogs:!1}),S=()=>{x(),v.refetch(),g.refetch(),y.refetch(),N.refetch(),b.refetch(),E.refetch()},P=_=>{o(_.level),c(_.dateRange)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-bold text-foreground flex items-center gap-3",children:[n.jsx(Jx,{className:"h-7 w-7"}),"System Logs"]}),n.jsx("p",{className:"text-muted-foreground",children:"Monitor and analyze all system logs including errors, adapters, channels, and flows"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(dte,{adapterId:r}),n.jsxs(W,{variant:"outline",size:"sm",onClick:S,className:"hover-scale",children:[n.jsx(hn,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),n.jsxs(X,{className:"bg-gradient-secondary border-border/50",children:[n.jsx(re,{children:n.jsxs(ae,{className:"text-lg flex items-center gap-2",children:[n.jsx(gm,{className:"h-5 w-5"}),"Filters"]})}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Source Type"}),n.jsxs(Z,{value:e,onValueChange:_=>t(_),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"All sources"})}),n.jsxs(J,{children:[n.jsx(A,{value:"system",children:"System"}),n.jsx(A,{value:"adapter",children:"Adapters"}),n.jsx(A,{value:"channel",children:"Channels"}),n.jsx(A,{value:"flow",children:"Flows"}),n.jsx(A,{value:"api",children:"API"})]})]})]}),e&&e!=="system"&&e!=="api"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Specific Source"}),n.jsxs(Z,{value:r,onValueChange:s,children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:`Select ${e}`})}),n.jsxs(J,{children:[e==="adapter"&&w.adapters.map(_=>n.jsx(A,{value:_.id,children:_.name},_.id)),e==="channel"&&w.channels.map(_=>n.jsx(A,{value:_.id,children:_.name},_.id))]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Log Level"}),n.jsxs(Z,{value:a,onValueChange:_=>o(_),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"All levels"})}),n.jsxs(J,{children:[n.jsx(A,{value:"debug",children:"Debug"}),n.jsx(A,{value:"info",children:"Info"}),n.jsx(A,{value:"warn",children:"Warning"}),n.jsx(A,{value:"error",children:"Error"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Search"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ur,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(O,{placeholder:"Search logs...",value:i,onChange:_=>l(_.target.value),className:"pl-10"})]})]})]}),n.jsx(cte,{onFilterChange:P})]})]}),h.length>0&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(X,{className:"bg-gradient-secondary border-border/50",children:n.jsx(te,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Logs"}),n.jsx("p",{className:"text-2xl font-bold",children:h.length})]}),n.jsx(oe,{variant:"outline",children:"24h"})]})})}),n.jsx(X,{className:"bg-gradient-secondary border-border/50",children:n.jsx(te,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Errors"}),n.jsx("p",{className:"text-2xl font-bold text-destructive",children:h.filter(_=>_.level==="error").length})]}),n.jsx(oe,{variant:"destructive",children:"Error"})]})})}),n.jsx(X,{className:"bg-gradient-secondary border-border/50",children:n.jsx(te,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Warnings"}),n.jsx("p",{className:"text-2xl font-bold text-warning",children:h.filter(_=>_.level==="warn").length})]}),n.jsx(oe,{variant:"secondary",children:"Warning"})]})})}),n.jsx(X,{className:"bg-gradient-secondary border-border/50",children:n.jsx(te,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Info"}),n.jsx("p",{className:"text-2xl font-bold text-success",children:h.filter(_=>_.level==="info").length})]}),n.jsx(oe,{variant:"outline",children:"Info"})]})})})]}),n.jsxs(Ge,{value:u,onValueChange:m,children:[n.jsxs(qe,{className:"grid w-full grid-cols-7",children:[n.jsxs(Ne,{value:"system",className:"flex items-center gap-2",children:[n.jsx(Jx,{className:"h-4 w-4"}),"System Logs"]}),n.jsxs(Ne,{value:"user",className:"flex items-center gap-2",children:[n.jsx(Oi,{className:"h-4 w-4"}),"Users"]}),n.jsxs(Ne,{value:"flow",className:"flex items-center gap-2",children:[n.jsx(vm,{className:"h-4 w-4"}),"Flows"]}),n.jsxs(Ne,{value:"adapter",className:"flex items-center gap-2",children:[n.jsx(ro,{className:"h-4 w-4"}),"Adapters"]}),n.jsxs(Ne,{value:"structure",className:"flex items-center gap-2",children:[n.jsx(qt,{className:"h-4 w-4"}),"Structures"]}),n.jsxs(Ne,{value:"channel",className:"flex items-center gap-2",children:[n.jsx(nt,{className:"h-4 w-4"}),"Channels"]}),n.jsxs(Ne,{value:"message",className:"flex items-center gap-2",children:[n.jsx(an,{className:"h-4 w-4"}),"Messages"]})]}),n.jsx(ye,{value:"system",children:n.jsx(AZ,{logs:h,loading:f,error:j,selectedSource:e})}),n.jsx(ye,{value:"user",children:n.jsx(Uo,{domainType:"UserManagement",domainErrors:v.domainErrors,systemLogs:v.systemLogs,loading:v.loading,error:v.error})}),n.jsx(ye,{value:"flow",children:n.jsx(Uo,{domainType:"FlowEngine",domainErrors:g.domainErrors,systemLogs:g.systemLogs,loading:g.loading,error:g.error})}),n.jsx(ye,{value:"adapter",children:n.jsx(Uo,{domainType:"AdapterManagement",domainErrors:y.domainErrors,systemLogs:y.systemLogs,loading:y.loading,error:y.error})}),n.jsx(ye,{value:"structure",children:n.jsx(Uo,{domainType:"DataStructures",domainErrors:N.domainErrors,systemLogs:N.systemLogs,loading:N.loading,error:N.error})}),n.jsx(ye,{value:"channel",children:n.jsx(Uo,{domainType:"ChannelManagement",domainErrors:b.domainErrors,systemLogs:b.systemLogs,loading:b.loading,error:b.error})}),n.jsx(ye,{value:"message",children:n.jsx(Uo,{domainType:"MessageProcessing",domainErrors:E.domainErrors,systemLogs:E.systemLogs,loading:E.loading,error:E.error})})]})]})},hte=[{value:"FILE_TRANSFER",label:"File Transfer"},{value:"MESSAGING",label:"Messaging"},{value:"DATABASE",label:"Database"},{value:"WEB_SERVICE",label:"Web Service"},{value:"MAIL",label:"Mail"},{value:"OTHER",label:"Other"}],Jb=[{value:"network",icon:ro},{value:"shield",icon:Cn},{value:"folder",icon:XC},{value:"message-square",icon:an},{value:"database",icon:qt},{value:"globe",icon:ls},{value:"mail",icon:cd},{value:"file-text",icon:Ht},{value:"cpu",icon:zO},{value:"activity",icon:no},{value:"cloud",icon:VO},{value:"inbox",icon:JC},{value:"download",icon:ld},{value:"hard-drive",icon:QC},{value:"zap",icon:ur}],mte=()=>{const[e,t]=p.useState([]),[r,s]=p.useState(!0),[a,o]=p.useState(!1),[i,l]=p.useState(null),{toast:d}=Qe(),[c,u]=p.useState({name:"",displayName:"",description:"",category:"",iconName:"network",isActive:!0,supportsSender:!0,supportsReceiver:!0,configurationSchema:""});p.useEffect(()=>{m()},[]);const m=async()=>{try{s(!0);const g=await fetch("/api/admin/adapter-types");if(g.ok){const y=await g.json();t(y||[])}else if(g.status===404)t([]);else throw new Error("Failed to fetch adapter types")}catch(g){console.log("API not available yet, starting with empty data:",g),t([])}finally{s(!1)}},h=async g=>{g.preventDefault();try{const y={...c,configurationSchema:c.configurationSchema?JSON.parse(c.configurationSchema):null},N=i?`/api/admin/adapter-types/${i.id}`:"/api/admin/adapter-types";if((await fetch(N,{method:i?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)})).ok)d({title:"Success",description:`Adapter type ${i?"updated":"created"} successfully`}),o(!1),x(),m();else throw new Error(`Failed to ${i?"update":"create"} adapter type`)}catch(y){d({title:"Error",description:`Failed to ${i?"update":"create"} adapter type`,variant:"destructive"}),console.error("Error saving adapter type:",y)}},f=g=>{l(g),u({name:g.name,displayName:g.displayName,description:g.description,category:g.category,iconName:g.iconName,isActive:g.isActive,supportsSender:g.supportsSender,supportsReceiver:g.supportsReceiver,configurationSchema:g.configurationSchema?JSON.stringify(g.configurationSchema,null,2):""}),o(!0)},j=async g=>{if(confirm("Are you sure you want to delete this adapter type?"))try{if((await fetch(`/api/admin/adapter-types/${g}`,{method:"DELETE"})).ok)d({title:"Success",description:"Adapter type deleted successfully"}),m();else throw new Error("Failed to delete adapter type")}catch(y){d({title:"Error",description:"Failed to delete adapter type",variant:"destructive"}),console.error("Error deleting adapter type:",y)}},x=()=>{u({name:"",displayName:"",description:"",category:"",iconName:"network",isActive:!0,supportsSender:!0,supportsReceiver:!0,configurationSchema:""}),l(null)},w=g=>{const y=Jb.find(N=>N.value===g);return y?y.icon:ro},v=g=>{const y={FILE_TRANSFER:"bg-blue-100 text-blue-800",MESSAGING:"bg-green-100 text-green-800",DATABASE:"bg-purple-100 text-purple-800",WEB_SERVICE:"bg-orange-100 text-orange-800",MAIL:"bg-red-100 text-red-800",OTHER:"bg-gray-100 text-gray-800"};return y[g]||y.OTHER};return n.jsxs(X,{children:[n.jsx(re,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(ae,{children:"Adapter Types Management"}),n.jsx(ge,{children:"Manage available adapter types for communication channels"})]}),n.jsxs(wt,{open:a,onOpenChange:o,children:[n.jsx(io,{asChild:!0,children:n.jsxs(W,{onClick:x,children:[n.jsx(xr,{className:"h-4 w-4 mr-2"}),"Add Adapter Type"]})}),n.jsxs(xt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Nt,{children:[n.jsx(bt,{children:i?"Edit Adapter Type":"Add New Adapter Type"}),n.jsx(va,{children:"Configure the adapter type settings and capabilities"})]}),n.jsxs("form",{onSubmit:h,className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"name",children:"Name (Internal)*"}),n.jsx(O,{id:"name",value:c.name,onChange:g=>u({...c,name:g.target.value}),placeholder:"e.g., sftp, rest, jms",required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"displayName",children:"Display Name*"}),n.jsx(O,{id:"displayName",value:c.displayName,onChange:g=>u({...c,displayName:g.target.value}),placeholder:"e.g., SFTP Adapter, REST API",required:!0})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(C,{htmlFor:"description",children:"Description"}),n.jsx(Se,{id:"description",value:c.description,onChange:g=>u({...c,description:g.target.value}),placeholder:"Brief description of the adapter type",rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"category",children:"Category*"}),n.jsxs(Z,{value:c.category,onValueChange:g=>u({...c,category:g}),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select category"})}),n.jsx(J,{children:hte.map(g=>n.jsx(A,{value:g.value,children:g.label},g.value))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"iconName",children:"Icon"}),n.jsxs(Z,{value:c.iconName,onValueChange:g=>u({...c,iconName:g}),children:[n.jsx(Q,{children:n.jsx(ee,{placeholder:"Select icon"})}),n.jsx(J,{children:Jb.map(g=>{const y=g.icon;return n.jsx(A,{value:g.value,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(y,{className:"h-4 w-4"}),g.value]})},g.value)})})]})]})]}),n.jsxs("div",{className:"flex gap-6",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"isActive",checked:c.isActive,onCheckedChange:g=>u({...c,isActive:g===!0})}),n.jsx(C,{htmlFor:"isActive",children:"Active"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"supportsSender",checked:c.supportsSender,onCheckedChange:g=>u({...c,supportsSender:g===!0})}),n.jsx(C,{htmlFor:"supportsSender",children:"Supports Sender"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"supportsReceiver",checked:c.supportsReceiver,onCheckedChange:g=>u({...c,supportsReceiver:g===!0})}),n.jsx(C,{htmlFor:"supportsReceiver",children:"Supports Receiver"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"configurationSchema",children:"Configuration Schema (JSON)"}),n.jsx(Se,{id:"configurationSchema",value:c.configurationSchema,onChange:g=>u({...c,configurationSchema:g.target.value}),placeholder:"Optional JSON schema for adapter configuration",rows:6,className:"font-mono text-sm"})]}),n.jsxs(Hm,{children:[n.jsx(W,{type:"button",variant:"outline",onClick:()=>o(!1),children:"Cancel"}),n.jsxs(W,{type:"submit",children:[i?"Update":"Create"," Adapter Type"]})]})]})]})]})]})}),n.jsx(te,{children:r?n.jsx("div",{className:"text-center py-8",children:"Loading adapter types..."}):e.length===0?n.jsx(So,{icon:n.jsx(ro,{className:"h-12 w-12"}),title:"No adapter types found",description:"Create custom adapter types to extend the platform with new integration capabilities.",action:{label:"Add Adapter Type",onClick:()=>{}}}):n.jsxs(vl,{children:[n.jsx(yl,{children:n.jsxs(jr,{children:[n.jsx($e,{children:"Icon"}),n.jsx($e,{children:"Name"}),n.jsx($e,{children:"Category"}),n.jsx($e,{children:"Support"}),n.jsx($e,{children:"Status"}),n.jsx($e,{children:"Actions"})]})}),n.jsx(jl,{children:e.map(g=>{const y=w(g.iconName);return n.jsxs(jr,{children:[n.jsx(Ue,{children:n.jsx(y,{className:"h-5 w-5"})}),n.jsx(Ue,{children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:g.displayName}),n.jsx("div",{className:"text-sm text-muted-foreground",children:g.name})]})}),n.jsx(Ue,{children:n.jsx(oe,{className:v(g.category),children:g.category.replace("_"," ")})}),n.jsx(Ue,{children:n.jsxs("div",{className:"flex gap-1",children:[g.supportsSender&&n.jsx(oe,{variant:"outline",className:"text-xs",children:"Sender"}),g.supportsReceiver&&n.jsx(oe,{variant:"outline",className:"text-xs",children:"Receiver"})]})}),n.jsx(Ue,{children:n.jsx(oe,{variant:g.isActive?"default":"secondary",children:g.isActive?"Active":"Inactive"})}),n.jsx(Ue,{children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(W,{variant:"outline",size:"sm",onClick:()=>f(g),children:n.jsx(ZO,{className:"h-4 w-4"})}),n.jsx(W,{variant:"outline",size:"sm",onClick:()=>j(g.id),children:n.jsx(ba,{className:"h-4 w-4"})})]})})]},g.id)})})]})})]})},pte=({})=>{const[e,t]=p.useState([]),[r,s]=p.useState([]),[a,o]=p.useState("all"),[i,l]=p.useState(!0),[d,c]=p.useState(!1),[u,m]=p.useState({}),h=async()=>{try{l(!0);const b=await fetch("/api/system-settings");if(b.ok){const E=await b.json();t(E)}else gt.error("Failed to load system settings")}catch(b){console.error("Error fetching system settings:",b),gt.error("Error loading system settings")}finally{l(!1)}},f=async()=>{try{const b=await fetch("/api/system-settings/categories");if(b.ok){const E=await b.json();s(["all",...E])}}catch(b){console.error("Error fetching categories:",b)}},j=async()=>{try{(await fetch("/api/system-settings/initialize",{method:"POST"})).ok?(gt.success("Default settings initialized"),h()):gt.error("Failed to initialize settings")}catch(b){console.error("Error initializing settings:",b),gt.error("Error initializing settings")}},x=async(b,E)=>{try{c(!0);const S=e.find(T=>T.settingKey===b);if(!S)return;const P={...S,settingValue:E,updatedBy:"admin"},_=await fetch(`/api/system-settings/${b}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)});if(_.ok){const T=await _.json();t(D=>D.map(k=>k.settingKey===b?T:k)),m(D=>{const k={...D};return delete k[b],k}),gt.success(`Setting "${b}" updated successfully`)}else gt.error("Failed to save setting")}catch(S){console.error("Error saving setting:",S),gt.error("Error saving setting")}finally{c(!1)}},w=(b,E)=>{m(S=>({...S,[b]:E}))},v=b=>u[b.settingKey]??b.settingValue,g=b=>u[b.settingKey]!==void 0&&u[b.settingKey]!==b.settingValue,y=a==="all"?e:e.filter(b=>b.category===a);p.useEffect(()=>{h(),f()},[]);const N=b=>n.jsxs(X,{className:"mb-4",children:[n.jsx(re,{className:"pb-3",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsxs(ae,{className:"text-sm font-medium flex items-center gap-2",children:[b.settingKey,b.isReadonly&&n.jsx(oe,{variant:"secondary",className:"text-xs",children:"Readonly"}),b.isEncrypted&&n.jsx(oe,{variant:"outline",className:"text-xs",children:"Encrypted"}),g(b)&&n.jsx(oe,{variant:"destructive",className:"text-xs",children:"Modified"})]}),n.jsx(ge,{className:"text-xs",children:b.description})]}),n.jsx(oe,{variant:"outline",className:"text-xs",children:b.category})]})}),n.jsx(te,{className:"pt-0",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(C,{htmlFor:`setting-${b.id}`,className:"text-xs",children:["Value (",b.dataType,")"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(O,{id:`setting-${b.id}`,value:v(b),onChange:E=>w(b.settingKey,E.target.value),disabled:b.isReadonly,type:b.dataType==="PASSWORD"?"password":b.dataType==="INTEGER"?"number":"text",className:"text-sm",placeholder:b.settingValue}),g(b)&&n.jsx(W,{size:"sm",onClick:()=>x(b.settingKey,u[b.settingKey]),disabled:d,className:"px-3",children:d?n.jsx(hn,{className:"h-3 w-3 animate-spin"}):n.jsx(jo,{className:"h-3 w-3"})})]})]}),n.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{children:["Created: ",new Date(b.createdAt).toLocaleString()]}),n.jsxs("span",{children:["Updated: ",new Date(b.updatedAt).toLocaleString()]})]}),(b.createdBy||b.updatedBy)&&n.jsxs("div",{className:"flex justify-between",children:[b.createdBy&&n.jsxs("span",{children:["Created by: ",b.createdBy]}),b.updatedBy&&n.jsxs("span",{children:["Updated by: ",b.updatedBy]})]})]})]})})]},b.id);return i?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx(hn,{className:"h-8 w-8 animate-spin"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(nt,{className:"h-6 w-6"}),"System Settings"]}),n.jsx("p",{className:"text-muted-foreground",children:"Configure system-wide settings and parameters"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(W,{variant:"outline",size:"sm",onClick:h,disabled:i,children:[n.jsx(hn,{className:"h-4 w-4 mr-2"}),"Refresh"]}),n.jsx(W,{variant:"outline",size:"sm",onClick:j,children:"Initialize Defaults"})]})]}),Object.keys(u).length>0&&n.jsx(X,{className:"border-yellow-200 bg-yellow-50 dark:border-yellow-800 dark:bg-yellow-950",children:n.jsxs(re,{className:"pb-3",children:[n.jsxs(ae,{className:"text-sm flex items-center gap-2 text-yellow-800 dark:text-yellow-200",children:[n.jsx(xs,{className:"h-4 w-4"}),"Unsaved Changes"]}),n.jsxs(ge,{className:"text-yellow-700 dark:text-yellow-300",children:["You have ",Object.keys(u).length," unsaved change(s). Click the save button next to each modified setting to save changes."]})]})}),n.jsxs(Ge,{value:a,onValueChange:o,children:[n.jsx(qe,{className:"grid w-full grid-cols-auto max-w-fit",children:r.map(b=>n.jsxs(Ne,{value:b,className:"capitalize",children:[b==="all"?"All Settings":b,b!=="all"&&n.jsx(oe,{variant:"secondary",className:"ml-2 text-xs",children:e.filter(E=>E.category===b).length})]},b))}),n.jsx(ye,{value:a,className:"space-y-4",children:y.length===0?n.jsx(X,{children:n.jsx(te,{className:"flex items-center justify-center h-32",children:n.jsxs("div",{className:"text-center",children:[n.jsx(nt,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),n.jsx("p",{className:"text-muted-foreground",children:"No settings found"}),n.jsx(W,{variant:"outline",size:"sm",onClick:j,className:"mt-2",children:"Initialize Default Settings"})]})})}):n.jsx("div",{className:"grid gap-4",children:y.map(N)})})]})]})},Zb=[{id:"1",username:"admin",email:"admin@integrixlab.com",first_name:"System",last_name:"Administrator",role:"administrator",status:"active",permissions:{flows:["create","read","update","delete","execute"],adapters:["create","read","update","delete","test"],structures:["create","read","update","delete"],users:["create","read","update","delete"],system:["create","read","update","delete"]},email_verified:!0,created_at:"2024-01-01 09:00:00",updated_at:"2024-01-01 09:00:00",last_login_at:"2024-01-15 14:30:25"},{id:"2",username:"integrator1",email:"integrator1@company.com",first_name:"John",last_name:"Integrator",role:"integrator",status:"active",permissions:{flows:["create","read","update","execute"],adapters:["create","read","update","test"],structures:["create","read","update"]},email_verified:!0,created_at:"2024-01-05 10:30:00",updated_at:"2024-01-05 10:30:00",last_login_at:"2024-01-15 12:15:30"},{id:"3",username:"viewer1",email:"viewer1@company.com",first_name:"Jane",last_name:"Viewer",role:"viewer",status:"inactive",permissions:{flows:["read"],adapters:["read"],structures:["read"]},email_verified:!0,created_at:"2024-01-08 14:20:00",updated_at:"2024-01-08 14:20:00",last_login_at:"2024-01-10 16:45:12"}],fte=[{id:"1",name:"administrator",description:"Full system access with user management capabilities",permissions:["read","write","admin","user_management"],userCount:1},{id:"2",name:"integrator",description:"Can create and manage integration flows",permissions:["read","write","execute"],userCount:1},{id:"3",name:"viewer",description:"Read-only access to monitoring and logs",permissions:["read"],userCount:1}],xte=[{id:"1",name:"SAP Production SSL",type:"SSL Certificate",issuer:"DigiCert Inc",validFrom:"2024-01-01",validTo:"2025-01-01",status:"active",usage:"SAP ERP Connection"},{id:"2",name:"Salesforce OAuth",type:"OAuth Certificate",issuer:"Salesforce.com",validFrom:"2024-01-01",validTo:"2024-12-31",status:"active",usage:"Salesforce API Authentication"},{id:"3",name:"Legacy System Cert",type:"Client Certificate",issuer:"Internal CA",validFrom:"2023-06-01",validTo:"2024-02-01",status:"expiring",usage:"Legacy SOAP Service"}],gte=[{id:"1",name:"MySQL JDBC Driver",version:"8.0.33",description:"MySQL Connector/J JDBC Driver for database connectivity",file_name:"mysql-connector-java-8.0.33.jar",size_bytes:2456789,upload_date:"2024-01-15",driver_type:"Database",is_active:!0,created_at:"2024-01-15 10:30:00",updated_at:"2024-01-15 10:30:00"},{id:"2",name:"PostgreSQL JDBC Driver",version:"42.6.0",description:"PostgreSQL JDBC Driver for database operations",file_name:"postgresql-42.6.0.jar",size_bytes:1234567,upload_date:"2024-01-10",driver_type:"Database",is_active:!0,created_at:"2024-01-10 11:20:00",updated_at:"2024-01-10 11:20:00"},{id:"3",name:"ActiveMQ Client",version:"5.18.3",description:"ActiveMQ JMS Client for message queue operations",file_name:"activemq-client-5.18.3.jar",size_bytes:987654,upload_date:"2024-01-08",driver_type:"Message Queue",is_active:!0,created_at:"2024-01-08 09:15:00",updated_at:"2024-01-08 09:15:00"}],vte=()=>{const[e,t]=p.useState([]),[r,s]=p.useState(!0),[a]=p.useState(fte),[o]=p.useState(xte),[i,l]=p.useState(gte),[d,c]=p.useState("users"),u=async()=>{try{s(!0);const f=await jn.getAllUsers();if(console.log("User fetch response:",f),f.success&&f.data){const j=Array.isArray(f.data)?f.data:f.data.users;t(j||[])}else console.error("Failed to fetch users:",f.error),console.log("API not available, using fallback user data"),t(Zb),gt.error("API temporarily unavailable - showing offline data")}catch(f){console.error("Error fetching users:",f),console.log("API error, using fallback user data"),t(Zb),gt.error("API temporarily unavailable - showing offline data")}finally{s(!1)}};p.useEffect(()=>{u()},[]);const m=f=>{l(j=>[...j,f])},h=f=>{l(j=>j.filter(x=>x.id!==f))};return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[n.jsx(Bt,{className:"h-8 w-8"}),"Admin Panel"]}),n.jsx("p",{className:"text-muted-foreground",children:"Manage users, roles, and system security"})]}),n.jsx(xZ,{users:e,roles:a,certificates:o,jarFiles:i}),n.jsxs(Ge,{value:d,onValueChange:c,className:"space-y-6 animate-fade-in",style:{animationDelay:"0.1s"},children:[n.jsxs(qe,{className:"grid w-full grid-cols-7",children:[n.jsxs(Ne,{value:"users",className:"flex items-center gap-2",children:[n.jsx(Bt,{className:"h-4 w-4"}),"Users"]}),n.jsxs(Ne,{value:"roles",className:"flex items-center gap-2",children:[n.jsx(Cn,{className:"h-4 w-4"}),"Roles"]}),n.jsxs(Ne,{value:"certificates",className:"flex items-center gap-2",children:[n.jsx(_i,{className:"h-4 w-4"}),"Certificates"]}),n.jsxs(Ne,{value:"jar-files",className:"flex items-center gap-2",children:[n.jsx(Tc,{className:"h-4 w-4"}),"Connection Drivers"]}),n.jsxs(Ne,{value:"adapter-types",className:"flex items-center gap-2",children:[n.jsx(ro,{className:"h-4 w-4"}),"Adapter Types"]}),n.jsxs(Ne,{value:"system-settings",className:"flex items-center gap-2",children:[n.jsx(nt,{className:"h-4 w-4"}),"System Settings"]}),n.jsxs(Ne,{value:"system-logs",className:"flex items-center gap-2",children:[n.jsx(Jx,{className:"h-4 w-4"}),"System Logs"]})]}),n.jsx(ye,{value:"users",className:"space-y-4",children:n.jsx(wZ,{users:e,isLoading:r,onRefresh:u})}),n.jsx(ye,{value:"roles",className:"space-y-4",children:n.jsx(NZ,{roles:a})}),n.jsx(ye,{value:"certificates",className:"space-y-4",children:n.jsx(bZ,{certificates:o})}),n.jsx(ye,{value:"jar-files",className:"space-y-4",children:n.jsx(PZ,{jarFiles:i,onJarFileAdded:m,onJarFileDeleted:h})}),n.jsx(ye,{value:"adapter-types",className:"space-y-4",children:n.jsx(mte,{})}),n.jsx(ye,{value:"system-settings",className:"space-y-4",children:n.jsx(pte,{})}),n.jsx(ye,{value:"system-logs",className:"space-y-4",children:n.jsx(ute,{})})]})]})},Xf=({selectedFunctionName:e="add"})=>{const[t,r]=p.useState(e),[s,a]=p.useState([]),[o,i]=p.useState(null),[l,d]=p.useState(""),c=wg(t);p.useEffect(()=>{if(c){const h=c.parameters.map(f=>{switch(f.type){case"number":return 0;case"boolean":return!1;case"array":return[];default:return""}});a(h),i(null),d("")}},[t,c]);const u=(h,f)=>{const j=[...s];if(c!=null&&c.parameters[h])switch(c.parameters[h].type){case"number":j[h]=parseFloat(f)||0;break;case"boolean":j[h]=f==="true";break;case"array":j[h]=f.split(",").map(w=>w.trim());break;default:j[h]=f}else j[h]=f;a(j)},m=()=>{if(c)try{d("");const h=hN.validateParameters(t,s);if(!h.valid){d(h.errors.join(", "));return}const f=hN.executeFunction(t,s);i(f)}catch(h){d(h instanceof Error?h.message:"Unknown error occurred")}};return c?n.jsxs(X,{className:"w-full max-w-md",children:[n.jsxs(re,{className:"pb-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(ae,{className:"text-lg",children:c.name}),n.jsx(oe,{variant:"outline",children:c.category})]}),n.jsx(ge,{className:"text-sm",children:c.description})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"text-sm font-medium",children:"Function:"}),n.jsx("select",{value:t,onChange:h=>r(h.target.value),className:"w-full p-2 border rounded text-sm",children:Ky.map(h=>n.jsxs("option",{value:h.name,children:[h.name," (",h.category,")"]},h.name))})]}),c.parameters.length>0&&n.jsxs("div",{className:"space-y-3",children:[n.jsx(C,{className:"text-sm font-medium",children:"Parameters:"}),c.parameters.map((h,f)=>{var j;return n.jsxs("div",{className:"space-y-1",children:[n.jsxs(C,{className:"text-xs",children:[h.name," (",h.type,")",h.required&&n.jsx("span",{className:"text-destructive",children:"*"})]}),h.type==="boolean"?n.jsxs("select",{value:((j=s[f])==null?void 0:j.toString())||"false",onChange:x=>u(f,x.target.value),className:"w-full p-1 border rounded text-sm",children:[n.jsx("option",{value:"false",children:"false"}),n.jsx("option",{value:"true",children:"true"})]}):n.jsx(O,{type:h.type==="number"?"number":"text",placeholder:h.description||`Enter ${h.name}`,value:h.type==="array"?(s[f]||[]).join(", "):s[f]||"",onChange:x=>u(f,x.target.value),className:"h-8 text-sm"}),h.description&&n.jsx("p",{className:"text-xs text-muted-foreground",children:h.description})]},h.name)})]}),n.jsxs(W,{onClick:m,className:"w-full",size:"sm",disabled:c.parameters.some(h=>h.required&&!s[c.parameters.indexOf(h)]),children:[n.jsx(ol,{className:"h-4 w-4 mr-2"}),"Execute Function"]}),(o!==null||l)&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"text-sm font-medium",children:"Result:"}),l?n.jsxs("div",{className:"p-2 bg-destructive/10 border border-destructive/20 rounded flex items-start gap-2",children:[n.jsx(xs,{className:"h-4 w-4 text-destructive mt-0.5 flex-shrink-0"}),n.jsx("p",{className:"text-sm text-destructive",children:l})]}):n.jsx("div",{className:"p-2 bg-muted rounded",children:n.jsx("pre",{className:"text-sm font-mono text-primary",children:JSON.stringify(o,null,2)})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"text-sm font-medium",children:"Java Code:"}),n.jsx("div",{className:"p-2 bg-muted rounded",children:n.jsx("code",{className:"text-xs font-mono",children:c.javaTemplate.replace(/{(\d+)}/g,(h,f)=>{const j=s[parseInt(f)];return typeof j=="string"?`"${j}"`:(j==null?void 0:j.toString())||`{${f}}`})})})]})]})]}):n.jsx(X,{children:n.jsx(te,{className:"p-4",children:n.jsx("p",{className:"text-muted-foreground",children:"Function not found"})})})},yte=()=>{const{user:e}=pl(),{toast:t}=Qe(),[r,s]=p.useState([]),[a,o]=p.useState(!1),[i,l]=p.useState(!1),[d,c]=p.useState(null),[u,m]=p.useState(!1),[h,f]=p.useState(!1),[j,x]=p.useState(!1),[w,v]=p.useState(!1),[g,y]=p.useState(null),[N,b]=p.useState({username:"",email:"",first_name:"",last_name:"",role:"viewer"});p.useEffect(()=>{E()},[]);const E=async()=>{try{f(!0);const k=await jn.getAllUsers();k.success&&k.data?s(k.data.users):t({title:"Error",description:k.error||"Failed to load users",variant:"destructive"})}catch{t({title:"Error",description:"Failed to load users",variant:"destructive"})}finally{f(!1)}},S=k=>"••••••••",P=async()=>{if(!N.username||!N.email){t({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}try{x(!0);const k={username:N.username,email:N.email,firstName:N.first_name||N.username,lastName:N.last_name||"",role:N.role,status:"active"},U=await jn.createUser(k);U.success?(t({title:"User Created",description:`User "${N.username}" has been created successfully`}),b({username:"",email:"",first_name:"",last_name:"",role:"viewer"}),o(!1),await E()):t({title:"Error",description:U.error||"Failed to create user",variant:"destructive"})}catch{t({title:"Error",description:"An unexpected error occurred while creating the user",variant:"destructive"})}finally{x(!1)}},_=async()=>{if(d)try{v(!0);const k={email:d.email,firstName:d.first_name,lastName:d.last_name,role:d.role,permissions:jn.getRolePermissions(d.role)},U=await jn.updateUser(d.id,k);U.success?(t({title:"User Updated",description:`User "${d.username}" has been updated successfully`}),l(!1),c(null),await E()):t({title:"Error",description:U.error||"Failed to update user",variant:"destructive"})}catch{t({title:"Error",description:"An unexpected error occurred while updating the user",variant:"destructive"})}finally{v(!1)}},T=async(k,U)=>{if((e==null?void 0:e.id)===k){t({title:"Cannot Delete",description:"You cannot delete your own account",variant:"destructive"});return}try{y(k);const M=await jn.deleteUser(k);M.success?(t({title:"User Deleted",description:`User "${U}" has been deleted`}),await E()):t({title:"Error",description:M.error||"Failed to delete user",variant:"destructive"})}catch{t({title:"Error",description:"An unexpected error occurred while deleting the user",variant:"destructive"})}finally{y(null)}},D=k=>{switch(k){case"administrator":return"default";case"integrator":return"secondary";case"viewer":return"outline";default:return"outline"}};return n.jsxs("div",{className:"p-6 space-y-6 animate-fade-in",children:[n.jsxs("div",{className:"animate-slide-up",children:[n.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[n.jsx(nt,{className:"h-8 w-8"}),"Settings"]}),n.jsx("p",{className:"text-muted-foreground",children:"Configure your IntegrixLab platform preferences"})]}),n.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[n.jsx("div",{className:"xl:col-span-3 space-y-6",children:n.jsxs(X,{className:"animate-scale-in",children:[n.jsxs(re,{children:[n.jsxs(ae,{className:"flex items-center gap-2",children:[n.jsx(ww,{className:"h-5 w-5"}),"Transformation Functions Demo"]}),n.jsx(ge,{children:"Test the transformation functions that can be used in field mappings"})]}),n.jsx(te,{children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:[n.jsx(Xf,{selectedFunctionName:"add"}),n.jsx(Xf,{selectedFunctionName:"concat"}),n.jsx(Xf,{selectedFunctionName:"if"})]})})]})}),n.jsx("div",{className:"xl:col-span-2 space-y-6",children:n.jsxs(X,{className:"animate-scale-in",children:[n.jsxs(re,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Bt,{className:"h-5 w-5"}),n.jsx(ae,{children:"User Management"})]}),n.jsxs(wt,{open:a,onOpenChange:o,children:[n.jsx(io,{asChild:!0,children:n.jsxs(W,{size:"sm",children:[n.jsx(aI,{className:"h-4 w-4 mr-2"}),"Add User"]})}),n.jsxs(xt,{children:[n.jsxs(Nt,{children:[n.jsx(bt,{children:"Create New User"}),n.jsx(va,{children:"Add a new user to the system with specified permissions"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"username",children:"Username *"}),n.jsx(O,{id:"username",value:N.username,onChange:k=>b({...N,username:k.target.value}),placeholder:"Enter username",disabled:j})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"email",children:"Email *"}),n.jsx(O,{id:"email",type:"email",value:N.email,onChange:k=>b({...N,email:k.target.value}),placeholder:"Enter email address",disabled:j})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"first_name",children:"First Name"}),n.jsx(O,{id:"first_name",value:N.first_name,onChange:k=>b({...N,first_name:k.target.value}),placeholder:"Enter first name",disabled:j})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"last_name",children:"Last Name"}),n.jsx(O,{id:"last_name",value:N.last_name,onChange:k=>b({...N,last_name:k.target.value}),placeholder:"Enter last name",disabled:j})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"role",children:"Role"}),n.jsxs(Z,{value:N.role,onValueChange:k=>b({...N,role:k}),disabled:j,children:[n.jsx(Q,{children:n.jsx(ee,{})}),n.jsxs(J,{children:[n.jsx(A,{value:"administrator",children:"Administrator"}),n.jsx(A,{value:"integrator",children:"Integrator"}),n.jsx(A,{value:"viewer",children:"Viewer"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{children:"Permissions"}),n.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(jn.getRolePermissions(N.role)).map(([k,U])=>U.map(M=>n.jsxs(oe,{variant:"outline",className:"text-xs",children:[k,":",M]},`${k}:${M}`)))})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(W,{variant:"outline",onClick:()=>o(!1),disabled:j,children:"Cancel"}),n.jsx(W,{onClick:P,disabled:j,children:j?"Creating...":"Create User"})]})]})]})]})]}),n.jsx(ge,{children:"Manage user accounts and permissions"})]}),n.jsx(te,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(C,{className:"text-sm font-medium",children:["System Users (",r.length,")",h&&n.jsx("span",{className:"text-muted-foreground",children:" - Loading..."})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(W,{variant:"ghost",size:"sm",onClick:E,disabled:h,children:[n.jsx(hn,{className:`h-4 w-4 mr-2 ${h?"animate-spin":""}`}),"Refresh"]}),n.jsxs(W,{variant:"ghost",size:"sm",onClick:()=>m(!u),children:[u?n.jsx(Xx,{className:"h-4 w-4 mr-2"}):n.jsx(kc,{className:"h-4 w-4 mr-2"}),u?"Hide":"Show"," Passwords"]})]})]}),n.jsx("div",{className:"space-y-3",children:r.map(k=>n.jsx("div",{className:"border border-border rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("span",{className:"font-medium",children:k.username}),n.jsx(oe,{variant:D(k.role),className:"text-xs",children:k.role.toUpperCase()}),k.id===(e==null?void 0:e.id)&&n.jsx(oe,{variant:"outline",className:"text-xs",children:"Current User"})]}),n.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[n.jsxs("div",{children:["Email: ",k.email]}),u&&n.jsxs("div",{children:["Password: ",n.jsx("code",{className:"bg-muted px-1 rounded",children:S(k.username)})]}),n.jsxs("div",{children:["Created: ",k.created_at]}),k.last_login_at&&n.jsxs("div",{children:["Last Login: ",new Date(k.last_login_at).toLocaleDateString()]})]}),n.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:k.permissions&&Object.entries(k.permissions).map(([U,M])=>M.map($=>n.jsxs(oe,{variant:"outline",className:"text-xs",children:[U,":",$]},`${U}:${$}`)))})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(wt,{open:i&&(d==null?void 0:d.id)===k.id,onOpenChange:U=>{l(U),U||c(null)},children:[n.jsx(io,{asChild:!0,children:n.jsx(W,{variant:"ghost",size:"sm",onClick:()=>c({...k}),children:n.jsx(il,{className:"h-4 w-4"})})}),n.jsxs(xt,{children:[n.jsxs(Nt,{children:[n.jsx(bt,{children:"Edit User"}),n.jsx(va,{children:"Update user information and permissions"})]}),d&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{children:"Username"}),n.jsx(O,{value:d.username,disabled:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"edit-email",children:"Email"}),n.jsx(O,{id:"edit-email",type:"email",value:d.email,onChange:U=>c({...d,email:U.target.value}),disabled:w})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"edit-first_name",children:"First Name"}),n.jsx(O,{id:"edit-first_name",value:d.first_name||"",onChange:U=>c({...d,first_name:U.target.value}),disabled:w})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"edit-last_name",children:"Last Name"}),n.jsx(O,{id:"edit-last_name",value:d.last_name||"",onChange:U=>c({...d,last_name:U.target.value}),disabled:w})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{htmlFor:"edit-role",children:"Role"}),n.jsxs(Z,{value:d.role,onValueChange:U=>c({...d,role:U}),disabled:w,children:[n.jsx(Q,{children:n.jsx(ee,{})}),n.jsxs(J,{children:[n.jsx(A,{value:"administrator",children:"Administrator"}),n.jsx(A,{value:"integrator",children:"Integrator"}),n.jsx(A,{value:"viewer",children:"Viewer"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{children:"Permissions"}),n.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(jn.getRolePermissions(d.role)).map(([U,M])=>M.map($=>n.jsxs(oe,{variant:"outline",className:"text-xs",children:[U,":",$]},`${U}:${$}`)))})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(W,{variant:"outline",onClick:()=>l(!1),disabled:w,children:"Cancel"}),n.jsx(W,{onClick:_,disabled:w,children:w?"Updating...":"Update User"})]})]})]})]}),n.jsx(W,{variant:"ghost",size:"sm",className:"text-destructive hover:text-destructive",onClick:()=>T(k.id,k.username),disabled:k.id===(e==null?void 0:e.id)||g===k.id,children:g===k.id?n.jsx(hn,{className:"h-4 w-4 animate-spin"}):n.jsx(ba,{className:"h-4 w-4"})})]})]})},k.id))})]})})]})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(X,{className:"animate-scale-in",style:{animationDelay:"0.1s"},children:[n.jsx(re,{children:n.jsxs(ae,{className:"flex items-center gap-2",children:[n.jsx(YC,{className:"h-5 w-5"}),"Notifications"]})}),n.jsx(te,{className:"space-y-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm",children:"Flow failures"}),n.jsx(oe,{variant:"default",children:"Enabled"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm",children:"Daily reports"}),n.jsx(oe,{variant:"secondary",children:"Disabled"})]})]})})]}),n.jsxs(X,{className:"animate-scale-in",style:{animationDelay:"0.2s"},children:[n.jsx(re,{children:n.jsxs(ae,{className:"flex items-center gap-2",children:[n.jsx(ww,{className:"h-5 w-5"}),"Interface"]})}),n.jsx(te,{className:"space-y-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm",children:"Dark mode"}),n.jsx(oe,{variant:"default",children:"Active"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm",children:"Compact view"}),n.jsx(oe,{variant:"secondary",children:"Disabled"})]})]})})]}),n.jsxs(X,{className:"animate-scale-in",style:{animationDelay:"0.3s"},children:[n.jsx(re,{children:n.jsxs(ae,{className:"flex items-center gap-2",children:[n.jsx(Cn,{className:"h-5 w-5"}),"Security"]})}),n.jsx(te,{className:"space-y-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm",children:"Session timeout"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"24 hours"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm",children:"Multi-factor auth"}),n.jsx(oe,{variant:"secondary",children:"Disabled"})]})]})})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsxs(W,{variant:"outline",children:[n.jsx(hn,{className:"h-4 w-4 mr-2"}),"Reset to Defaults"]}),n.jsxs(W,{className:"bg-gradient-primary hover:opacity-90",children:[n.jsx(jo,{className:"h-4 w-4 mr-2"}),"Save Settings"]})]})]})},jte=()=>{const e=Cs();return p.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-secondary",children:n.jsxs(X,{className:"w-full max-w-md shadow-elegant text-center",children:[n.jsxs(re,{className:"space-y-4",children:[n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("div",{className:"h-12 w-12 rounded-xl bg-gradient-primary flex items-center justify-center",children:n.jsx(vs,{className:"h-6 w-6 text-primary-foreground"})})}),n.jsx(ae,{className:"text-4xl font-bold text-foreground",children:"404"}),n.jsx(ge,{className:"text-xl",children:"Oops! Page not found"})]}),n.jsxs(te,{children:[n.jsx("p",{className:"text-muted-foreground mb-6",children:"The page you're looking for doesn't exist or has been moved."}),n.jsx(W,{asChild:!0,className:"bg-gradient-primary hover:opacity-90",children:n.jsx("a",{href:"/dashboard",children:"Return to Dashboard"})})]})]})})},wte=new s$,Nte=()=>n.jsx(o$,{client:wte,children:n.jsxs(_L,{children:[n.jsx(BI,{}),n.jsx(v3,{}),n.jsx(a5,{children:n.jsx(g5,{children:n.jsxs(Q$,{children:[n.jsx(Tt,{path:"/login",element:n.jsx(q8,{})}),n.jsxs(Tt,{path:"/",element:n.jsx(Qw,{children:n.jsx(H8,{})}),children:[n.jsx(Tt,{index:!0,element:n.jsx(Eh,{to:"/admin",replace:!0})}),n.jsx(Tt,{path:"dashboard",element:n.jsx(FU,{})}),n.jsx(Tt,{path:"create-flow",element:n.jsx(_U,{})}),n.jsx(Tt,{path:"create-direct-mapping-flow",element:n.jsx(XW,{})}),n.jsx(Tt,{path:"create-orchestration-flow",element:n.jsx(pY,{})}),n.jsx(Tt,{path:"create-communication-adapter",element:n.jsx(UX,{})}),n.jsx(Tt,{path:"data-structures",element:n.jsx(cQ,{})}),n.jsx(Tt,{path:"business-components",element:n.jsx(bQ,{})}),n.jsx(Tt,{path:"interfaces",element:n.jsx(pZ,{})}),n.jsx(Tt,{path:"interfaces/:flowId/details",element:n.jsx(fZ,{})}),n.jsx(Tt,{path:"messages",element:n.jsx($Q,{})}),n.jsx(Tt,{path:"channels",element:n.jsx(iZ,{})}),n.jsx(Tt,{path:"admin",element:n.jsx(vte,{})}),n.jsx(Tt,{path:"settings",element:n.jsx(yte,{})})]}),n.jsx(Tt,{path:"*",element:n.jsx(Qw,{children:n.jsx(jte,{})})})]})})})]})});jC(document.getElementById("root")).render(n.jsx(Nte,{}));
